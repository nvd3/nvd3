/* nvd3 version 1.8.6-dev (https://github.com/novus/nvd3) 2020-01-20 */

!function(){var t={dev:!1};t.tooltip=t.tooltip||{},t.utils=t.utils||{},t.models=t.models||{},t.charts={},t.logs={},t.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),t.dispatch=d3.dispatch("start","end"),d3.functor=function(t){return"function"==typeof t?t:function(){return t}},d3.rebind=function(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),t.dev&&(t.dispatch.on("start",function(e){t.logs.startTime=+new Date}),t.dispatch.on("end",function(e){t.logs.endTime=+new Date,t.logs.totalTime=t.logs.endTime-t.logs.startTime,t.log("total",t.logs.totalTime)})),t.log=function(){if(t.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(t.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){Function.prototype.bind.call(console.log,console).apply(console,arguments)}return arguments[arguments.length-1]},t.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},t.render=function(e){e=e||1,t.render.active=!0,t.dispatch.call("start");var n=function(){for(var r,i,o=0;o<e&&(i=t.render.queue[o]);o++)r=i.generate(),typeof i.callback==typeof Function&&i.callback(r);t.render.queue.splice(0,o),t.render.queue.length?setTimeout(n):(t.dispatch.call("end"),t.render.active=!1)};setTimeout(n)},t.render.active=!1,t.render.queue=[],t.addGraph=function(e){typeof arguments[0]==typeof Function&&(e={generate:arguments[0],callback:arguments[1]}),t.render.queue.push(e),t.render.active||t.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=t),"undefined"!=typeof window&&(window.nv=t),t.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},t.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},t.interactiveGuideline=function(){"use strict";var e={left:0,top:0},n=null,r=null,i=d3.scaleLinear(),o=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),a=!0,s=null,l=t.models.tooltip(),u=window.ActiveXObject;function c(d){d.each(function(d){var f=d3.select(this),h=n||960,p=r||400,v=f.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]);function g(){var t=d3.event.clientX-this.getBoundingClientRect().left,n=d3.event.clientY-this.getBoundingClientRect().top,r=!0,a=!1;if(u&&(t=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(a=!0)),r&&(t-=e.left,n-=e.top),"mouseout"===d3.event.type||t<0||n<0||t>h||n>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||a){if(u&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(l.nvPointerEventsClass)))return;return o.call("elementMouseout",this,{mouseX:t,mouseY:n}),c.renderGuideLine(null),void l.hidden(!0)}l.hidden(!1);var s=void 0;if("function"==typeof i.rangeBands){var d=d3.bisect(i.range(),t)-1;if(!(i.range()[d]+i.rangeBand()>=t))return o.call("elementMouseout",this,{mouseX:t,mouseY:n}),c.renderGuideLine(null),void l.hidden(!0);s=i.domain()[d3.bisect(i.range(),t)-1]}else s=i.invert(t);o.call("elementMousemove",this,{mouseX:t,mouseY:n,pointXValue:s}),"dblclick"===d3.event.type&&o.call("elementDblclick",this,{mouseX:t,mouseY:n,pointXValue:s}),"click"===d3.event.type&&o.call("elementClick",this,{mouseX:t,mouseY:n,pointXValue:s}),"mousedown"===d3.event.type&&o.call("elementMouseDown",this,{mouseX:t,mouseY:n,pointXValue:s}),"mouseup"===d3.event.type&&o.call("elementMouseUp",this,{mouseX:t,mouseY:n,pointXValue:s})}v.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),s&&(s.on("touchmove",g).on("mousemove",g,!0).on("mouseout",g,!0).on("mousedown",g,!0).on("mouseup",g,!0).on("dblclick",g).on("click",g),c.guideLine=null,c.renderGuideLine=function(e){a&&(c.guideLine&&c.guideLine.attr("x1")===e||t.dom.write(function(){var n=v.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[t.utils.NaNtoZero(e)]:[],String);n.exit().remove(),n.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",p).attr("y2",0).merge(n)}))})})}return l.duration(0).hideDelay(0).hidden(!1),c.dispatch=o,c.tooltip=l,c.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.left=void 0!==t.left?t.left:e.left,c):e},c.width=function(t){return arguments.length?(n=t,c):n},c.height=function(t){return arguments.length?(r=t,c):r},c.xScale=function(t){return arguments.length?(i=t,c):i},c.showGuideLine=function(t){return arguments.length?(a=t,c):a},c.svgContainer=function(t){return arguments.length?(s=t,c):s},c},t.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!=typeof n?function(t){return t.x}:n;var i=d3.bisector(function(t,e){return r(t)-e}).left,o=d3.max([0,i(t,e)-1]),a=r(t[o]);if(void 0===a&&(a=o),a===e)return o;var s=d3.min([o+1,t.length-1]),l=r(t[s]);return void 0===l&&(l=s),Math.abs(l-e)>=Math.abs(a-e)?o:s},t.nearestValueIndex=function(t,e,n){"use strict";var r=1/0,i=null;return t.forEach(function(t,o){var a=Math.abs(e-t);null!=t&&a<=r&&a<n&&(r=a,i=o)}),i},t.models.tooltip=function(){"use strict";var e="nvtooltip-"+Math.floor(1e5*Math.random()),n=null,r="w",i=25,o=0,a=null,s=!0,l=200,u=null,c={left:null,top:null},d=!0,f=100,h=d3.transition().delay(l).duration(0),p=!0,v="nv-pointer-events-none",g=function(t,e,n){return t},m=function(t){return t},y=function(t,e){return t},x=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));p&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(m(t.value));var r=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),r.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return y(t.key,e)}),r.append("td").classed("value",!0).html(function(t,e){return g(t.value,e,t)}),r.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),r.selectAll("td").each(function(t){if(t.highlight){var e=d3.scaleLinear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var i=n.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},b=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},k=function(e){if(e&&e.series){if(t.utils.isArray(e.series))return!0;if(t.utils.isObject(e.series))return e.series=[e.series],!0}return!1},w=function(){t.dom.read(function(){var t=b(),e=function(t){var e,n,o,a=u.node().offsetHeight,s=u.node().offsetWidth,l=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(r){case"e":e=-s-i,n=-a/2,t.left+e<0&&(e=i),(o=t.top+n)<0&&(n-=o),(o=t.top+n+a)>c&&(n-=o-c);break;case"w":e=i,n=-a/2,t.left+e+s>l&&(e=-s-i),(o=t.top+n)<0&&(n-=o),(o=t.top+n+a)>c&&(n-=o-c);break;case"n":e=-s/2-5,n=i,t.top+n+a>c&&(n=-a-i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+s)>l&&(e-=o-l);break;case"s":e=-s/2,n=-a-i,t.top+n<0&&(n=i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+s)>l&&(e-=o-l);break;case"center":e=-s/2,n=-a/2;break;default:e=0,n=0}return{left:e,top:n}}(t),n=t.left+e.left,o=t.top+e.top;if(s)u.interrupt().transition(h).style("opacity",0);else{var a="translate("+c.left+"px, "+c.top+"px)",l="translate("+Math.round(n)+"px, "+Math.round(o)+"px)",d=d3.interpolateString(a,l),p=u.style("opacity")<.1,v=d3.transition().duration(p?0:f).ease(d3.easeLinear);u.interrupt().transition(v).styleTween("transform",function(t){return d},"important").styleTween("-webkit-transform",function(t){return d}).style("-ms-transform",l).style("opacity",1)}c.left=n,c.top=o})};function M(){if(d&&k(n))return t.dom.write(function(){u&&u.node()||((u=d3.select(document.body).selectAll("#"+e).data([1])).enter().append("div").attr("class","nvtooltip "+(a||"xy-tooltip")).attr("id",e).style("top",0).style("left",0).style("opacity",0).style("position","absolute").selectAll("div, table, td, tr").classed(v,!0).classed(v,!0),u.exit().remove());var t=x(n,u.node());t&&(u.node().innerHTML=t),w()}),M}return M.nvPointerEventsClass=v,M.options=t.utils.optionsFunc.bind(M),M._options=Object.create({},{duration:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return r},set:function(t){r=t}},distance:{get:function(){return i},set:function(t){i=t}},snapDistance:{get:function(){return o},set:function(t){o=t}},classes:{get:function(){return a},set:function(t){a=t}},enabled:{get:function(){return d},set:function(t){d=t}},hideDelay:{get:function(){return l},set:function(t){l=t,h=d3.transition().delay(l).duration(0)}},contentGenerator:{get:function(){return x},set:function(t){x=t}},valueFormatter:{get:function(){return g},set:function(t){g=t}},headerFormatter:{get:function(){return m},set:function(t){m=t}},keyFormatter:{get:function(){return y},set:function(t){y=t}},headerEnabled:{get:function(){return p},set:function(t){p=t}},position:{get:function(){return b},set:function(t){b=t}},chartContainer:{get:function(){return document.body},set:function(e){t.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(e){t.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(e){t.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return s},set:function(t){s!=t&&(s=!!t,M())}},data:{get:function(){return n},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),n=t}},node:{get:function(){return u.node()},set:function(t){}},id:{get:function(){return e},set:function(t){}}}),t.utils.initOptions(M),M},t.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},t.utils.isArray=Array.isArray,t.utils.isObject=function(t){return null!==t&&"object"==typeof t},t.utils.isFunction=function(t){return"function"==typeof t},t.utils.isDate=function(t){return"[object Date]"===toString.call(t)},t.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},t.utils.windowResize=function(e){return window.addEventListener?window.addEventListener("resize",e):t.log("ERROR: Failed to bind to window.resize with: ",e),{callback:e,clear:function(){window.removeEventListener("resize",e)}}},t.utils.getColor=function(e){if(void 0===e)return t.utils.defaultColor();if(t.utils.isArray(e)){var n=new Array;if(d3.min(e)===e[0]){n.push(0);for(var r=1;r<e.length-1;r++)n.push(r);n.push(e.length-1)}else{n.push(e.length-1);for(r=e.length-2;r>0;r--)n.push(r);n.push(0)}var i=d3.scaleQuantile().domain(n).range(e);return function(t,e){var n=void 0===e?t:e;return t.color||i(n)}}return e},t.utils.defaultColor=function(){return t.utils.getColor(d3.scaleOrdinal(d3.schemeAccent).range())},t.utils.customTheme=function(e,n,r){n=n||function(t){return t.key};var i=(r=r||d3.scaleOrdinal(d3.schemeAccent).range()).length;return function(o,a){var s=n(o);return t.utils.isFunction(e[s])?e[s]():void 0!==e[s]?e[s]:(i||(i=r.length),r[i-=1])}},t.utils.pjax=function(e,n){var r=function(r){d3.html(r,function(r){var i=d3.select(n).node();i.parentNode.replaceChild(d3.select(r).select(n).node(),i),t.utils.pjax(e,n)})};d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})},t.utils.calcApproxTextWidth=function(e){if(t.utils.isFunction(e.style)&&t.utils.isFunction(e.text)){var n=parseInt(e.style("font-size").replace("px",""),10),r=e.text().length;return t.utils.NaNtoZero(r*n*.5)}return 0},t.utils.NaNtoZero=function(e){return!t.utils.isNumber(e)||isNaN(e)||null===e||e===1/0||e===-1/0?0:e},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},t.utils.renderWatch=function(e,n){if(!(this instanceof t.utils.renderWatch))return new t.utils.renderWatch(e,n);var r=void 0!==n?n:250,i=[],o=this;this.models=function(t){return[].slice.call(arguments,0).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(t){e.__rendered=!0,o.renderEnd("model")}),i.indexOf(t)<0&&i.push(t)}),this},this.reset=function(t){void 0!==t&&(r=t),i=[]},this.transition=function(t,e,n){if(n=(e=arguments.length>1?[].slice.call(arguments,1):[]).length>1?e.pop():void 0!==r?r:250,this.t=d3.transition().duration(n).ease(d3.easeLinear),t.__rendered=!1,i.indexOf(t)<0&&i.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.filter(function(t,e){return void 0!==t&&!t.length})?t.__rendered=!0:t.__rendered=!1;var a=0;return t.transition(this.t).each(function(){++a}).on("end",function(n,r){0==--a&&(t.__rendered=!0,o.renderEnd.apply(this,e))})},this.renderEnd=function(){i.every(function(t){return t.__rendered})&&(i.forEach(function(t){t.__rendered=!1}),e.apply("renderEnd",this,arguments))}},t.utils.deepExtend=function(e){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(n){for(var r in n){var i=t.utils.isArray(e[r]),o=t.utils.isObject(e[r]),a=t.utils.isObject(n[r]);o&&!i&&a?t.utils.deepExtend(e[r],n[r]):e[r]=n[r]}})},t.utils.state=function(){if(!(this instanceof t.utils.state))return new t.utils.state;var e={},n=function(){},r=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){n(t,!0)}),this.getter=function(t){return r=t,this},this.setter=function(t,e){return e||(e=function(){}),n=function(n,r){t(n),r&&e()},this},this.init=function(e){i=i||{},t.utils.deepExtend(i,e)};this.update=function(){i&&(n(i,!1),i=null),function(){var t=r();if(JSON.stringify(t)===JSON.stringify(e))return!1;for(var n in t)void 0===e[n]&&(e[n]={}),e[n]=t[n],!0;return!0}.call(this)&&this.dispatch.call("change",this,e)}},t.utils.optionsFunc=function(e){return e&&d3.map(e).each(((e,n)=>{t.utils.isFunction(this[e])&&this[e](n)}).bind(this)),this},t.utils.calcTicksX=function(e,n){for(var r=1,i=0;i<n.length;i+=1){var o=n[i]&&n[i].values?n[i].values.length:0;r=o>r?o:r}return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",r),e=(e=e>r?e=r-1:e)<1?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e},t.utils.calcTicksY=function(e,n,r){if(r){for(var i=1,o=0;o<n.length;o+=1)for(var a,s=n[o]&&n[o].values?n[o].values:[],l=0;l<s.length;l+=1)i=(a=s[l]&&r(s[l])?r(s[l]):0)>i?a:i;return t.log("Requested number of ticks: ",e),t.log("Calculated max values to be: ",i),e=(e=e>i?i-1:e)<1?1:e,e=Math.floor(e),t.log("Calculating tick count as: ",e),e}return t.utils.calcTicksX(e,n)},t.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},t.utils.initOptions=function(e){e._overrides=e._overrides||{};var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{});for(var i in n=n.concat(r))t.utils.initOption(e,n[i])},t.utils.inheritOptionsD3=function(e,n,r){e._d3options=r.concat(e._d3options||[]),e._d3options=(e._d3options||[]).filter(function(t,e,n){return n.indexOf(t)===e}),r.unshift(n),r.unshift(e),t.utils.rebind.apply(this,r)},t.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},t.utils.symbolMap=d3.map(),t.utils.symbol=function(){var e,n=64;function r(r,i){var o=e.call(this,r,i),a=n.call(this,r,i);return void 0===t.utils.symbolMap.get(o)?d3.symbol(o)(a):t.utils.symbolMap.get(o)(a)}return r.type=function(t){return arguments.length?(e="function"==typeof t?t:function(){return t},r):e},r.size=function(t){return arguments.length?(n="function"==typeof t?t:function(){return t},r):n},r},t.utils.inheritOptions=function(e,n){var r=Object.getOwnPropertyNames(n._options||{}),i=Object.getOwnPropertyNames(n._calls||{}),o=n._inherited||[],a=n._d3options||[],s=r.concat(i).concat(o).concat(a);s.unshift(n),s.unshift(e),t.utils.rebind.apply(this,s),e._inherited=t.utils.arrayUnique(r.concat(i).concat(o).concat(r).concat(e._inherited||[])),e._d3options=t.utils.arrayUnique(a.concat(e._d3options||[]))},t.utils.rebind=function(e,n){for(var r,i=1,o=arguments.length;++i<o;)e[r=arguments[i]]=t.utils.d3_rebind(e,n,n[r]);return e},t.utils.d3_rebind=function(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}},t.utils.initSVG=function(t){t.classed("nvd3-svg",!0)},t.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},t.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},t.utils.availableHeight=function(e,n,r){return Math.max(0,t.utils.sanitizeHeight(e,n)-r.top-r.bottom)},t.utils.availableWidth=function(e,n,r){return Math.max(0,t.utils.sanitizeWidth(e,n)-r.left-r.right)},t.utils.noData=function(e,n){var r=e.options(),i=r.margin(),o=r.noData(),a=null==o?["No Data Available."]:[o],s=t.utils.availableHeight(null,n,i),l=t.utils.availableWidth(null,n,i),u=i.left+l/2,c=i.top+s/2;n.selectAll("g").remove();var d=n.selectAll(".nv-noData").data(a);d.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),d.attr("x",u).attr("y",c).text(function(t){return t})},t.utils.wrapTicks=function(t,e){t.each(function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),i=[],o=0,a=n.attr("y"),s=parseFloat(n.attr("dy")),l=n.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",s+"em");t=r.pop();)i.push(t),l.text(i.join(" ")),l.node().getComputedTextLength()>e&&(i.pop(),l.text(i.join(" ")),i=[t],l=n.append("tspan").attr("x",0).attr("y",a).attr("dy",1.1*++o+s+"em").text(t))})},t.utils.arrayEquals=function(e,n){if(e===n)return!0;if(!e||!n)return!1;if(e.length!=n.length)return!1;for(var r=0,i=e.length;r<i;r++)if(e[r]instanceof Array&&n[r]instanceof Array){if(!t.arrayEquals(e[r],n[r]))return!1}else if(e[r]!=n[r])return!1;return!0},t.utils.pointIsInArc=function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),s=t.x*t.x+t.y*t.y,l=Math.atan2(t.x,-t.y);return l=l<0?l+2*Math.PI:l,r*r<=s&&s<=i*i&&o<=l&&l<=a},t.models.axis=function(e,n){"use strict";var r,i,o=d3.scaleBand(),a={top:0,right:0,bottom:0,left:0},s=75,l=60,u=null,c=!0,d=0,f=!0,h=!1,p=!1,v=null,g=0,m=void 0,y=250,x=d3.dispatch("renderEnd");e.tickFormat(t=>t);var b=t.utils.renderWatch(x,y);function k(l){return b.reset(),l.each(function(l){var y=d3.select(this);t.utils.initSVG(y);var x=y.selectAll("g.nv-wrap.nv-axis").data([l]),k=x.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");x.select("g");null!==v?e.ticks(v):"top"!==n&&"bottom"!==n||e.ticks(Math.abs(o.range()[1]-o.range()[0])/100),k.watchTransition(b,"axis").call(e),i=i||e.scale();var w=e.tickFormat();null==w&&(w=i.tickFormat());var M,A,C,S=k.selectAll("text.nv-axislabel").data([u||null]);switch(S.exit().remove(),void 0!==m&&k.selectAll("g").select("text").style("font-size",m),n){case"top":M=g+36;var L=S.enter().append("text").attr("class","nv-axislabel");C=0,1===o.range().length?C=p?2*o.range()[0]+o.bandwidth():0:2===o.range().length?C=p?o.range()[0]+o.range()[1]+o.bandwidth():o.range()[1]:o.range().length>2&&(C=o.range()[o.range().length-1]+(o.range()[1]-o.range()[0])),L.attr("text-anchor","middle").attr("y",-M).attr("x",C/2),c&&((A=x.selectAll("g.nv-axisMaxMin").data(o.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),A.exit().remove(),A.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(o(e))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=(r||w)(t);return(""+n).match("NaN")?"":n}),A.watchTransition(b,"min-max top").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(o.range()[n])+",0)"}));break;case"bottom":M=g+36;var F=30,E=0,W=k.selectAll("g").select("text"),O="";if(d%360){W.attr("transform",""),W.each(function(t,e){var n=this.getBoundingClientRect(),r=n.width;E=n.height,r>F&&(F=r)}),O="rotate("+d+" 0,"+(E/2+e.tickPadding())+")";var N=Math.abs(Math.sin(d*Math.PI/180));M=(N?N*F:F)+30,W.attr("transform",O).style("text-anchor",d%360>0?"start":"end")}else h?W.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):W.attr("transform","translate(0,0)");L=S.enter().append("text").attr("class","nv-axislabel"),C=0,1===o.range().length?C=p?2*o.range()[0]+o.bandwidth():0:2===o.range().length?C=p?o.range()[0]+o.range()[1]+o.bandwidth():o.range()[1]:o.range().length>2&&(C=o.range()[o.range().length-1]+(o.range()[1]-o.range()[0])),L.attr("text-anchor","middle").attr("y",M).attr("x",C/2),c&&((A=x.selectAll("g.nv-axisMaxMin").data([o.domain()[0],o.domain()[o.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),A.exit().remove(),A.attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(o(e)+(p?o.bandwidth()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",O).style("text-anchor",d?d%360>0?"start":"end":"middle").text(function(t,e){var n=(r||w)(t);return(""+n).match("NaN")?"":n}),A.watchTransition(b,"min-max bottom").attr("transform",function(e,n){return"translate("+t.utils.NaNtoZero(o(e)+(p?o.bandwidth()/2:0))+",0)"}));break;case"right":(L=S.enter().append("text").attr("class","nv-axislabel")).style("text-anchor",f?"middle":"begin").attr("transform",f?"rotate(90)":"").attr("y",f?12-Math.max(a.right,s)-(g||0):-10).attr("x",f?d3.max(o.range())/2:e.tickPadding()),c&&((A=x.selectAll("g.nv-axisMaxMin").data(o.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),A.exit().remove(),A.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(o(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(t,e){var n=(r||w)(t);return(""+n).match("NaN")?"":n}),A.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(o.range()[n])+")"}).select("text").style("opacity",1));break;case"left":(L=S.enter().append("text").attr("class","nv-axislabel")).style("text-anchor",f?"middle":"end").attr("transform",f?"rotate(-90)":"").attr("y",f?25-Math.max(a.left,s)-(g||0):-10).attr("x",f?-d3.max(o.range())/2:-e.tickPadding()),c&&((A=x.selectAll("g.nv-axisMaxMin").data(o.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),A.exit().remove(),A.attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(i(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=(r||w)(t);return(""+n).match("NaN")?"":n}),A.watchTransition(b,"min-max right").attr("transform",function(e,n){return"translate(0,"+t.utils.NaNtoZero(o.range()[n])+")"}).select("text").style("opacity",1))}if(L.text(function(t){return t}),!c||"left"!==n&&"right"!==n||(k.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(o(t)<o.range()[1]+10||o(t)>o.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),o.domain()[0]==o.domain()[1]&&0==o.domain()[0]&&x.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),c&&("top"===n||"bottom"===n)){var D=[];x.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?D.push(o(t)-this.getBoundingClientRect().width-4):D.push(o(t)+this.getBoundingClientRect().width+4)}catch(n){e?D.push(o(t)-4):D.push(o(t)+4)}}),k.selectAll("g").each(function(t,e){(o(t)<D[0]||o(t)>D[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}k.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),i=o.copy()}),b.renderEnd("axis immediate"),k}return k.axis=e,k.dispatch=x,k.options=t.utils.optionsFunc.bind(k),k._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(t){g=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},rotateLabels:{get:function(){return d},set:function(t){d=t}},rotateYLabel:{get:function(){return f},set:function(t){f=t}},showMaxMin:{get:function(){return c},set:function(t){c=t}},axisLabel:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return l},set:function(t){l=t}},ticks:{get:function(){return v},set:function(t){v=t}},width:{get:function(){return s},set:function(t){s=t}},fontSize:{get:function(){return m},set:function(t){m=t}},tickFormatMaxMin:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return y},set:function(t){y=t,b.reset(y)}},scale:{get:function(){return o},set:function(n){o=n,e.scale(o),p="function"==typeof o.rangeBands,t.utils.inheritOptionsD3(k,o,["domain","range"])}}}),t.utils.initOptions(k),t.utils.inheritOptionsD3(k,e,["tickValues","tickSubdivide","tickSizeInner","tickSizeOuter","tickPadding","tickFormat"]),t.utils.inheritOptionsD3(k,o,["domain","range"]),k},t.models.boxPlot=function(){"use strict";var e,n,r,i,o,a,s={top:0,right:0,bottom:0,left:0},l=960,u=500,c=Math.floor(1e4*Math.random()),d=d3.scaleBand(),f=d3.scaleLinear(),h=function(t){return t.label},p=function(t){return t.values.Q1},v=function(t){return t.values.Q2},g=function(t){return t.values.Q3},m=function(t){return t.values.whisker_low},y=function(t){return t.values.whisker_high},x=function(t){return t.color},b=function(t){return t.values.outliers},k=function(t,e,n){return t},w=function(t,e,n){return t},M=function(t,e,n){},A=t.utils.defaultColor(),C=null,S=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),L=250,F=null,E=t.utils.renderWatch(S,L);function W(c){return E.reset(),c.each(function(c){var W=l-s.left-s.right,O=u-s.top-s.bottom;C=d3.select(this),t.utils.initSVG(C),d.domain(e||c.map(function(t,e){return h(t,e)})).range(n||[0,W],.1);var N=[];if(!r){var D=[];c.forEach(function(t,e){var n=p(t),r=g(t),i=m(t),o=y(t),a=b(t);a&&a.forEach(function(t,e){D.push(k(t,e,void 0))}),i&&D.push(i),n&&D.push(n),r&&D.push(r),o&&D.push(o)}),N=[d3.min(D),d3.max(D)]}f.domain(r||N),f.range(i||[O,0]),o=o||d,a=a||f.copy().range([f(0),f(0)]);var T=C.selectAll("g.nv-wrap").data([c]);T.enter().append("g").attr("class","nvd3 nv-wrap");T.attr("transform","translate("+s.left+","+s.top+")");var _=T.selectAll(".nv-boxplot").data(function(t){return t}),P=_.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);_.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(d(h(t,e))+.05*d.bandwidth())+", 0)"}).classed("hover",function(t){return t.hover}),_.watchTransition(E,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*L/c.length}).attr("transform",function(t,e){return"translate("+(d(h(t,e))+.05*d.bandwidth())+", 0)"}),_.exit().remove(),P.each(function(t,e){var n=d3.select(this);[m,y].forEach(function(r){if(void 0!==r(t)&&null!==r(t)){var i=r===m?"low":"high";n.append("line").style("stroke",x(t)||A(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",x(t)||A(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}})});var I=function(){return null===F?.9*d.bandwidth():Math.min(75,.9*d.bandwidth())},B=function(){return.45*d.bandwidth()-I()/2},V=function(){return.45*d.bandwidth()+I()/2};[m,y].forEach(function(t){var e=t===m?"low":"high",n=t===m?p:g;_.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(E,"nv-boxplot: boxplots").attr("x1",.45*d.bandwidth()).attr("y1",function(e,n){return f(t(e))}).attr("x2",.45*d.bandwidth()).attr("y2",function(t,e){return f(n(t))}),_.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(E,"nv-boxplot: boxplots").attr("x1",B).attr("y1",function(e,n){return f(t(e))}).attr("x2",V).attr("y2",function(e,n){return f(t(e))})}),[m,y].forEach(function(t){var e=t===m?"low":"high";P.selectAll(".nv-boxplot-"+e).on("mouseover",function(e,n,r){d3.select(this).classed("hover",!0),S.call("elementMouseover",this,{series:{key:t(e),color:x(e)||A(e,r)},e:d3.event})}).on("mouseout",function(e,n,r){d3.select(this).classed("hover",!1),S.call("elementMouseout",this,{series:{key:t(e),color:x(e)||A(e,r)},e:d3.event})}).on("mousemove",function(t,e){S.call("elementMousemove",this,{e:d3.event})})}),P.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),S.call("elementMouseover",this,{key:h(t),value:h(t),series:[{key:"Q3",value:g(t),color:x(t)||A(t,e)},{key:"Q2",value:v(t),color:x(t)||A(t,e)},{key:"Q1",value:p(t),color:x(t)||A(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),S.call("elementMouseout",this,{key:h(t),value:h(t),series:[{key:"Q3",value:g(t),color:x(t)||A(t,e)},{key:"Q2",value:v(t),color:x(t)||A(t,e)},{key:"Q1",value:p(t),color:x(t)||A(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){S.call("elementMousemove",this,{e:d3.event})}).watchTransition(E,"nv-boxplot: boxes").attr("y",function(t,e){return f(g(t))}).attr("width",I).attr("x",B).attr("height",function(t,e){return Math.abs(f(g(t))-f(p(t)))||1}).style("fill",function(t,e){return x(t)||A(t,e)}).style("stroke",function(t,e){return x(t)||A(t,e)}),P.append("line").attr("class","nv-boxplot-median"),_.select("line.nv-boxplot-median").watchTransition(E,"nv-boxplot: boxplots line").attr("x1",B).attr("y1",function(t,e){return f(v(t))}).attr("x2",V).attr("y2",function(t,e){return f(v(t))});var z=_.selectAll(".nv-boxplot-outlier").data(function(t){return b(t)||[]});z.enter().append("circle").style("fill",function(t,e,n){return M(t,e,n)||A(t,n)}).style("stroke",function(t,e,n){return M(t,e,n)||A(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),S.call("elementMouseover",this,{series:{key:w(t,e,n),color:M(t,e,n)||A(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),S.call("elementMouseout",this,{series:{key:w(t,e,n),color:M(t,e,n)||A(t,n)},e:d3.event})}).on("mousemove",function(t,e){S.call("elementMousemove",this,{e:d3.event})}),z.attr("class","nv-boxplot-outlier"),z.watchTransition(E,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*d.bandwidth()).attr("cy",function(t,e,n){return f(k(t,e,n))}).attr("r","3"),z.exit().remove(),o=d.copy(),a=f.copy()}),E.renderEnd("nv-boxplot immediate"),W}return W.dispatch=S,W.options=t.utils.optionsFunc.bind(W),W._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},maxBoxWidth:{get:function(){return F},set:function(t){F=t}},x:{get:function(){return h},set:function(t){h=t}},q1:{get:function(){return p},set:function(t){p=t}},q2:{get:function(){return v},set:function(t){v=t}},q3:{get:function(){return g},set:function(t){g=t}},wl:{get:function(){return m},set:function(t){m=t}},wh:{get:function(){return y},set:function(t){y=t}},itemColor:{get:function(){return x},set:function(t){x=t}},outliers:{get:function(){return b},set:function(t){b=t}},outlierValue:{get:function(){return k},set:function(t){k=t}},outlierLabel:{get:function(){return w},set:function(t){w=t}},outlierColor:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return c},set:function(t){c=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return A},set:function(e){A=t.utils.getColor(e)}},duration:{get:function(){return L},set:function(t){L=t,E.reset(L)}}}),t.utils.initOptions(W),W},t.models.boxPlotChart=function(){"use strict";var e,n,r=t.models.boxPlot(),i=t.models.axis(d3.axisBottom(d3.scaleBand()),"bottom"),o=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),a={top:15,right:10,bottom:50,left:60},s=null,l=null,u=t.utils.getColor(),c=!0,d=!0,f=!1,h=!1,p=t.models.tooltip(),v="No Data Available.",g=d3.dispatch("beforeUpdate","renderEnd"),m=250;d3.transition().duration(m).ease(d3.easeLinear);i.showMaxMin(!1).scale(),i.tickFormat(function(t){return t}),o.scale(),o.tickFormat(d3.format(",.1f")),p.duration(0);var y=t.utils.renderWatch(g,m);function x(u){return y.reset(),y.models(r),c&&y.models(i),d&&y.models(o),u.each(function(u){var p=d3.select(this);t.utils.initSVG(p);var y=(s||parseInt(p.style("width"))||960)-a.left-a.right,b=(l||parseInt(p.style("height"))||400)-a.top-a.bottom;if(x.update=function(){g.call("beforeUpdate",this);p.transition().duration(m).call(x)},x.container=this,!u||!u.length){var k=p.selectAll(".nv-noData").data([v]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",a.left+y/2).attr("y",a.top+b/2).text(function(t){return t}),x}p.selectAll(".nv-noData").remove(),e=r.xScale(),n=r.yScale().clamp(!0);var w=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([u]),M=w.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),A=M.append("defs"),C=w.select("g");M.append("g").attr("class","nv-x nv-axis");var S=M.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line");if(M.append("g").attr("class","nv-barsWrap"),C.attr("transform","translate("+a.left+","+a.top+")"),f&&C.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),r.width(y).height(b),C.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(r),A.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),C.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",e.range()*(h?2:1)).attr("height",16).attr("x",-e.range()/(h?1:2)),c){i.scale(e).ticks(t.utils.calcTicksX(y/100,u)),i.tickSizeInner(-b),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),C.select(".nv-x.nv-axis").call(i);var L=C.select(".nv-x.nv-axis").selectAll("g");h&&L.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}d&&(o.scale(n).ticks(Math.floor(b/36)),o.tickSizeInner(-y),C.select(".nv-y.nv-axis").call(o)),S.attr("x1",0).attr("x2",y).attr("y1",n(0)).attr("y2",n(0))}),y.renderEnd("nv-boxplot chart immediate"),x}return r.dispatch.on("elementMouseover.tooltip",function(t){p.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){p.data(t).hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){p()}),x.dispatch=g,x.boxplot=r,x.xAxis=i,x.yAxis=o,x.tooltip=p,x.options=t.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},showXAxis:{get:function(){return c},set:function(t){c=t}},showYAxis:{get:function(){return d},set:function(t){d=t}},tooltipContent:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return m},set:function(t){m=t,y.reset(m),d3.transition().duration(m).ease(d3.easeLinear),r.duration(m),i.duration(m),o.duration(m)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),r.color(u)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,o.orient(t?"right":"left")}}}),t.utils.inheritOptions(x,r),t.utils.initOptions(x),x},t.models.bullet=function(){"use strict";var e={top:0,right:0,bottom:0,left:0},n="left",r=!1,i=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[]},a=function(t){return t.markerLines?t.markerLines:[0]},s=function(t){return t.measures},l=function(t){return t.rangeLabels?t.rangeLabels:[]},u=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.markerLineLabels?t.markerLineLabels:[]},d=function(t){return t.measureLabels?t.measureLabels:[]},f=[0],h=380,p=30,v=null,g=null,m=t.utils.getColor(["#1f77b4"]),y=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),x=["Maximum","Mean","Minimum"],b=["Max","Avg","Min"],k=1e3;d3.transition().duration(k).ease(d3.easeLinear);function w(t,e){var n=t.slice();t.sort(function(t,r){var i=n.indexOf(t),o=n.indexOf(r);return d3.descending(e[i],e[o])})}function M(n){return n.each(function(n,g){var k=h-e.left-e.right,M=p-e.top-e.bottom;v=d3.select(this),t.utils.initSVG(v);var A=i.call(this,n,g).slice(),C=o.call(this,n,g).slice(),S=a.call(this,n,g).slice(),L=s.call(this,n,g).slice(),F=l.call(this,n,g).slice(),E=u.call(this,n,g).slice(),W=c.call(this,n,g).slice(),O=d.call(this,n,g).slice();w(F,A),w(E,C),w(W,S),w(O,L),A.sort(d3.descending),C.sort(d3.descending),S.sort(d3.descending),L.sort(d3.descending);var N=d3.scaleLinear().domain(d3.extent(d3.merge([f,A]))).range(r?[k,0]:[0,k]);this.__chart__||d3.scaleLinear().domain([0,1/0]).range(N.range());this.__chart__=N;d3.min(A),d3.max(A),A[1];for(var D=v.selectAll("g.nv-wrap.nv-bullet").data([n]),T=D.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),_=D.select("g"),P=(g=0,A.length);g<P;g++){var I="nv-range nv-range"+g;g<=2&&(I=I+" nv-range"+b[g]),T.append("rect").attr("class",I)}T.append("rect").attr("class","nv-measure"),D.attr("transform","translate("+e.left+","+e.top+")");var B=function(t){return Math.abs(N(t)-N(0))},V=function(t){return N(t<0?t:0)};for(g=0,P=A.length;g<P;g++){var z=A[g];_.select("rect.nv-range"+g).datum(z).attr("height",M).transition().duration(1e3).attr("width",B(z)).attr("x",V(z))}_.select("rect.nv-measure").style("fill",m).attr("height",M/3).attr("y",M/3).on("mouseover",function(){y.call("elementMouseover",this,{value:L[0],label:O[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){y.call("elementMousemove",this,{value:L[0],label:O[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){y.call("elementMouseout",this,{value:L[0],label:O[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(1e3).attr("width",L<0?N(0)-N(L[0]):N(L[0])-N(0)).attr("x",V(L));var j=M/6,G=C.map(function(t,e){return{value:t,label:E[e]}});T.selectAll("path.nv-markerTriangle").data(G).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+j+"L"+j+","+-j+" "+-j+","+-j+"Z").on("mouseover",function(t){y.call("elementMouseover",this,{value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[N(t.value),M/2]})}).on("mousemove",function(t){y.call("elementMousemove",this,{value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.call("elementMouseout",this,{value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),_.selectAll("path.nv-markerTriangle").data(G).transition().duration(1e3).attr("transform",function(t){return"translate("+N(t.value)+","+M/2+")"});var H=S.map(function(t,e){return{value:t,label:W[e]}});T.selectAll("line.nv-markerLine").data(H).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return N(t.value)}).attr("y1","2").attr("x2",function(t){return N(t.value)}).attr("y2",M-2).on("mouseover",function(t){y.call("elementMouseover",this,{value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[N(t.value),M/2]})}).on("mousemove",function(t){y.call("elementMousemove",this,{value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.call("elementMouseout",this,{value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),_.selectAll("line.nv-markerLine").data(H).transition().duration(1e3).attr("x1",function(t){return N(t.value)}).attr("x2",function(t){return N(t.value)}),D.selectAll(".nv-range").on("mouseover",function(t,e){var n=F[e]||x[e];y.call("elementMouseover",this,{value:t,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){y.call("elementMousemove",this,{value:L[0],label:O[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){var n=F[e]||x[e];y.call("elementMouseout",this,{value:t,label:n,color:d3.select(this).style("fill")})})}),M}return M.dispatch=y,M.options=t.utils.optionsFunc.bind(M),M._options=Object.create({},{ranges:{get:function(){return i},set:function(t){i=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return f},set:function(t){f=t}},width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},tickFormat:{get:function(){return g},set:function(t){g=t}},duration:{get:function(){return k},set:function(t){k=t,d3.transition().duration(k).ease(d3.easeLinear)}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},orient:{get:function(){return n},set:function(t){r="right"==(n=t)||"bottom"==n}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e)}}}),t.utils.initOptions(M),M},t.models.bulletChart=function(){"use strict";var e=t.models.bullet(),n=t.models.tooltip(),r="left",i=!1,o={top:5,right:40,bottom:20,left:120},a=function(t){return t.ranges},s=function(t){return t.markers?t.markers:[]},l=function(t){return t.measures},u=null,c=55,d=null,f=null,h=null,p=d3.dispatch();function v(n){return n.each(function(r,h){var p=d3.select(this);t.utils.initSVG(p);var g=t.utils.availableWidth(u,p,o),m=c-o.top-o.bottom;if(v.update=function(){v(n)},v.container=this,!r||!a.call(this,r,h))return t.utils.noData(v,p),v;p.selectAll(".nv-noData").remove();var y=a.call(this,r,h).slice().sort(d3.descending),x=s.call(this,r,h).slice().sort(d3.descending),b=l.call(this,r,h).slice().sort(d3.descending),k=p.selectAll("g.nv-wrap.nv-bulletChart").data([r]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),M=k.select("g"),A=w.append("g").attr("class","nv-bulletWrap"),C=w.append("g").attr("class","nv-titles");k.attr("transform","translate("+o.left+","+o.top+")");var S=d3.scaleLinear().domain([0,Math.max(y[0],x[0]||0,b[0])]).range(i?[g,0]:[0,g]),L=this.__chart__||d3.scaleLinear().domain([0,1/0]).range(S.range());this.__chart__=S;var F=C.append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");F.append("text").attr("class","nv-title").text(function(t){return t.title}),F.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),e.width(g).height(m),A.transition().call(e);var E=d||S.tickFormat(g/100),W=M.selectAll("g.nv-tick").data(S.ticks(f||g/50),function(t){return this.textContent||E(t)}),O=W.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+L(t)+",0)"}).style("opacity",1e-6);O.append("line").attr("y1",m).attr("y2",7*m/6),O.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*m/6).text(E);var N=d3.transition(W).transition().duration(e.duration()).attr("transform",function(t){return"translate("+S(t)+",0)"}).style("opacity",1);N.select("line").attr("y1",m).attr("y2",7*m/6),N.select("text").attr("y",7*m/6),d3.transition(W.exit()).transition().duration(e.duration()).attr("transform",function(t){return"translate("+S(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timerFlush(),v}return n.duration(0).headerEnabled(!1),e.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},n.data(t).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(t){n()}),v.bullet=e,v.dispatch=p,v.tooltip=n,v.options=t.utils.optionsFunc.bind(v),v._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return s},set:function(t){s=t}},measures:{get:function(){return l},set:function(t){l=t}},width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},tickFormat:{get:function(){return d},set:function(t){d=t}},ticks:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},orient:{get:function(){return r},set:function(t){i="right"==(r=t)||"bottom"==r}}}),t.utils.inheritOptions(v,e),t.utils.initOptions(v),v},t.models.candlestickBar=function(){"use strict";var e,n,r,i,o,a={top:0,right:0,bottom:0,left:0},s=null,l=null,u=Math.floor(1e4*Math.random()),c=d3.scaleLinear(),d=d3.scaleLinear(),f=function(t){return t.x},h=function(t){return t.y},p=function(t){return t.open},v=function(t){return t.close},g=function(t){return t.high},m=function(t){return t.low},y=[],x=[],b=!1,k=!0,w=t.utils.defaultColor(),M=!1,A=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function C(w){return w.each(function(w){e=d3.select(this);var M=t.utils.availableWidth(s,e,a),C=t.utils.availableHeight(l,e,a);t.utils.initSVG(e);var S=M/w[0].values.length*.45;c.domain(n||d3.extent(w[0].values.map(f).concat(y))),b?c.range(i||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):c.range(i||[5+S/2,M-S/2-5]),d.domain(r||[d3.min(w[0].values.map(m).concat(x)),d3.max(w[0].values.map(g).concat(x))]).range(o||[C,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var L=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([w[0].values]),F=L.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),E=F.append("defs"),W=F.append("g"),O=(L.select("g"),W.append("g").attr("class","nv-ticks"));L.attr("transform","translate("+a.left+","+a.top+")"),e.on("click",function(t,e){A.call("chartClick",this,{data:t,index:e,pos:d3.event,id:u})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+u).append("rect"),L.select("#nv-chart-clip-path-"+u+" rect").attr("width",M).attr("height",C),W.attr("clip-path",k?"url(#nv-chart-clip-path-"+u+")":"");var N=O.selectAll(".nv-tick").data(function(t){return t});N.exit().remove();var D=N.enter().append("g");D.attr("class",function(t,e,n){return(p(t,e)>v(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e});D.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+c(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return d(g(t,e))}).attr("x2",0).attr("y2",function(t,e){return d(m(t,e))}),D.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(c(f(t,e))-S/2)+","+(d(h(t,e))-(p(t,e)>v(t,e)?d(v(t,e))-d(p(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",S).attr("height",function(t,e){var n=p(t,e),r=v(t,e);return n>r?d(r)-d(n):d(n)-d(r)});D.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+c(f(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return d(g(t,e))}).attr("x2",0).attr("y2",function(t,e){return d(m(t,e))}),D.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(c(f(t,e))-S/2)+","+(d(h(t,e))-(p(t,e)>v(t,e)?d(v(t,e))-d(p(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",S).attr("height",function(t,e){var n=p(t,e),r=v(t,e);return n>r?d(r)-d(n):d(n)-d(r)})}),C}return C.highlightPoint=function(t,n){C.clearHighlights(),e.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",n)},C.clearHighlights=function(){e.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},C.dispatch=A,C.options=t.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return u},set:function(t){u=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return v()},set:function(t){v=t}},high:{get:function(){return g},set:function(t){g=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return a},set:function(t){a.top=null!=t.top?t.top:a.top,a.right=null!=t.right?t.right:a.right,a.bottom=null!=t.bottom?t.bottom:a.bottom,a.left=null!=t.left?t.left:a.left}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}}}),t.utils.initOptions(C),C},t.models.cumulativeLineChart=function(){"use strict";var e,n,r=t.models.line(),i=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),o=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),a=t.models.legend(),s=t.models.legend(),l=t.interactiveGuideline(),u=t.models.tooltip(),c={top:30,right:30,bottom:50,left:60},d=null,f=t.utils.defaultColor(),h=null,p=null,v=!0,g=!0,m=!0,y=!1,x=!0,b=!1,k=!0,w=r.id(),M=t.utils.state(),A=null,C=null,S=function(t){return t.average},L=d3.dispatch("stateChange","changeState","renderEnd"),F=250,E=(d3.transition().duration(F).ease(d3.easeLinear),!1);M.index=0,M.rescaleY=k,i.tickPadding(7),u.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.updateState(!1);var W,O=d3.scaleLinear(),N={i:0,x:0},D=t.utils.renderWatch(L,F),T=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:N.i,rescaleY:k}}},_=function(t){return function(e){void 0!==e.index&&(N.i=e.index),void 0!==e.rescaleY&&(k=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function P(u){return D.reset(),D.models(r),g&&D.models(i),m&&D.models(o),u.each(function(u){var C=d3.select(this);t.utils.initSVG(C),C.classed("nv-chart-"+w,!0);var D,V=t.utils.availableWidth(h,C,c),z=t.utils.availableHeight(p,C,c);if(P.update=function(){0===F?C.call(P):C.transition().duration(F).call(P)},P.container=this,M.setter(_(u),P.update).getter(T(u)).update(),M.disabled=u.map(function(t){return!!t.disabled}),!A)for(D in A={},M)M[D]instanceof Array?A[D]=M[D].slice(0):A[D]=M[D];var j=d3.drag().on("start",function(t,e){d3.select(P.container).style("cursor","ew-resize")}).on("drag",function(t,e){N.x=d3.event.x,N.i=Math.round(O.invert(N.x)),at()}).on("end",function(t,e){d3.select(P.container).style("cursor","auto"),M.index=N.i,L.call("stateChange",this,M)});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return t.utils.noData(P,C),P;C.selectAll(".nv-noData").remove(),e=r.xScale(),n=r.yScale(),O.domain([0,u[0].values.length-1]).range([0,V]).clamp(!0);u=function(t,e){I||(I=r.y());return e.map(function(e,n){if(!e.values)return e;var r=e.values[t];if(null==r)return e;var i=I(r,t);return Math.abs(i)<1e-5&&!E?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(I(t,e)-i)/i},t}),e)})}(N.i,u);void 0===W&&(W=B(u)),k?r.yDomain(null):(r.yDomain(W),r.clipEdge(!0));var G=b?"none":"all",H=C.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),Y=H.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),R=H.select("g"),X=Y.append("g").attr("class","nv-interactive"),q=Y.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),Z=Y.append("g").attr("class","nv-y nv-axis"),K=Y.append("g").attr("class","nv-background"),Q=Y.append("g").attr("class","nv-linesWrap").style("pointer-events",G),U=Y.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none");if(Y.append("g").attr("class","nv-legendWrap"),Y.append("g").attr("class","nv-controlsWrap"),v?(a.width(V),R.select(".nv-legendWrap").datum(u).call(a),d||a.height()===c.top||(c.top=a.height(),z=t.utils.availableHeight(p,C,c)),R.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):R.select(".nv-legendWrap").selectAll("*").remove(),x){var J=[{key:"Re-scale y-axis",disabled:!k}];s.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),R.select(".nv-controlsWrap").datum(J).attr("transform","translate(0,"+-c.top+")").call(s)}else R.select(".nv-controlsWrap").selectAll("*").remove();H.attr("transform","translate("+c.left+","+c.top+")"),y&&Z.attr("transform","translate("+V+",0)");var $=u.filter(function(t){return t.tempDisabled});H.select(".tempDisabled").remove(),$.length&&H.append("text").attr("class","tempDisabled").attr("x",V/2).attr("y","-.71em").style("text-anchor","end").text($.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),b&&(l.width(V).height(z).margin({left:c.left,top:c.top}).svgContainer(C).xScale(e),X.call(l));var tt=K.append("rect");tt.attr("width",V).attr("height",z),r.y(function(t){return t.display.y}).width(V).height(z).color(u.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!u[e].disabled&&!u[e].tempDisabled}));var et=Q.datum(u.filter(function(t){return!t.disabled&&!t.tempDisabled}));et.call(r),u.forEach(function(t,e){t.seriesIndex=e});var nt=u.filter(function(t){return!t.disabled&&!!S(t)}),rt=U.selectAll("line").data(nt,function(t){return t.key}),it=function(t){var e=n(S(t));return e<0?0:e>z?z:e};rt.exit().remove(),rt.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return r.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",V).attr("y1",it).attr("y2",it).style("stroke-opacity",function(t){var e=n(S(t));return e<0||e>z?0:1}).attr("x1",0).attr("x2",V).attr("y1",it).attr("y2",it).merge(rt);var ot=et.selectAll(".nv-indexLine").data([N]);function at(){ot.data([N]);var t=P.duration();P.duration(0),P.update(),P.duration(t)}ot.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(j).attr("transform",function(t){return"translate("+O(t.i)+",0)"}).attr("height",z).merge(ot),g&&(i.scale(e)._ticks(t.utils.calcTicksX(V/70,u)),i.tickSizeInner(-z),q.attr("transform","translate(0,"+n.range()[0]+")"),q.call(i).merge(Y)),m&&(o.scale(n)._ticks(t.utils.calcTicksY(z/36,u)),o.tickSizeInner(-V),Z.call(o)),tt.on("click",function(){N.x=d3.mouse(this)[0],N.i=Math.round(O.invert(N.x)),M.index=N.i,L.call("stateChange",this,M),at()}),r.dispatch.on("elementClick",function(t){N.i=t.pointIndex,N.x=O(N.i),M.index=N.i,L.call("stateChange",this,M),at()}),s.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,k=!t.disabled,M.rescaleY=k,k||(W=B(u)),L.call("stateChange",this,M),P.update()}),a.dispatch.on("stateChange",function(t){for(var e in t)M[e]=t[e];L.call("stateChange",this,M),P.update()}),l.dispatch.on("elementMousemove",function(e){r.clearHighlights();var n,a,s,c=[];if(u.filter(function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)}).forEach(function(i,o){a=t.interactiveBisect(i.values,e.pointXValue,P.x()),r.highlightPoint(o,a,!0);var l=i.values[a];void 0!==l&&(void 0===n&&(n=l),void 0===s&&(s=P.xScale()(P.x()(l,a))),c.push({key:i.key,value:P.y()(l,a),color:f(i,i.seriesIndex)}))}),c.length>2){var d=P.yScale().invert(e.mouseY),h=.03*Math.abs(P.yScale().domain()[0]-P.yScale().domain()[1]),p=t.nearestValueIndex(c.map(function(t){return t.value}),d,h);null!==p&&(c[p].highlight=!0)}var v=i.tickFormat()(P.x()(n,a),a);l.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t)}).data({value:v,series:c})(),l.renderGuideLine(s)}),l.dispatch.on("elementMouseout",function(t){r.clearHighlights()}),L.on("changeState",function(t){void 0!==t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),M.disabled=t.disabled),void 0!==t.index&&(N.i=t.index,N.x=O(N.i),M.index=t.index,ot.data([N])),void 0!==t.rescaleY&&(k=t.rescaleY),P.update()})}),D.renderEnd("cumulativeLineChart immediate"),P}r.dispatch.on("elementMouseover.tooltip",function(t){var e={x:P.x()(t.point),y:P.y()(t.point),color:t.point.color};t.point=e,u.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)});var I=null;function B(t){var e=t.filter(function(t){return!(t.disabled||t.tempDisabled)}).map(function(t,e){return d3.extent(t.values,function(t){return t.display.y})});return[d3.min(e,function(t){return t[0]}),d3.max(e,function(t){return t[1]})]}return P.dispatch=L,P.lines=r,P.legend=a,P.controls=s,P.xAxis=i,P.yAxis=o,P.interactiveLayer=l,P.state=M,P.tooltip=u,P.options=t.utils.optionsFunc.bind(P),P._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showControls:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return v},set:function(t){v=t}},average:{get:function(){return S},set:function(t){S=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return C},set:function(t){C=t}},showXAxis:{get:function(){return g},set:function(t){g=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},noErrorCheck:{get:function(){return E},set:function(t){E=t}},rescaleY:{get:function(){return k},set:function(t){k=t,P.state.rescaleY=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),a.color(f)}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,!0===t&&(P.interactive(!1),P.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t}},duration:{get:function(){return F},set:function(t){F=t,r.duration(F),i.duration(F),o.duration(F),D.reset(F),d3.transition().duration(F).ease(d3.easeLinear)}}}),t.utils.inheritOptions(P,r),t.utils.initOptions(P),P},t.models.differenceChart=function(){"use strict";var e=void 0,n=t.models.multiChart(),r=t.models.focus(t.models.line()),i=function(t){return void 0!==t.y0?t.y0:t.y},o=function(t){return t.x},a=function(t){return t.x},s="x",l=function(t){return t.y},u=300,c=d3.transition().duration(u).ease(d3.easeLinear),d=null,f=null,h=null,p=null,v={top:30,right:50,bottom:20,left:70},g={top:0,right:0,bottom:0,left:0},m=!0,y=d3.curveLinear,x=1,b=d3.scaleTime(),k=d3.timeFormat([["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",function(){return!0}]]);function w(a){a.each(function(a){e=d3.select(this);var s=(a||[]).filter(function(t){return!t.disabled});if(!a||!s.length)return t.utils.noData(w,e),w;var l=M(a),m=t.utils.availableHeight(h,e,v)-r.height(),x=t.utils.availableWidth(p,e,v);e.attr("class","nv-differenceChart"),t.utils.initSVG(e),w.container=this,n.margin(v).color(d3.scaleOrdinal(d3.schemeCategory10).range()).y(i).width(p).height(m).curve(y).useInteractiveGuideline(!0),n.interactiveLayer.tooltip.valueFormatter(function(t,e,n){if(n.key===f||n.key===d){var r=Math.abs(n.data.y0-n.data.y1);return 0===r?"-":r}return t}),n.stack1.areaY1(function(t){return n.stack1.scatter.yScale()(t.display.y)}),n.stack1.transformData(function(t){t.display={y:t.y1,y0:t.y0}}),n.xAxis.scale(b),n.xAxis.tickFormat(k);var A=l.filter(function(t){return!t.disabled}).map(function(t){return t.values}),C=d3.extent(d3.merge(A),function(t){return o(t)});n.xAxis.domain(C).range([0,x]);var S=d3.extent(d3.merge(A),function(t){return i(t)});return n.yDomain1(S),n.yAxis1.tickFormat(d3.format(",.1f")),n.yAxis2.tickFormat(d3.format(",.1f")),r.width(x),r.margin(g),r.xScale(b.copy()),r.xAxis.tickFormat(k),r.xAxis.rotateLabels(0),e.append("g").attr("class","nv-focusWrap").style("display","initial").attr("transform","translate("+v.left+", "+(m+r.margin().top)+")").datum(l.filter(function(t){return"line"===t.type})).call(r),e.datum(l).call(n),r.dispatch.on("brush",function(t){var r=l.map(function(e){var n=-1,r=-1;e.values.some(function(e,i){return-1===n&&e.x>=t[0]&&(n=i),-1===r&&e.x>=t[1]&&(r=i,!0)});for(var i=e.values.slice(n,r),o=0;i.length<2&&o<5;)n-=1,r+=1,i=e.values.slice(n,r),o++;return Object.assign({},e,{values:i})});e.datum(r),n.xAxis.domain(t),n.update()}),w.update=function(){e.selectAll("*").remove(),0===u?e.call(w):e.transition(c).call(w)},w})}function M(t){var e=t.slice(0),n=e.every(function(t){return t.processed}),r=e.filter(function(t){return"actual"===t.type}),i=e.filter(function(t){return"expected"===t.type});if(n)return e;if(!r.length||!i.length)return[];var o=i[0].key+" minus "+r[0].key+" (Predicted > Actual)",u=i[0].key+" minus "+r[0].key+" (Predicted < Actual)",c=[{key:d||o,type:"area",values:[],yAxis:1,color:"rgba(44,160,44,.9)",processed:!0,noHighlightSeries:!0},{key:f||u,type:"area",values:[],yAxis:1,color:"rgba(234,39,40,.9)",processed:!0,noHighlightSeries:!0},{key:r[0].key,type:"line",values:[],yAxis:1,color:"#666666",processed:!0,strokeWidth:x}];m&&(c[3]={key:i[0].key,type:"line",values:[],yAxis:1,color:"#aec7e8",processed:!0,strokeWidth:x});var h=r[0].values.reduce(function(t,e,n){return t[a(e)]=l(e),t},{}),p=i[0].values.reduce(function(t,e,n){return t[a(e)]=l(e),t},{});return Object.keys(h).forEach(function(t,e){var n=h[t],r=p[t],i={};i[s]=t;var o=a(i),l=r-n;isNaN(l)?(c[1].values[e]={x:o,y0:n,y1:n},c[0].values[e]={x:o,y0:n,y1:n}):l<0?(c[1].values[e]={x:o,y0:n,y1:r},c[0].values[e]={x:o,y0:n,y1:n}):(c[0].values[e]={x:o,y0:n,y1:r},c[1].values[e]={x:o,y0:n,y1:n}),c[2].values[e]={x:o,y:n},m&&(c[3].values[e]={x:o,y:r})}),c}return w.options=t.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return h},set:function(t){h=t}},strokeWidth:{get:function(){return x},set:function(t){x=t}},x:{get:function(){return a},set:function(t){a=t}},keyForXValue:{get:function(){return s},set:function(t){s=t}},y:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return b},set:function(t){b=t}},keyForActualLessThanPredicted:{get:function(){return d},set:function(t){d=t}},keyForActualGreaterThanPredicted:{get:function(){return f},set:function(t){f=t}},showPredictedLine:{get:function(){return m},set:function(t){m=t}},tickFormat:{get:function(){return k},set:function(t){k=t}},interpolate:{get:function(){return y},set:function(t){y=t}},focusMargin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},margin:{get:function(){return v},set:function(t){v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}}}),w.xAxis=n.xAxis,w.yAxis=n.yAxis1,w.multiChart=n,w.focus=r,w.processData=M,t.utils.inheritOptions(w,n),t.utils.initOptions(w),w},t.models.discreteBar=function(){"use strict";var e,n,r,i,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),f=d3.scaleBand(),h=d3.scaleLinear(),p=function(t){return t.x},v=function(t){return t.y},g=[0],m=t.utils.defaultColor(),y=0,x=!1,b=d3.format(",.2f"),k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w="discreteBar",M=250,A=t.utils.renderWatch(k,M);function C(d){return A.reset(),d.each(function(d){var M=u-l.left-l.right,C=c-l.top-l.bottom;e=d3.select(this),t.utils.initSVG(e),d.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var S=n&&r?[]:d.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:v(t,e),y0:t.y0}})});f.domain(n||d3.merge(S).map(function(t){return t.x})).range(i||[0,M],.1),h.domain(r||d3.extent(d3.merge(S).map(function(t){return t.y}).concat(g))),x?h.range(o||[C-(h.domain()[0]<0?12:0),h.domain()[1]>0?12:0]):h.range(o||[C,0]),a=a||f,s=s||h.copy().range([h(0),h(0)]);var L=e.selectAll("g.nv-wrap.nv-discretebar").data([d]),F=L.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");L.select("g");F.append("g").attr("class","nv-groups"),L.attr("transform","translate("+l.left+","+l.top+")");var E=L.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().watchTransition(A,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),E.watchTransition(A,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var W=E.selectAll("g.nv-bar").data(function(t){return t.values});W.exit().remove();var O=W.enter().append("g").attr("transform",function(t,e,n){return"translate("+(f(p(t,e))+.05*f.bandwidth())+", "+h(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),k.call("elementMouseover",this,{data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),k.call("elementMouseout",this,{data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){k.call("elementMousemove",this,{data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){k.call("elementClick",this,{data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){k.call("elementDblClick",this,{data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});O.append("rect").attr("height",0).attr("width",.9*f.bandwidth()/d.length),x?(O.append("text").attr("text-anchor","middle"),W.select("text").text(function(t,e){return b(v(t,e))}).watchTransition(A,"discreteBar: bars text").attr("x",.9*f.bandwidth()/2).attr("y",function(t,e){return v(t,e)<0?h(v(t,e))-h(0)+12:-4})):W.selectAll("text").remove(),W.attr("class",function(t,e){return v(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||m(t,e)}).style("stroke",function(t,e){return t.color||m(t,e)}).select("rect").attr("rx",y).attr("class",w).watchTransition(A,"discreteBar: bars rect").attr("width",.9*f.bandwidth()/d.length),W.watchTransition(A,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(f(p(t,e))+.05*f.bandwidth())+", "+(v(t,e)<0?h(0):h(0)-h(v(t,e))<1?h(0)-1:h(v(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(h(v(t,e))-h(0)),1)}),W.merge(W),a=f.copy(),s=h.copy()}),A.renderEnd("discreteBar immediate"),C}return C.dispatch=k,C.options=t.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},forceY:{get:function(){return g},set:function(t){g=t}},showValues:{get:function(){return x},set:function(t){x=t}},cornerRadius:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},valueFormat:{get:function(){return b},set:function(t){b=t}},id:{get:function(){return d},set:function(t){d=t}},rectClass:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},color:{get:function(){return m},set:function(e){m=t.utils.getColor(e)}},duration:{get:function(){return M},set:function(t){M=t,A.reset(M)}}}),t.utils.initOptions(C),C},t.models.discreteBarChart=function(){"use strict";var e,n,r=t.models.discreteBar(),i=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),o=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),a=t.models.legend(),s=t.models.tooltip(),l={top:15,right:10,bottom:50,left:60},u=null,c=null,d=null,f=t.utils.getColor(),h=!1,p=!0,v=!0,g=!1,m=!1,y=!1,x=0,b=null,k=d3.dispatch("beforeUpdate","renderEnd"),w=250,M=d3.transition().duration(w).ease(d3.easeLinear);i.showMaxMin(!1),i.tickFormat(function(t){return t}),o.tickFormat(d3.format(",.1f")),s.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).keyFormatter(function(t,e){return i.tickFormat()(t,e)});var A=t.utils.renderWatch(k,w);function C(s){return A.reset(),A.models(r),p&&A.models(i),v&&A.models(o),s.each(function(s){var f=d3.select(this),b=this;t.utils.initSVG(f);var w=t.utils.availableWidth(c,f,l),A=t.utils.availableHeight(d,f,l);if(C.update=function(){k.call("beforeUpdate",b),f.transition(M).call(C)},C.container=this,!(s&&s.length&&s.filter(function(t){return t.values.length}).length))return t.utils.noData(C,f),C;f.selectAll(".nv-noData").remove(),e=r.xScale(),n=r.yScale().clamp(!0);var S=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([s]),L=S.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),F=L.append("defs"),E=S.select("g");if(L.append("g").attr("class","nv-x nv-axis"),L.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),L.append("g").attr("class","nv-barsWrap"),L.append("g").attr("class","nv-legendWrap"),E.attr("transform","translate("+l.left+","+l.top+")"),h?(a.width(w),E.select(".nv-legendWrap").datum(s).call(a),u||a.height()===l.top||(l.top=a.height(),A=t.utils.availableHeight(d,f,l)),S.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):E.select(".nv-legendWrap").selectAll("*").remove(),g&&E.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)"),r.width(w).height(A),E.select(".nv-barsWrap").datum(s.filter(function(t){return!t.disabled})).transition().call(r),F.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),E.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",e.bandwidth()*(m?2:1)).attr("height",16).attr("x",-e.bandwidth()/(m?1:2)),p){i.scale(e)._ticks(t.utils.calcTicksX(w/100,s)),i.tickSizeInner(-A),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+(n.range()[0]+(r.showValues()&&n.domain()[0]<0?16:0))+")"),E.select(".nv-x.nv-axis").call(i);var W=E.select(".nv-x.nv-axis").selectAll("g");m&&W.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),x&&W.selectAll(".tick text").attr("transform","rotate("+x+" 0,0)").style("text-anchor",x>0?"start":"end"),y&&E.selectAll(".tick text").call(t.utils.wrapTicks,C.xAxis.bandwidth())}v&&(o.scale(n)._ticks(t.utils.calcTicksY(A/36,s,r.y())),o.tickSizeInner(-w),E.select(".nv-y.nv-axis").call(o)),E.select(".nv-zeroLine line").attr("x1",0).attr("x2",g?-w:w).attr("y1",n(0)).attr("y2",n(0))}),A.renderEnd("discreteBar chart immediate"),C}return r.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:C.x()(t.data),value:C.y()(t.data),color:t.color},s.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){s.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){s()}),C.dispatch=k,C.discretebar=r,C.legend=a,C.xAxis=i,C.yAxis=o,C.tooltip=s,C.options=t.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return h},set:function(t){h=t}},staggerLabels:{get:function(){return m},set:function(t){m=t}},rotateLabels:{get:function(){return x},set:function(t){x=t}},wrapLabels:{get:function(){return y},set:function(t){y=!!t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},noData:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,u=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return w},set:function(t){w=t,A.reset(w),M=d3.transition().duration(w).ease(d3.easeLinear),r.duration(w),i.duration(w),o.duration(w)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),r.color(f),a.color(f)}},rightAlignYAxis:{get:function(){return g},set:function(t){g=t,o.orient(t?"right":"left")}}}),t.utils.inheritOptions(C,r),t.utils.initOptions(C),C},t.models.distribution=function(){"use strict";var e,n={top:0,right:0,bottom:0,left:0},r=400,i=8,o="x",a=function(t){return t[o]},s=t.utils.defaultColor(),l=d3.scaleLinear(),u=250,c=d3.dispatch("renderEnd"),d=t.utils.renderWatch(c,u);function f(r){return d.reset(),r.each(function(r){"x"===o?(n.left,n.right):(n.top,n.bottom);var u="x"==o?"y":"x",c=d3.select(this);t.utils.initSVG(c),e=e||l;var f=c.selectAll("g.nv-distribution").data([r]),h=(f.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),f.select("g"));f.attr("transform","translate("+n.left+","+n.top+")");var p=h.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});p.enter().append("g"),p.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return s(t,e)});var v=p.selectAll("line.nv-dist"+o).data(function(t){return t.values});v.enter().append("line").attr(o+"1",function(t,n){return e(a(t,n))}).attr(o+"2",function(t,n){return e(a(t,n))}),d.transition(p.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",function(t,e){return l(a(t,e))}).attr(o+"2",function(t,e){return l(a(t,e))}).style("stroke-opacity",0).remove(),v.attr("class",function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e}).attr(u+"1",0).attr(u+"2",i),d.transition(v,"dist").attr(o+"1",function(t,e){return l(a(t,e))}).attr(o+"2",function(t,e){return l(a(t,e))}),e=l.copy()}),d.renderEnd("distribution immediate"),f}return f.options=t.utils.optionsFunc.bind(f),f.dispatch=c,f.margin=function(t){return arguments.length?(n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left,f):n},f.width=function(t){return arguments.length?(r=t,f):r},f.axis=function(t){return arguments.length?(o=t,f):o},f.size=function(t){return arguments.length?(i=t,f):i},f.getData=function(t){return arguments.length?(a="function"==typeof t?t:function(){return t},f):a},f.scale=function(t){return arguments.length?(l=t,f):l},f.color=function(e){return arguments.length?(s=t.utils.getColor(e),f):s},f.duration=function(t){return arguments.length?(u=t,d.reset(u),f):u},f},t.models.distroPlot=function(){"use strict";var e,n,r,i,o,a={top:0,right:0,bottom:0,left:0},s=960,l=500,u=Math.floor(1e4*Math.random()),c=d3.scaleBand(),d=d3.scaleLinear(),f=function(t){return t.label},h=function(t){return t.value},p=function(t){return t.color},v=function(t){return t.values.q1},g=function(t){return t.values.q2},m=function(t){return t.values.q3},y=function(t){return("mean"==N?b(t):g(t))-t.values.notch},x=function(t){return("mean"==N?b(t):g(t))+t.values.notch},b=function(t){return t.values.mean},k=function(t){return t.values.wl[F]},w=function(t){return t.values.wu[F]},M=function(t){return t.values.min},A=function(t){return t.values.max},C=function(t){return t.values.dev},S=function(t){return t.values.observations},L=!1,F="iqr",E=!1,W=!1,O=!1,N=!1,D=!0,T=.7,_=!0,P="scott",I=!0,B=50,V=3,z=t.utils.defaultColor(),j=null,G=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),H=250,Y=null;function R(t,e){void 0===e&&(e="scott");var n=function(t){var e=t.sort(d3.ascending),n=(d3.quantile(e,.75)-d3.quantile(e,.25))/1.349;return d3.min([d3.deviation(e),n])}(t),r=t.length;return"scott"===e?Math.pow(1.059*n*r,-.2):Math.pow(.9*n*r,-.2)}function X(t){function e(t,e){var n,r=t.map(function(t){return O&&U.add(O(t)),h(t)}).sort(d3.ascending),i=d3.quantile(r,.25),o=d3.quantile(r,.75),a=o-i,s=o+1.5*a,l=i-1.5*a,u={iqr:d3.max([d3.min(r),d3.min(r.filter(function(t){return t>l}))]),minmax:d3.min(r),stddev:d3.mean(r)-d3.deviation(r)},c={iqr:d3.min([d3.max(r),d3.max(r.filter(function(t){return t<s}))]),minmax:d3.max(r),stddev:d3.mean(r)+d3.deviation(r)},f=d3.median(r),p=d3.mean(r),v=[];(void 0!==d3.beeswarm?(v=d3.beeswarm().data(t.map(function(t){return h(t)})).radius(V+1).orientation("vertical").side("symmetric").distributeOn(function(t){return d(t)}).arrange()).map(function(n,r){n.key=e,n.object_constancy=t[r].object_constancy,n.isOutlier=n.datum<u.iqr||n.datum>c.iqr,n.isOutlierStdDev=n.datum<u.stddev||n.datum>c.stddev,n.randX=Math.random()*T*(1==Math.floor(2*Math.random())?1:-1)}):r.forEach(function(t,n){v.push({object_constancy:t.object_constancy,datum:t,key:e,isOutlier:t<u.iqr||t>c.iqr,isOutlierStdDev:t<u.stddev||t>c.stddev,randX:Math.random()*T*(1==Math.floor(2*Math.random())?1:-1)})}),isNaN(parseFloat(P)))&&(n=-1!=["scott","silverman"].indexOf(P)?R(r,P):R(r));var g,m,y,x=(y=n,g=function(t){return Math.abs(t/=y)<=1?.75*(1-t*t)/y:0},m=d.ticks(B),function(t){return m.map(function(e){var n=d3.mean(t,function(t){return g(e-t)});return{x:e,y:n}})}),b=I?function(t,e){if(e[0]===e[1])return t;var n=t.reduce(function(t,n){return n.x>=e[0]&&n.x<=e[1]&&t.push(n),t},[]);e[0]<n[0].x&&n.unshift({x:e[0],y:n[0].y});e[1]>n[n.length-1].x&&n.push({x:e[1],y:n[n.length-1].y});return n}(x(r),d3.extent(r)):x(r),k=d3.scaleLinear().domain([0,d3.max(b,function(t){return t.y})]).clamp(!0);J.push(k);var w={count:r.length,num_outlier:v.filter(function(t){return t.isOutlier}).length,sum:d3.sum(r),mean:p,q1:i,q2:f,q3:o,wl:u,wu:c,iqr:a,min:d3.min(r),max:d3.max(r),dev:d3.deviation(r),observations:v,key:e,kde:b,notch:1.57*a/Math.sqrt(r.length)};return O&&$.push({key:e,values:w}),w}var n;if(t.forEach(function(t,e){t.object_constancy=e+"_"+h(t)+"_"+f(t)}),O){U=d3.set();var r=d3.nest().key(function(t){return f(t)}).key(function(t){return O(t)}).rollup(function(t){return e(t,f(t[0]))}).entries(t);U=U.values();for(var i=r.map(function(t){return t.key}),o=[],a=0;a<i.length;a++)for(var s=0;s<U.length;s++)o.push(i[a]+"_"+U[s]);U=o,n=[],r.forEach(function(t){t.values.forEach(function(e){e.key=t.key+"_"+e.key}),n.push.apply(n,t.values)})}else n=d3.nest().key(function(t){return f(t)}).rollup(function(t,n){return e(t)}).entries(t);return n}function q(t){return"iqr"==F&&t.isOutlier||"stddev"==F&&t.isOutlierStdDev}var Z,K,Q,U=d3.set(),J=[],$=[],tt=t.utils.renderWatch(G,H);function et(u){return tt.reset(),u.each(function(u){K=s-a.left-a.right,Q=l-a.top-a.bottom,j=d3.select(this),t.utils.initSVG(j),d.domain(i||d3.extent(u.map(function(t){return h(t)}))).nice().range(o||[Q,0]),void 0===Z&&(Z=X(u)),c.range(r||[0,K],.1).domain(n||O&&!_?U:Z.map(function(t){return t.key}));var f=j.selectAll("g.nv-wrap").data([Z]);f.enter().append("g").attr("class","nvd3 nv-wrap");f.watchTransition(tt,"nv-wrap: wrap").attr("transform","translate("+a.left+","+a.top+")");var F,T=f.selectAll(".nv-distroplot-x-group").data(function(t){return t});T.each(function(t,e){d3.select(this).selectAll("line.nv-distroplot-middle").datum(t)}),F=T.enter().append("g").attr("class","nv-distroplot-x-group").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).style("fill",function(t,e){return p(t)||z(t,e)}).style("stroke",function(t,e){return p(t)||z(t,e)}),T.exit().remove();var P=function(){return c.bandwidth()},I=function(){return d3.min([Y,.9*P()])},B=function(){return I()/2},H=function(){return B()-I()/2},R=function(){return B()-I()/5},$=function(){return B()+I()/5};F.attr("transform",function(t){return"translate("+(c(t.key)+.5*(P()-I()))+", 0)"}),T.watchTransition(tt,"nv-distroplot-x-group: distroplots").style("stroke-opacity",1).style("fill-opacity",.5).attr("transform",function(t){return"translate("+(c(t.key)+.5*(P()-I()))+", 0)"}),J.map(function(t){t.range([I()/2,0])}),e||(D=!1,L||(L="random")),F.each(function(t,e){var n=d3.select(this);[k,w].forEach(function(t){var e=t===k?"low":"high";n.append("line").style("opacity",function(){return E?"1":"0"}).attr("class","nv-distroplot-whisker nv-distroplot-"+e),n.append("line").style("opacity",function(){return E?"0":"1"}).attr("class","nv-distroplot-tick nv-distroplot-"+e)})}),[k,w].forEach(function(t){var n=t===k?"low":"high",r=t===k?v:m;T.select("line.nv-distroplot-whisker.nv-distroplot-"+n).watchTransition(tt,"nv-distroplot-x-group: distroplots").attr("x1",B()).attr("y1",function(n){return d("violin"!=e?t(n):g(n))}).attr("x2",B()).attr("y2",function(t){return d("box"==e?r(t):g(t))}).style("opacity",function(){return E?"0":"1"}),T.select("line.nv-distroplot-tick.nv-distroplot-"+n).watchTransition(tt,"nv-distroplot-x-group: distroplots").attr("x1",function(t){return"violin"!=e?R():B()}).attr("y1",function(n,r){return d("violin"!=e?t(n):g(n))}).attr("x2",function(t){return"violin"!=e?$():B()}).attr("y2",function(n,r){return d("violin"!=e?t(n):g(n))}).style("opacity",function(){return E?"0":"1"})}),[k,w].forEach(function(t){var e=t===k?"low":"high";F.selectAll(".nv-distroplot-"+e).on("mouseover",function(n,r,i){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+e).classed("hover",!0),G.call("elementMouseover",this,{value:"low"==e?"Lower whisker":"Upper whisker",series:{key:t(n).toFixed(2),color:p(n)||z(n,i)},e:d3.event})}).on("mouseout",function(n,r,i){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+e).classed("hover",!1),G.call("elementMouseout",this,{value:"low"==e?"Lower whisker":"Upper whisker",series:{key:t(n).toFixed(2),color:p(n)||z(n,i)},e:d3.event})}).on("mousemove",function(t,e){G.call("elementMousemove",this,{e:d3.event})})}),F.each(function(t,e){var n=d3.select(this);["left","right"].forEach(function(t){["line","area"].forEach(function(e){n.append("path").attr("class","nv-distribution-"+e+" nv-distribution-"+t).attr("transform","rotate(90,0,0)   translate(0,"+("left"==t?-I():0)+")"+("left"==t?"":" scale(1,-1)"))})}),F.selectAll(".nv-distribution-line").style("fill","none"),F.selectAll(".nv-distribution-area").style("stroke","none").style("opacity",.7)}),T.each(function(t,n){var r,i,o,a,s,l=d3.select(this),u="box"==e?(r=H(),i=R(),o=B(),a=t,s="mean"==N?b(a):g(a),W?[{x:o,y:d(v(a))},{x:r,y:d(v(a))},{x:r,y:d(y(a))},{x:i,y:d(s)},{x:r,y:d(x(a))},{x:r,y:d(m(a))},{x:o,y:d(m(a))}]:[{x:o,y:d(v(a))},{x:r,y:d(v(a))},{x:r,y:d(s)},{x:r,y:d(s)},{x:r,y:d(s)},{x:r,y:d(m(a))},{x:o,y:d(m(a))}]):t.values.kde;l.selectAll("path").datum(u);var c=J[n],f="box"==e?d3.curveLinear:d3.curveBasis;"box"==e||"violin"==e?["left","right"].forEach(function(t){T.selectAll(".nv-distribution-line.nv-distribution-"+t).attr("d",d3.line().x(function(t){return"box"==e?t.y:d(t.x)}).y(function(t){return"box"==e?t.x:c(t.y)}).curve(f)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==t?-I():0)+")"+("left"==t?"":" scale(1,-1)")).style("opacity",e?"1":"0"),T.selectAll(".nv-distribution-area.nv-distribution-"+t).attr("d",d3.area().x(function(t){return"box"==e?t.y:d(t.x)}).y(function(t){return"box"==e?t.x:c(t.y)}).y0(I()/2).curve(f)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==t?-I():0)+")"+("left"==t?"":" scale(1,-1)")).style("opacity",e?"1":"0")}):(T.selectAll(".nv-distribution-area").watchTransition(tt,"nv-distribution-area: distroplots").style("opacity",e?"1":"0"),T.selectAll(".nv-distribution-line").watchTransition(tt,"nv-distribution-line: distroplots").style("opacity",e?"1":"0"))}),T.selectAll("path").on("mouseover",function(t,e,n){t=d3.select(this.parentNode).datum(),d3.select(this).classed("hover",!0),G.call("elementMouseover",this,{key:t.key,value:"Group "+t.key+" stats",series:[{key:"max",value:A(t).toFixed(2),color:p(t)||z(t,n)},{key:"Q3",value:m(t).toFixed(2),color:p(t)||z(t,n)},{key:"Q2",value:g(t).toFixed(2),color:p(t)||z(t,n)},{key:"Q1",value:v(t).toFixed(2),color:p(t)||z(t,n)},{key:"min",value:M(t).toFixed(2),color:p(t)||z(t,n)},{key:"mean",value:b(t).toFixed(2),color:p(t)||z(t,n)},{key:"std. dev.",value:C(t).toFixed(2),color:p(t)||z(t,n)},{key:"count",value:t.values.count,color:p(t)||z(t,n)},{key:"num. outliers",value:t.values.num_outlier,color:p(t)||z(t,n)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),t=d3.select(this.parentNode).datum(),G.call("elementMouseout",this,{key:t.key,value:"Group "+t.key+" stats",series:[{key:"max",value:A(t).toFixed(2),color:p(t)||z(t,n)},{key:"Q3",value:m(t).toFixed(2),color:p(t)||z(t,n)},{key:"Q2",value:g(t).toFixed(2),color:p(t)||z(t,n)},{key:"Q1",value:v(t).toFixed(2),color:p(t)||z(t,n)},{key:"min",value:M(t).toFixed(2),color:p(t)||z(t,n)},{key:"mean",value:b(t).toFixed(2),color:p(t)||z(t,n)},{key:"std. dev.",value:C(t).toFixed(2),color:p(t)||z(t,n)},{key:"count",value:t.values.count,color:p(t)||z(t,n)},{key:"num. outliers",value:t.values.num_outlier,color:p(t)||z(t,n)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){G.call("elementMousemove",this,{e:d3.event})}),F.append("line").attr("class",function(t){return"nv-distroplot-middle"}),T.selectAll("line.nv-distroplot-middle").watchTransition(tt,"nv-distroplot-x-group: distroplots line").attr("x1",W?R:"violin"!=e?H:R()).attr("y1",function(t,e,n){return d("mean"==N?b(t):g(t))}).attr("x2",W?$:"violin"!=e?function(){return B()+I()/2}:$()).attr("y2",function(t,e){return d("mean"==N?b(t):g(t))}).style("opacity",N?"1":"0"),T.selectAll(".nv-distroplot-middle").on("mouseover",function(t,e,n){if(0!=d3.select(this).style("opacity")){var r=d3.select(this.parentNode).style("fill");d3.select(this).classed("hover",!0),G.call("elementMouseover",this,{value:"mean"==N?"Mean":"Median",series:{key:"mean"==N?b(t).toFixed(2):g(t).toFixed(2),color:r},e:d3.event})}}).on("mouseout",function(t,e,n){if(0!=d3.select(this).style("opacity")){d3.select(this).classed("hover",!1);var r=d3.select(this.parentNode).style("fill");G.call("elementMouseout",this,{value:"mean"==N?"Mean":"Median",series:{key:"mean"==N?b(t).toFixed(2):g(t).toFixed(2),color:r},e:d3.event})}}).on("mousemove",function(t,e){G.call("elementMousemove",this,{e:d3.event})});var et=T.selectAll("g.nv-distroplot-observation").data(function(t){return S(t)},function(t){return t.object_constancy}),nt=et.enter().append("g").attr("class","nv-distroplot-observation");nt.append("circle").style({opacity:0}),nt.append("line").style("stroke-width",1).style({stroke:d3.rgb(85,85,85),opacity:0}),et.exit().remove(),et.attr("class",function(t){return"nv-distroplot-observation "+(q(t)&&"box"==e?"nv-distroplot-outlier":"nv-distroplot-non-outlier")}),"line"==L?T.selectAll("g.nv-distroplot-observation line").watchTransition(tt,"nv-distrolot-x-group: nv-distoplot-observation").attr("x1",R()+I()/4).attr("x2",$()-I()/4).attr("y1",function(t){return d(t.datum)}).attr("y2",function(t){return d(t.datum)}):(T.selectAll("g.nv-distroplot-observation circle").watchTransition(tt,"nv-distroplot: nv-distroplot-observation").attr("cy",function(t){return d(t.datum)}).attr("r",V),T.selectAll("g.nv-distroplot-observation circle").watchTransition(tt,"nv-distroplot: nv-distroplot-observation").attr("cx",function(t){return"swarm"==L?t.x+I()/2:"random"==L?I()/2+t.randX*I()/2:I()/2})),!1!==L&&(D?(T.selectAll(".nv-distroplot-outlier "+("line"==L?"line":"circle")).watchTransition(tt,"nv-distroplot: nv-distroplot-observation").style("opacity",1),T.selectAll(".nv-distroplot-non-outlier "+("line"==L?"line":"circle")).watchTransition(tt,"nv-distroplot: nv-distroplot-observation").style("opacity",0)):T.selectAll("line"==L?"line":"circle").watchTransition(tt,"nv-distroplot: nv-distroplot-observation").style("opacity",1)),T.selectAll(".nv-distroplot-observation"+("line"==L?" circle":" line")).watchTransition(tt,"nv-distroplot: nv-distoplot-observation").style("opacity",0),T.selectAll(".nv-distroplot-observation").on("mouseover",function(t,n,r){var i=d3.select(this);if(!D||"box"!=e||q(t)){var o=d3.select(this.parentNode).style("fill");i.classed("hover",!0),G.call("elementMouseover",this,{value:"box"==e&&q(t)?"Outlier":"Observation",series:{key:t.datum.toFixed(2),color:o},e:d3.event})}}).on("mouseout",function(t,n,r){var i=d3.select(this),o=d3.select(this.parentNode).style("fill");i.classed("hover",!1),G.call("elementMouseout",this,{value:"box"==e&&q(t)?"Outlier":"Observation",series:{key:t.datum.toFixed(2),color:o},e:d3.event})}).on("mousemove",function(t,e){G.call("elementMousemove",this,{e:d3.event})})}),tt.renderEnd("nv-distroplot-x-group immediate"),et}return et.dispatch=G,et.options=t.utils.optionsFunc.bind(et),et._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},maxBoxWidth:{get:function(){return Y},set:function(t){Y=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},plotType:{get:function(){return e},set:function(t){e=t}},observationType:{get:function(){return L},set:function(t){L=t}},whiskerDef:{get:function(){return F},set:function(t){F=t}},notchBox:{get:function(){return W},set:function(t){W=t}},hideWhiskers:{get:function(){return E},set:function(t){E=t}},colorGroup:{get:function(){return O},set:function(t){O=t}},centralTendency:{get:function(){return N},set:function(t){N=t}},bandwidth:{get:function(){return P},set:function(t){P=t}},clampViolin:{get:function(){return I},set:function(t){I=t}},resolution:{get:function(){return B},set:function(t){B=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},showOnlyOutliers:{get:function(){return D},set:function(t){D=t}},jitter:{get:function(){return T},set:function(t){T=t}},squash:{get:function(){return _},set:function(t){_=t}},pointSize:{get:function(){return V},set:function(t){V=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return i},set:function(t){i=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return o},set:function(t){o=t}},recalcData:{get:function(){Z=X(j.datum())}},itemColor:{get:function(){return p},set:function(t){p=t}},id:{get:function(){return u},set:function(t){u=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return z},set:function(e){z=t.utils.getColor(e)}},duration:{get:function(){return H},set:function(t){H=t,tt.reset(H)}}}),t.utils.initOptions(et),et},t.models.distroPlotChart=function(){"use strict";var e,n,r=t.models.distroPlot(),i=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),o=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),a={top:25,right:10,bottom:40,left:60},s=null,l=null,u=t.utils.getColor(),c=!0,d=!0,f=!1,h=!1,p=!1,v=!1,g=t.models.tooltip(),m="No Data Available.",y=d3.dispatch("stateChange","beforeUpdate","renderEnd"),x=500,b=d3.transition().duration(x).ease(d3.easeLinear);i.showMaxMin(!1).tickFormat(function(t){return t}),o.tickFormat(d3.format(",.1f")),g.duration(0);var k,w,M,A,C,S,L,F=t.utils.renderWatch(y,x);a.top;function E(t){return!function(t,e){if(t.length!==e.length)return!1;for(var n=t.length;n--;)if("object_constancy"in t[n]&&delete t[n].object_constancy,"object_constancy"in e[n]&&delete e[n].object_constancy,!W(t[n],e[n]))return!1;return!0}(t,L)&&(L=JSON.parse(JSON.stringify(t)),!0)}function W(t,e){var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0}function O(u){return F.reset(),F.models(r),c&&F.models(i),d&&F.models(o),u.each(function(u){var p=d3.select(this),v=this;t.utils.initSVG(p);var g=(s||parseInt(p.style("width"))||960)-a.left-a.right,x=(l||parseInt(p.style("height"))||400)-a.top-a.bottom;if(void 0===L&&(L=JSON.parse(JSON.stringify(u))),O.update=function(){y.call("beforeUpdate",v);var t=r.options();(k!==t.colorGroup()||w!==t.x()||M!==t.y()||C!==t.bandwidth()||A!==t.resolution()||S!==t.clampViolin()||E(u))&&r.recalcData(),p.transition(b).call(O)},O.container=this,"function"!=typeof d3.beeswarm&&"swarm"==O.options().observationType()){a.left;return m='Please include the library https://github.com/Kcnarf/d3-beeswarm to use "swarm".',t.utils.noData(O,p),O}if(!u||!u.length)return t.utils.noData(O,p),O;p.selectAll(".nv-noData").remove(),e=r.xScale(),n=r.yScale().clamp(!0);var W=p.selectAll("g.nv-wrap.nv-distroPlot").data([u]),N=W.enter().append("g").attr("class","nvd3 nv-wrap nv-distroPlot").append("g"),D=N.append("defs"),T=W.select("g");if(N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),N.append("g").attr("class","nv-distroWrap"),N.attr("transform","translate("+a.left+","+a.top+")"),T.watchTransition(F,"nv-wrap: wrap").attr("transform","translate("+a.left+","+a.top+")"),f&&T.select(".nv-y.nv-axis").attr("transform","translate("+g+",0)"),r.width(g).height(x),T.select(".nv-distroWrap").datum(u).transition().call(r),D.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),T.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",e.range()*(h?2:1)).attr("height",16).attr("x",-e.range()/(h?1:2)),c){i.scale(e).ticks(t.utils.calcTicksX(g/100,u)),i.tickSizeInner(-x),T.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),T.select(".nv-x.nv-axis").call(i);var _=T.select(".nv-x.nv-axis").selectAll("g");h&&_.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}d&&(o.scale(n).ticks(Math.floor(x/36)),o.tickSizeInner(-g),T.select(".nv-y.nv-axis").call(o)),T.select(".nv-zeroLine line").attr("x1",0).attr("x2",g).attr("y1",n(0)).attr("y2",n(0)),k=r.options().colorGroup(),w=r.options().x(),M=r.options().y(),C=r.options().bandwidth(),A=r.options().resolution(),S=r.options().clampViolin()}),F.renderEnd("nv-distroplot chart immediate"),O}return r.dispatch.on("elementMouseover.tooltip",function(t){g.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){g.data(t).hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){g()}),O.dispatch=y,O.distroplot=r,O.xAxis=i,O.yAxis=o,O.tooltip=g,O.options=t.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},showXAxis:{get:function(){return c},set:function(t){c=t}},showYAxis:{get:function(){return d},set:function(t){d=t}},tooltipContent:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return defaultState},set:function(t){defaultState=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return x},set:function(t){x=t,F.reset(x),b=d3.transition().duration(x).ease(d3.easeLinear),r.duration(x),i.duration(x),o.duration(x)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),r.color(u)}},rightAlignYAxis:{get:function(){return f},set:function(t){f=t,o.orient(t?"right":"left")}},xLabel:{get:function(){return p},set:function(t){p=t,i.axisLabel(p)}},yLabel:{get:function(){return v},set:function(t){v=t,o.axisLabel(v)}}}),t.utils.inheritOptions(O,r),t.utils.initOptions(O),O},t.models.focus=function(e){"use strict";e=e||t.models.line();var n,r,i=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),o=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),a=d3.brush(),s={top:10,right:0,bottom:30,left:0},l=t.utils.defaultColor(),u=null,c=70,d=!0,f=!1,h=!1,p=null,v=250,g=(d3.transition().duration(v).ease(d3.easeLinear),d3.dispatch("brush","onBrush","renderEnd")),m=!0;e.interactive(!1),e.pointActive(function(t){return!1});var y=t.utils.renderWatch(g,v);function x(b){return y.reset(),y.models(e),d&&y.models(i),f&&y.models(o),b.each(function(y){var b=d3.select(this);t.utils.initSVG(b);var k=t.utils.availableWidth(u,b,s),w=c-s.top-s.bottom;x.update=function(){0===v?b.call(x):b.transition().duration(v).call(x)},x.container=this,n=e.xScale(),r=e.yScale();var M=b.selectAll("g.nv-focus").data([y]),A=M.enter().append("g").attr("class","nvd3 nv-focus").append("g");M.select("g");M.attr("transform","translate("+s.left+","+s.top+")");var C=A.append("g").attr("class","nv-background").append("rect"),S=A.append("g").attr("class","nv-x nv-axis"),L=A.append("g").attr("class","nv-y nv-axis"),F=A.append("g").attr("class","nv-contentWrap"),E=A.append("g").attr("class","nv-brushBackground"),W=A.append("g").attr("class","nv-x nv-brush");h&&L.attr("transform","translate("+k+",0)"),C.attr("width",k).attr("height",w),e.width(k).height(w).color(y.map(function(t,e){return t.color||l(t,e)}).filter(function(t,e){return!y[e].disabled})),F.datum(y.filter(function(t){return!t.disabled})),d3.transition(F).call(e).merge(A),a.on("brush",function(){T(m)}),a.on("end",function(){m||g.call("brush",null===d3.event.selection?n.domain():a.extent())}),p&&a.extent(p);var O=E.selectAll("g").data([p||a.extent()]),N=O.enter().append("g");N.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",w),N.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",w).merge(A);var D=W.call(a);(D.selectAll("rect").attr("height",w),D.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=w/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}).merge(A),T(!0),C.attr("width",k).attr("height",w).merge(A),d)&&(i.scale(n)._ticks(t.utils.calcTicksX(k/100,y)),i.tickSizeInner(-w),S.attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(S).call(i).merge(S));f&&(o.scale(r)._ticks(t.utils.calcTicksY(w/36,y)),o.tickSizeInner(-k),L.call(o).merge(L));function T(t){p=null===d3.event||null===d3.event.selection?null:a.extent();var e=null===d3.event||null===d3.event.selection?n.domain():a.extent();g.call("brush",this,{extent:e,brush:a}),null!=p&&a.extent(p),O.data([null===p?n.domain():p]).each(function(t,e){var r=n(t[0])-n.range()[0],i=k-n(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",n(t[1])).attr("width",i<0?0:i)}),t&&g.call("brush",this,e)}S.attr("transform","translate(0,"+r.range()[0]+")").merge(A)}),y.renderEnd("focus immediate"),x}return x.dispatch=g,x.content=e,x.brush=a,x.xAxis=i,x.yAxis=o,x.options=t.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},brushExtent:{get:function(){return p},set:function(t){p=t}},syncBrushing:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return v},set:function(t){v=t,y.reset(v),d3.transition().duration(v).ease(d3.easeLinear),e.duration(v),i.duration(v),o.duration(v)}},color:{get:function(){return l},set:function(n){l=t.utils.getColor(n),e.color(l)}},interpolate:{get:function(){return e.interpolate()},set:function(t){e.interpolate(t)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},x:{get:function(){return e.x()},set:function(t){e.x(t)}},y:{get:function(){return e.y()},set:function(t){e.y(t)}},rightAlignYAxis:{get:function(){return h},set:function(t){h=t,o.orient(h?"right":"left")}}}),t.utils.inheritOptions(x,e),t.utils.initOptions(x),x},t.models.forceDirectedGraph=function(){"use strict";var e={top:2,right:0,bottom:2,left:0},n=400,r=32,i=null,o=d3.dispatch("renderEnd"),a=t.utils.getColor(["#000"]),s=t.models.tooltip(),l=null,u=.1,c=.5,d=30,f=-120,h=.1,p=.8,v=.3,g=5,m=function(t){},y=function(t){},x=function(){return 0},b=function(){return 0},k=t.utils.renderWatch(o);function w(o){return k.reset(),o.each(function(o){i=d3.select(this),t.utils.initSVG(i);var l=t.utils.availableWidth(n,i,e),h=t.utils.availableHeight(r,i,e);if(i.attr("width",l).attr("height",h),!(o&&o.links&&o.nodes))return t.utils.noData(w,i),w;i.selectAll(".nv-noData").remove(),i.selectAll("*").remove();var p=new Set;o.nodes.forEach(function(t){Object.keys(t).forEach(function(t){p.add(t)})});var x=d3.forceSimulation().nodes(o.nodes).force("link",d3.forceLink(o.links).strength(u).distance(d)).force("center",d3.forceCenter(l/2,h/2)).force("charge",d3.forceManyBody().strength(f)).alphaTarget(v).velocityDecay(c),b=i.selectAll(".link").data(o.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),k=i.selectAll(".node").data(o.nodes).enter().append("g").attr("class","nv-force-node").call(d3.drag().on("start",function(t){d3.event.sourceEvent.stopPropagation(),d3.event.active||x.alphaTarget(v).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(t){t.fx=d3.event.x,t.fy=d3.event.y}).on("end",function(t){d3.event.active||x.alphaTarget(v),t.fx=null,t.fy=null}));k.append("circle").attr("r",g).style("fill",function(t){return a(t)}).on("mouseover",function(t){i.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),i.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=a(t);t.series=[],p.forEach(function(n){t.series.push({color:e,key:n,value:t[n]})}),s.data(t).hidden(!1)}).on("mouseout",function(t){s.hidden(!0)}),s.headerFormatter(function(t){return"Node"}),y(b),m(k),x.on("tick",function(){b.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),k.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),w}return w.options=t.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return r},set:function(t){r=t}},linkStrength:{get:function(){return u},set:function(t){u=t}},friction:{get:function(){return c},set:function(t){c=t}},linkDist:{get:function(){return d},set:function(t){d=t}},charge:{get:function(){return f},set:function(t){f=t}},gravity:{get:function(){return h},set:function(t){h=t}},theta:{get:function(){return p},set:function(t){p=t}},alpha:{get:function(){return v},set:function(t){v=t}},radius:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return x},set:function(t){x="function"==typeof t?t:function(){return t}}},y:{get:function(){return b},set:function(t){b="function"==typeof t?t:function(){return t}}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}},noData:{get:function(){return l},set:function(t){l=t}},nodeExtras:{get:function(){return m},set:function(t){m=t}},linkExtras:{get:function(){return y},set:function(t){y=t}}}),w.dispatch=o,w.tooltip=s,t.utils.initOptions(w),w},t.models.furiousLegend=function(){"use strict";var e={top:5,right:0,bottom:5,left:0},n=400,r=20,i=function(t){return t.key},o=function(t){return t},a=t.utils.getColor(),s=20,l=!0,u=28,c=!0,d=!0,f=!1,h=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),v="classic";function g(m){function y(t,e){return"furious"!=v?"#000":h?t.disengaged?a(t,e):"#fff":h?void 0:t.disabled?a(t,e):"#fff"}function x(t,e){return h&&"furious"==v?t.disengaged?"#fff":a(t,e):t.disabled?"#fff":a(t,e)}return m.each(function(g){var m=n-e.left-e.right,b=d3.select(this);t.utils.initSVG(b);var k=b.selectAll("g.nv-legend").data([g]),w=(k.enter().append("g").attr("class","nvd3 nv-legend").append("g"),k.select("g"));k.attr("transform","translate("+e.left+","+e.top+")");var M,A=w.selectAll(".nv-series").data(function(t){return"furious"!=v?t:t.filter(function(t){return!!h||!t.disengaged})}),C=A.enter().append("g").attr("class","nv-series");if("classic"==v)C.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),M=A.select("circle");else if("furious"==v){C.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),M=A.select("rect"),C.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),A.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",y(t,e))})}C.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var S,L=A.select("text.nv-legend-text");switch(A.on("mouseover",function(t,e){p.call("legendMouseover",t,e)}).on("mouseout",function(t,e){p.call("legendMouseout",t,e)}).on("click",function(t,e){p.call("legendClick",t,e);var n=A.data();if(d){if("classic"==v)f?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==v)if(h)t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!h){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}p.call("stateChange",this,{disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=v||!h)&&(p.call("legendDblclick",this,t,e),d)){var n=A.data();n.forEach(function(t){t.disabled=!0,"furious"==v&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==v&&(t.userDisabled=t.disabled),p.call("stateChange",this,{disabled:n.map(function(t){return!!t.disabled})})}}),A.classed("nv-disabled",function(t){return t.userDisabled}),A.exit().remove(),L.attr("fill",y).text(function(t){return o(i(t))}),v){case"furious":S=23;break;case"classic":S=20}if(l){var F=[];A.each(function(e,n){var r,a;if(o(i(e))&&o(i(e)).length>s){var l=o(i(e)).substring(0,s);r=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(o(i(e)))}else r=d3.select(this).select("text");try{if((a=r.node().getComputedTextLength())<=0)throw Error()}catch(e){a=t.utils.calcApproxTextWidth(r)}F.push(a+u)});for(var E=0,W=0,O=[];W<m&&E<F.length;)O[E]=F[E],W+=F[E++];for(0===E&&(E=1);W>m&&E>1;){O=[],E--;for(var N=0;N<F.length;N++)F[N]>(O[N%E]||0)&&(O[N%E]=F[N]);W=O.reduce(function(t,e,n,r){return t+e})}for(var D=[],T=0,_=0;T<E;T++)D[T]=_,_+=O[T];A.attr("transform",function(t,e){return"translate("+D[e%E]+","+(5+Math.floor(e/E)*S)+")"}),c?w.attr("transform","translate("+(n-e.right-W)+","+e.top+")"):w.attr("transform","translate(0,"+e.top+")"),r=e.top+e.bottom+Math.ceil(F.length/E)*S}else{var P,I=5,B=5,V=0;A.attr("transform",function(t,r){var i=d3.select(this).select("text").node().getComputedTextLength()+u;return P=B,n<e.left+e.right+P+i&&(B=P=5,I+=S),(B+=i)>V&&(V=B),"translate("+P+","+I+")"}),w.attr("transform","translate("+(n-e.right-V)+","+e.top+")"),r=e.top+e.bottom+I+15}"furious"==v&&M.attr("width",function(t,e){return L[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),M.style("fill",x).style("stroke",function(t,e){return t.color||a(t,e)})}),g}return g.dispatch=p,g.options=t.utils.optionsFunc.bind(g),g._options=Object.create({},{width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return r},set:function(t){r=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},radioButtonMode:{get:function(){return f},set:function(t){f=t}},expanded:{get:function(){return h},set:function(t){h=t}},vers:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(g),g},t.models.heatMap=function(){"use strict";var e,n,r,i,o,a,s,l,u,c={top:0,right:0,bottom:0,left:0},d=960,f=500,h=Math.floor(1e4*Math.random()),p=d3.scaleBand(),v=d3.scaleBand(),g=!1,m=function(t){return t.x},y=function(t){return t.y},x=function(t){return t.value},b=!0,k=function(t){return"number"==typeof t?t.toFixed(0):t},w=!1,M=2,A=4,C=!1,S=!0,L=t.utils.defaultColor(),F=t.utils.defaultColor(),E="#bcbcbc",W="",O=5,N=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=250,T=function(t){return Y/3},_=function(t){return R/3},P=!1;function I(t){var e=d3.median(t),n=t.map(function(t){return Math.abs(t-e)});return d3.median(n)}function B(t){var e=C?at(t):x(t);return V()&&!isNaN(e)||void 0!==e?g(e):E}function V(){return"number"==typeof U[0]}function z(t){if(-1!=["centerRow","robustCenterRow","centerScaleRow","robustCenterScaleRow","centerColumn","robustCenterColumn","centerScaleColumn","robustCenterScaleColumn","centerAll","robustCenterAll","centerScaleAll","robustCenterScaleAll"].indexOf(C)){Object.keys(K),Object.keys(Q);var e=!!C.includes("Scale"),n=C.includes("robust")?"median":"mean",r=C.includes("Row")?"row":C.includes("Column")?"col":null,i=function(t,e){var n={};return t.forEach(function(t,r){"row"==e?(ot(t)in n||(n[ot(t)]=[]),n[ot(t)].push(x(t))):"col"==e?(it(t)in n||(n[it(t)]=[]),n[it(t)].push(x(t))):null==e&&(0 in n||(n[0]=[]),n[0].push(x(t)))}),n}(t,r),o={},a={};for(var s in i)o[s]="mean"==n?d3.mean(i[s]):d3.median(i[s]),e&&(a[s]="mean"==n?d3.deviation(i[s]):I(i[s]));t.forEach(function(t,n){if(V()){if("row"==r)var i=ot(t);else if("col"==r)i=it(t);else if(null==r)i=0;var s=x(t)-o[i];t._cellPos.norm=e?s/a[i]:s}else t._cellPos.norm=x(t)})}else C=!1;return t}function j(t){K={},Q={},U=[],J=[],$=[],tt=[];var e,n=[],r={},i=0,o=0,l=0;t.forEach(function(t){var u,c,d,f=m(t),h=y(t),p=x(t);f in K||(K[f]=i,i++,r[f]={},"function"==typeof a&&J.push(a(t))),h in Q||(Q[h]=o,o++,r[f][h]={},"function"==typeof s&&$.push(s(t))),-1==U.indexOf(p)&&U.push(p),t._cellPos={idx:l,ix:K[f],iy:Q[h]},l++,u=tt,c=e=[f,h],d=JSON.stringify(c),u.some(function(t){return JSON.stringify(t)===d})?-1==n.indexOf(f+h)&&(n.push(f+h),console.warn("The row/column position "+f+"/"+h+" has multiple values; ensure each cell has only a single value.")):(tt.push(e),r[f][h]=t)}),U=U.sort();var u=[];return Object.keys(Q).forEach(function(t){Object.keys(K).forEach(function(e){var n=r[e][t];if(n)u.push(n);else{var i={idx:l,ix:K[e],iy:Q[t]};l++,u.push({_cellPos:i})}})}),C?z(u):u}function G(){d3.selectAll(".cell-hover").classed("cell-hover",!1),d3.selectAll(".no-hover").classed("no-hover",!1),d3.selectAll(".row-hover").classed("row-hover",!1),d3.selectAll(".column-hover").classed("column-hover",!1)}var H,Y,R,X=function(t){var e=k(C?at(t):x(t));return V()&&!isNaN(e)||void 0!==e?e:W};function q(t){return Object.keys(t).sort(function(e,n){return t[e]-t[n]})}function Z(t,e){return Object.keys(t).filter(function(n){return t[n]===e})[0]}var K={},Q={},U=[],J=[],$=[],tt=[],et=t.utils.renderWatch(N,D),nt=["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],rt=function(t){return t._cellPos},it=function(t){return rt(t).ix},ot=function(t){return rt(t).iy},at=function(t){return rt(t).norm},st=function(t){return rt(t).idx};function lt(h){return et.reset(),h.each(function(h){H=j(h);var m=d-c.left-c.right,y=f-c.top-c.bottom;R=m/Object.keys(K).length,Y=w?R/w:y/Object.keys(Q).length,w&&(y=Y*Object.keys(Q).length-c.top-c.bottom),e=d3.select(this),t.utils.initSVG(e),p.domain(n||q(K)).range(i||[0,m-A/2]),v.domain(r||q(Q)).range(o||[0,y-A/2]),(g=V()?d3.scaleQuantize():d3.scaleOrdinal()).domain(u||(V()?C?d3.extent(H,function(t){return at(t)}):d3.extent(U):V()?void 0:U)).range(l||nt);var k=e.selectAll("g.nv-heatMapWrap").data([H]),E=k.enter().append("g").attr("class","nvd3 nv-heatMapWrap");E.append("g").attr("class","cellWrap"),k.watchTransition(et,"nv-wrap: heatMapWrap").attr("transform","translate("+c.left+","+c.top+")");E.append("g").attr("class","cellGrid").style("opacity",1e-6);var W=k.select(".cellGrid").selectAll(".gridLines.verticalGrid").data(Object.values(K).concat([Object.values(K).length]));W.enter().append("line").attr("class","gridLines verticalGrid"),W.exit().remove();var D=k.select(".cellGrid").selectAll(".gridLines.horizontalGrid").data(Object.values(Q).concat([Object.values(Q).length]));D.enter().append("line").attr("class","gridLines horizontalGrid"),D.exit().remove();var I=k.select(".cellWrap").selectAll(".nv-cell").data(function(t){return t},function(t){return st(t)}),z=(E.append("g").attr("class","xMetaWrap").attr("transform",function(){return"translate(0,"+(-T()-A-O)+")"}),k.select(".xMetaWrap").selectAll(".x-meta").data(J)),tt=(z.enter().append("rect").attr("class","x-meta meta").attr("width",R-A).attr("height",T()).attr("transform","translate(0,0)").attr("fill",function(t){return L(t)}),E.append("g").attr("class","yMetaWrap").attr("transform",function(t,e){return"translate("+(-_()-A-O)+",0)"}),k.select(".yMetaWrap").selectAll(".y-meta").data($));tt.enter().append("rect").attr("class","y-meta meta").attr("width",_()).attr("height",Y-A).attr("transform",function(t,e){return"translate(0,0)"}).attr("fill",function(t,e){return F(t)});z.exit().remove(),tt.exit().remove();var rt=I.enter().append("g").style("opacity",1e-6).attr("transform",function(t){return"translate(0,"+ot(t)*Y+")"}).attr("data-row",function(t){return ot(t)}).attr("data-column",function(t){return it(t)});rt.append("rect"),rt.append("text").attr("text-anchor","middle").attr("dy",4).attr("class","cell-text"),I.selectAll("rect").watchTransition(et,"heatMap: rect").attr("width",R-A).attr("height",Y-A).attr("rx",M).attr("ry",M).style("stroke",function(t){return B(t)}),I.attr("class",function(t){return isNaN(x(t))?"nv-cell cell-missing":"nv-cell"}).watchTransition(et,"heatMap: cells").style({opacity:1,fill:function(t){return B(t)}}).attr("transform",function(t){return"translate("+it(t)*R+","+ot(t)*Y+")"}).attr("class",function(t){return isNaN(x(t))?"nv-cell cell-missing":"nv-cell"}),I.exit().remove(),I.selectAll("text").watchTransition(et,"heatMap: cells text").text(function(t){return X(t)}).attr("x",function(t){return(R-A)/2}).attr("y",function(t){return(Y-A)/2}).style("fill",function(t){return function(t){if(S){var e=d3.rgb(t);return(299*e.r+587*e.g+114*e.b)/1e3>=128?"#404040":"#EDEDED"}return"black"}(B(t))}).style("opacity",function(){return b?1:0}),k.selectAll(".verticalGrid").watchTransition(et,"heatMap: gridLines").attr("y1",0).attr("y2",y-A).attr("x1",function(t){return t*R-A/2}).attr("x2",function(t){return t*R-A/2});var lt=Object.keys(Q).length;k.selectAll(".horizontalGrid").watchTransition(et,"heatMap: gridLines").attr("x1",function(t){return 0==t||t==lt?-A:0}).attr("x2",function(t){return 0==t||t==lt?m:m-A}).attr("y1",function(t){return t*Y-A/2}).attr("y2",function(t){return t*Y-A/2}),k.select(".cellGrid").watchTransition(et,"heatMap: gridLines").style({"stroke-width":A,opacity:function(){return P?1:1e-6}});k.selectAll(".x-meta"),k.selectAll(".y-meta");var ut=k.selectAll(".meta");z.watchTransition(et,"heatMap: xMetaRect").attr("width",R-A).attr("height",T()).attr("transform",function(t,e){return"translate("+e*R+",0)"}),tt.watchTransition(et,"heatMap: yMetaRect").attr("width",_()).attr("height",Y-A).attr("transform",function(t,e){return"translate(0,"+e*Y+")"}),k.select(".xMetaWrap").watchTransition(et,"heatMap: xMetaWrap").attr("transform",function(t,e){return"translate(0,"+(-T()-A-O)+")"}).style("opacity",function(){return!1!==a?1:0}),k.select(".yMetaWrap").watchTransition(et,"heatMap: yMetaWrap").attr("transform",function(t,e){return"translate("+(-_()-A-O)+",0)"}).style("opacity",function(){return!1!==s?1:0}),I.on("mouseover",function(t,e){var n=st(t),r=it(t),i=ot(t);d3.selectAll(".nv-cell").each(function(t){n==st(t)?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1)),r==it(t)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("column-hover",!0)),i==ot(t)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("row-hover",!0))}),d3.selectAll(".x-meta").each(function(t,e){e==r?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))}),d3.selectAll(".y-meta").each(function(t,e){e==i?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))}),N.call("elementMouseover",this,{value:Z(K,r)+" & "+Z(Q,i),series:{value:X(t),color:d3.select(this).select("rect").style("fill")},e:d3.event})}).on("mouseout",function(t,e){d3.select(this).select("rect").node().getBBox();var n=d3.mouse(d3.select(".nv-heatMap").node()),r=n[0],i=n[1];(r+A>=m||i+A>=y||r<0||i<0)&&(G(),N.call("elementMouseout",this,{e:d3.event}))}).on("mousemove",function(t,e){N.call("elementMousemove",this,{e:d3.event})}),ut.on("mouseover",function(t,e){var n=-1!=d3.select(this).attr("class").indexOf("x-meta");d3.selectAll(".nv-cell").each(function(t){n&&e==it(t)?(d3.select(this).classed("column-hover",!0),d3.select(this).classed("no-hover",!1)):n||e-J.length!=ot(t)?(d3.select(this).classed("no-hover",!0),d3.select(this).classed("column-hover",!1),d3.select(this).classed("row-hover",!1)):(d3.select(this).classed("row-hover",!0),d3.select(this).classed("no-hover",!1)),d3.select(this).classed("cell-hover",!1)}),d3.selectAll(".meta").classed("no-hover",!0),d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1),N.call("elementMouseover",this,{value:n?"Column meta":"Row meta",series:{value:t,color:d3.select(this).style("fill")}})}).on("mouseout",function(t,e){var n=-1!=d3.select(this).attr("class").indexOf("x-meta"),r=(d3.select(this).node().getBBox(),d3.mouse(d3.select(n?".xMetaWrap":".yMetaWrap").node())),i=r[0],o=r[1];(o<0||i<0||n&&i+A>=m||!n&&o+A>=y)&&(G(),N.call("elementMouseout",this,{e:d3.event}))}).on("mousemove",function(t,e){N.call("elementMousemove",this,{e:d3.event})})}),et.renderEnd("heatMap immediate"),lt}return lt.dispatch=N,lt.options=t.utils.optionsFunc.bind(lt),lt._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showCellValues:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return m},set:function(t){m=t}},y:{get:function(){return y},set:function(t){y=t}},cellValue:{get:function(){return x},set:function(t){x=t}},missingDataColor:{get:function(){return E},set:function(t){E=t}},missingDataLabel:{get:function(){return W},set:function(t){W=t}},xScale:{get:function(){return p},set:function(t){p=t}},yScale:{get:function(){return v},set:function(t){v=t}},colorScale:{get:function(){return g},set:function(t){g=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},colorRange:{get:function(){return l},set:function(t){l=t}},colorDomain:{get:function(){return u},set:function(t){u=t}},xMeta:{get:function(){return a},set:function(t){a=t}},yMeta:{get:function(){return s},set:function(t){s=t}},xMetaColorScale:{get:function(){return color},set:function(e){color=t.utils.getColor(e)}},yMetaColorScale:{get:function(){return color},set:function(e){color=t.utils.getColor(e)}},cellAspectRatio:{get:function(){return w},set:function(t){w=t}},cellRadius:{get:function(){return M},set:function(t){M=t}},cellHeight:{get:function(){return Y}},cellWidth:{get:function(){return R}},normalize:{get:function(){return C},set:function(t){C=t}},cellBorderWidth:{get:function(){return A},set:function(t){A=t}},highContrastText:{get:function(){return S},set:function(t){S=t}},cellValueFormat:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return h},set:function(t){h=t}},metaOffset:{get:function(){return O},set:function(t){O=t}},xMetaHeight:{get:function(){return T},set:function(t){T=t}},yMetaWidth:{get:function(){return _},set:function(t){_=t}},showGrid:{get:function(){return P},set:function(t){P=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return D},set:function(t){D=t,et.reset(D)}}}),t.utils.initOptions(lt),lt},t.models.heatMapChart=function(){"use strict";var e,n,r=t.models.heatMap(),i=t.models.legend(),o=(t.models.legend(),t.models.legend(),t.models.tooltip()),a=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),s=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),l={top:20,right:10,bottom:50,left:60},u=null,c=null,d=(t.utils.getColor(),!0),f=!1,h=!0,p=!0,v="left",g="top",m=0,y=null,x=d3.dispatch("beforeUpdate","renderEnd"),b=250,k=d3.transition().duration(b).ease(d3.easeLinear);a.showMaxMin(!1).tickFormat(function(t){return t}),s.showMaxMin(!1).tickFormat(function(t){return t}),o.duration(0).headerEnabled(!0).keyFormatter(function(t,e){return a.tickFormat()(t,e)});var w=t.utils.renderWatch(x,b);function M(o){return w.reset(),w.models(r),w.models(a),w.models(s),o.each(function(o){var y=d3.select(this);t.utils.initSVG(y);var b=t.utils.availableWidth(u,y,l),A=t.utils.availableHeight(c,y,l);if(M.update=function(){x.call("beforeUpdate",this),y.transition(k).call(M)},M.container=this,!o||!o.length)return t.utils.noData(M,y),M;y.selectAll(".nv-noData").remove(),e=r.xScale(),n=r.yScale();var C=y.selectAll("g.nv-wrap").data([o]),S=C.enter().append("g").attr("class","nvd3 nv-wrap").append("g"),L=C.select("g");S.append("g").attr("class","nv-heatMap"),S.append("g").attr("class","nv-legendWrap"),S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis"),L.attr("transform","translate("+l.left+","+l.top+")"),r.width(b).height(A),L.select(".nv-heatMap").datum(o.filter(function(t){return!t.disabled})).transition().call(r),r.cellAspectRatio()&&(A=r.cellHeight()*n.domain().length,r.height(A)),a.scale(e)._ticks(t.utils.calcTicksX(b/100,o)),a.tickSizeInner(-A);var F=L.select(".nv-x.nv-axis");F.call(a).watchTransition(w,"heatMap: axisX").selectAll(".tick").style("opacity",function(){return h?1:0}),F.selectAll("g").selectAll(".tick text").attr("transform",function(t,e,n){return"translate(0, "+(f?n%2==0?"5":"17":"0")+") rotate("+(0!=m?m:"0")+" 0,0)"}).style("text-anchor",m>0?"start":m<0?"end":"middle");var E=-5;if("function"==typeof r.xMeta()&&(F.selectAll("text").style("text-anchor","middle"),E=-r.xMetaHeight()()/2-r.metaOffset()+3),"bottom"==g){if(F.watchTransition(w,"heatMap: axisX").attr("transform","translate(0,"+(A-E)+")"),!1!==r.xMeta()){var W=A+r.metaOffset()+r.cellBorderWidth();L.select(".xMetaWrap").watchTransition(w,"heatMap: xMetaWrap").attr("transform",function(t,e){return"translate(0,"+W+")"})}}else F.watchTransition(w,"heatMap: axisX").attr("transform","translate(0,"+E+")");s.scale(n)._ticks(t.utils.calcTicksY(A/36,o)),s.tickSizeInner(-b);var O=L.select(".nv-y.nv-axis");O.call(s).watchTransition(w,"heatMap: axisY").selectAll(".tick").style("opacity",function(){return p?1:0});var N=-5;if("function"==typeof r.yMeta()&&(O.selectAll("text").style("text-anchor","middle"),N=-r.yMetaWidth()()/2-r.metaOffset()),"right"==v){if(O.attr("transform","translate("+(b-N)+",0)"),!1!==r.yMeta()){W=b+r.metaOffset()+r.cellBorderWidth();L.select(".yMetaWrap").watchTransition(w,"heatMap: yMetaWrap").attr("transform",function(t,e){return"translate("+W+",0)"})}}else O.attr("transform","translate("+N+",0)");var D=L.select(".nv-legendWrap");i.width(b).color(r.colorScale().range());var T,_=(T=r.colorScale(),"string"==typeof T.domain()[0]?T.domain():T.range().map(function(t){var e=T.invertExtent(t);return null===e[0]&&(e[0]=T.domain()[0]),null===e[1]&&(e[1]=T.domain()[1]),e})).map(function(t){return Array.isArray(t)?{key:t[0].toFixed(1)+" - "+t[1].toFixed(1)}:{key:t}});D.datum(_).call(i).attr("transform","translate(0,"+("top"==g?A:-30)+")"),D.watchTransition(w,"heatMap: nv-legendWrap").style("opacity",function(){return d?1:0})}),d3.selectAll(".nv-axis").selectAll("line").style("stroke-opacity",0),d3.select(".nv-y").select("path.domain").remove(),w.renderEnd("heatMap chart immediate"),M}return r.dispatch.on("elementMouseover.tooltip",function(t){o.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){o.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){o()}),M.dispatch=x,M.heatMap=r,M.legend=i,M.xAxis=a,M.yAxis=s,M.tooltip=o,M.options=t.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},showLegend:{get:function(){return d},set:function(t){d=t}},noData:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return h},set:function(t){h=t}},showYAxis:{get:function(){return p},set:function(t){p=t}},staggerLabels:{get:function(){return f},set:function(t){f=t}},rotateLabels:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return b},set:function(t){b=t,w.reset(b),r.duration(b),a.duration(b),s.duration(b)}},alignYAxis:{get:function(){return v},set:function(t){v=t}},alignXAxis:{get:function(){return g},set:function(t){g=t}}}),t.utils.inheritOptions(M,r),t.utils.initOptions(M),M},t.models.historicalBar=function(){"use strict";var e,n,r,i,o={top:0,right:0,bottom:0,left:0},a=null,s=null,l=Math.floor(1e4*Math.random()),u=null,c=d3.scaleLinear(),d=d3.scaleLinear(),f=function(t){return t.x},h=function(t){return t.y},p=[],v=[0],g=!1,m=!0,y=t.utils.defaultColor(),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),b=!0,k=t.utils.renderWatch(x,0);function w(M){return M.each(function(w){k.reset(),u=d3.select(this);var M=t.utils.availableWidth(a,u,o),A=t.utils.availableHeight(s,u,o);t.utils.initSVG(u),c.domain(e||d3.extent(w[0].values.map(f).concat(p))),g?c.range(r||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):c.range(r||[0,M]),d.domain(n||d3.extent(w[0].values.map(h).concat(v))).range(i||[A,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var C=u.selectAll("g.nv-wrap.nv-historicalBar-"+l).data([w[0].values]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+l),L=S.append("defs"),F=S.append("g"),E=C.select("g");F.append("g").attr("class","nv-bars"),C.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){x.call("chartClick",this,{data:t,index:e,pos:d3.event,id:l})}),L.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),C.select("#nv-chart-clip-path-"+l+" rect").attr("width",M).attr("height",A),E.attr("clip-path",m?"url(#nv-chart-clip-path-"+l+")":"");var W=C.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return f(t,e)});W.exit().remove(),W.enter().append("rect").attr("x",0).attr("y",function(e,n){return t.utils.NaNtoZero(d(Math.max(0,h(e,n))))}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.abs(d(h(e,n))-d(0)))}).attr("transform",function(t,e){return"translate("+(c(f(t,e))-M/w[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){b&&(d3.select(this).classed("hover",!0),x.call("elementMouseover",this,{data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){b&&(d3.select(this).classed("hover",!1),x.call("elementMouseout",this,{data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){b&&x.call("elementMousemove",this,{data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){if(b){x.call("elementClick",this,{data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}}).on("dblclick",function(t,e){b&&(x.call("elementDblClick",this,{data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),W.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(h(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(k,"bars").attr("transform",function(t,e){return"translate("+(c(f(t,e))-M/w[0].values.length*.45)+",0)"}).attr("width",M/w[0].values.length*.9),W.watchTransition(k,"bars").attr("y",function(e,n){var r=h(e,n)<0?d(0):d(0)-d(h(e,n))<1?d(0)-1:d(h(e,n));return t.utils.NaNtoZero(r)}).attr("height",function(e,n){return t.utils.NaNtoZero(Math.max(Math.abs(d(h(e,n))-d(0)),1))})}),k.renderEnd("historicalBar immediate"),w}return w.highlightPoint=function(t,e){u.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},w.clearHighlights=function(){u.select(".nv-bars .nv-bar.hover").classed("hover",!1)},w.dispatch=x,w.options=t.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return v},set:function(t){v=t}},padData:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return i},set:function(t){i=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return y},set:function(e){y=t.utils.getColor(e)}}}),t.utils.initOptions(w),w},t.models.historicalBarChart=function(e){"use strict";var n,r,i=e||t.models.historicalBar(),o=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),a=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),s=t.models.legend(),l=t.interactiveGuideline(),u=t.models.tooltip(),c={top:30,right:90,bottom:50,left:90},d=null,f=t.utils.defaultColor(),h=null,p=null,v=!1,g=!0,m=!0,y=!1,x=!1,b={},k=null,w=null,M=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),A=250,C=d3.transition().duration(A).ease(d3.easeLinear);o.tickPadding(7),u.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return a.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)});var S=t.utils.renderWatch(M,0);function L(e){return e.each(function(u){S.reset(),S.models(i),g&&S.models(o),m&&S.models(a);var w=d3.select(this);t.utils.initSVG(w);var A,F=t.utils.availableWidth(h,w,c),E=t.utils.availableHeight(p,w,c);if(L.update=function(){w.transition(C).call(L)},L.container=this,b.disabled=u.map(function(t){return!!t.disabled}),!k)for(A in k={},b)b[A]instanceof Array?k[A]=b[A].slice(0):k[A]=b[A];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return t.utils.noData(L,w),L;w.selectAll(".nv-noData").remove(),n=i.xScale(),r=i.yScale();var W=w.selectAll("g.nv-wrap.nv-historicalBarChart").data([u]),O=W.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),N=W.select("g");O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-barsWrap"),O.append("g").attr("class","nv-legendWrap"),O.append("g").attr("class","nv-interactive"),v?(s.width(F),N.select(".nv-legendWrap").datum(u).call(s),d||s.height()===c.top||(c.top=s.height(),E=t.utils.availableHeight(p,w,c)),W.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):N.select(".nv-legendWrap").selectAll("*").remove(),W.attr("transform","translate("+c.left+","+c.top+")"),y&&N.select(".nv-y.nv-axis").attr("transform","translate("+F+",0)"),x&&(l.width(F).height(E).margin({left:c.left,top:c.top}).svgContainer(w).xScale(n),W.select(".nv-interactive").call(l)),i.width(F).height(E).color(u.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!u[e].disabled})),N.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(i),g&&(o.scale(n)._ticks(t.utils.calcTicksX(F/100,u)),o.tickSizeInner(-E),N.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),N.select(".nv-x.nv-axis").transition().call(o)),m&&(a.scale(r)._ticks(t.utils.calcTicksY(E/36,u)),a.tickSizeInner(-F),N.select(".nv-y.nv-axis").transition().call(a)),l.dispatch.on("elementMousemove",function(e){i.clearHighlights();var n,r,s,c=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){r=t.interactiveBisect(o.values,e.pointXValue,L.x()),i.highlightPoint(r,!0);var l=o.values[r];void 0!==l&&(void 0===n&&(n=l),void 0===s&&(s=L.xScale()(L.x()(l,r))),c.push({key:o.key,value:L.y()(l,r),color:f(o,o.seriesIndex),data:o.values[r]}))});var d=o.tickFormat()(L.x()(n,r));l.tooltip.valueFormatter(function(t,e){return a.tickFormat()(t)}).data({value:d,index:r,series:c})(),l.renderGuideLine(s)}),l.dispatch.on("elementMouseout",function(t){M.call("tooltipHide",this),i.clearHighlights()}),s.dispatch.on("legendClick",function(t,n){t.disabled=!t.disabled,u.filter(function(t){return!t.disabled}).length||u.map(function(t){return t.disabled=!1,W.selectAll(".nv-series").classed("disabled",!1),t}),b.disabled=u.map(function(t){return!!t.disabled}),M.call("stateChange",this,b),e.transition().call(L)}),s.dispatch.on("legendDblclick",function(t){u.forEach(function(t){t.disabled=!0}),t.disabled=!1,b.disabled=u.map(function(t){return!!t.disabled}),M.call("stateChange",this,b),L.update()}),M.on("changeState",function(t){void 0!==t.disabled&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),b.disabled=t.disabled),L.update()})}),S.renderEnd("historicalBarChart immediate"),L}return i.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:L.x()(t.data),value:L.y()(t.data),color:t.color},u.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(t){u()}),L.dispatch=M,L.bars=i,L.legend=s,L.xAxis=o,L.yAxis=a,L.interactiveLayer=l,L.tooltip=u,L.options=t.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return g},set:function(t){g=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),s.color(f),i.color(f)}},duration:{get:function(){return A},set:function(t){A=t,S.reset(A),C=d3.transition().duration(A).ease(d3.easeLinear),a.duration(A),o.duration(A)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,!0===t&&L.interactive(!1)}}}),t.utils.inheritOptions(L,i),t.utils.initOptions(L),L},t.models.ohlcBarChart=function(){var e=t.models.historicalBarChart(t.models.ohlcBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.candlestickBarChart=function(){var e=t.models.historicalBarChart(t.models.candlestickBar());return e.useInteractiveGuideline(!0),e.interactiveLayer.tooltip.contentGenerator(function(t){var n=t.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+e.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+e.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+e.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+e.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),e},t.models.legend=function(){"use strict";var e={top:5,right:0,bottom:5,left:0},n=400,r=20,i=function(t){return t.key},o=function(t){return t},a=t.utils.getColor(),s=20,l=!0,u=32,c=!0,d=!0,f=!0,h=!1,p=!1,v=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic",m=d3.transition().duration(300).ease(d3.easeLinear);function y(x){function b(t,e){return"furious"!=g?"#000":p?t.disengaged?"#000":"#fff":p?void 0:(t.color||(t.color=a(t,e)),t.disabled?t.color:"#fff")}function k(t,e){return p&&"furious"==g&&t.disengaged?"#eee":t.color||a(t,e)}function w(t,e){return p&&"furious"==g?1:t.disabled?0:1}return x.each(function(a){var y=n-e.left-e.right,x=d3.select(this);t.utils.initSVG(x);var M=x.selectAll("g.nv-legend").data([a]),A=M.enter().append("g").attr("class","nvd3 nv-legend").append("g"),C=M.select("g");c?M.attr("transform","translate("+-e.right+","+e.top+")"):M.attr("transform","translate("+e.left+","+e.top+")");var S,L,F=C.selectAll(".nv-series").data(function(t){return"furious"!=g?t:t.filter(function(t){return!!p||!t.disengaged})}),E=F.enter().append("g").attr("class","nv-series");switch(g){case"furious":L=23;break;case"classic":L=20}if("classic"==g)E.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),S=F.select(".nv-legend-symbol");else if("furious"==g){E.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),S=F.select(".nv-legend-symbol"),E.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),F.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",b(t,e))})}E.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var W=F.select("text.nv-legend-text");F.on("mouseover",function(t,e){v.call("legendMouseover",t,e)}).on("mouseout",function(t,e){v.call("legendMouseout",t,e)}).on("click",function(t,e){v.call("legendClick",t,e);var n=F.data();if(d){if("classic"==g)h?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==g)if(p)t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!p){t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}v.call("stateChange",this,{disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(f){if("furious"==g&&p)return;if(v.call("legendDblclick",t,e),d){var n=F.data();n.forEach(function(t){t.disabled=!0,"furious"==g&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==g&&(t.userDisabled=t.disabled),v.call("stateChange",this,{disabled:n.map(function(t){return!!t.disabled})})}}}),F.classed("nv-disabled",function(t){return t.userDisabled}),F.exit().remove(),W.attr("fill",b).text(function(t){return o(i(t))});var O=0;if(l){var N=[];F.each(function(e,n){var r,a;if(o(i(e))&&o(i(e)).length>s){var l=o(i(e)).substring(0,s);r=d3.select(this).select("text").text(l+"..."),d3.select(this).append("svg:title").text(o(i(e)))}else r=d3.select(this).select("text");try{if((a=r.node().getComputedTextLength())<=0)throw Error()}catch(e){a=t.utils.calcApproxTextWidth(r)}N.push(a+u)});var D=0,T=[];for(O=0;O<y&&D<N.length;)T[D]=N[D],O+=N[D++];for(0===D&&(D=1);O>y&&D>1;){T=[],D--;for(var _=0;_<N.length;_++)N[_]>(T[_%D]||0)&&(T[_%D]=N[_]);O=T.reduce(function(t,e,n,r){return t+e})}for(var P=[],I=0,B=0;I<D;I++)P[I]=B,B+=T[I];F.attr("transform",function(t,e){return"translate("+P[e%D]+","+(5+Math.floor(e/D)*L)+")"}),c?C.attr("transform","translate("+(n-e.right-O)+","+e.top+")"):C.attr("transform","translate(0,"+e.top+")"),r=e.top+e.bottom+Math.ceil(N.length/D)*L}else{var V,z=5,j=5,G=0;F.attr("transform",function(t,r){var i=d3.select(this).select("text").node().getComputedTextLength()+u;return V=j,n<e.left+e.right+V+i&&(j=V=5,z+=L),(j+=i)>G&&(G=j),O<V+G&&(O=V+G),"translate("+V+","+z+")"}),C.attr("transform","translate("+(n-e.right-G)+","+e.top+")"),r=e.top+e.bottom+z+15}"furious"==g&&(S.attr("width",function(t,e){return W[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),A.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),C.select(".nv-legend-bg").transition(m).attr("x",-L).attr("width",O+L-12).attr("height",r+10).attr("y",-e.top-10).attr("opacity",p?1:0));S.style("fill",k).style("fill-opacity",w).style("stroke",k)}),y}return y.dispatch=v,y.options=t.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return r},set:function(t){r=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return l},set:function(t){l=t}},maxKeyLength:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},padding:{get:function(){return u},set:function(t){u=t}},updateState:{get:function(){return d},set:function(t){d=t}},enableDoubleClick:{get:function(){return f},set:function(t){f=t}},radioButtonMode:{get:function(){return h},set:function(t){h=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}}}),t.utils.initOptions(y),y},t.models.line=function(){"use strict";var e,n,r=t.models.scatter(),i={top:0,right:0,bottom:0,left:0},o=960,a=500,s=null,l=1.5,u=t.utils.defaultColor(),c=function(t){return t.x},d=function(t){return t.y},f=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},h=function(t){return t.area},p=!1,v=d3.curveLinear,g=d3.curveBasis,m=250,y=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");r.pointSize(16).pointDomain([16,256]);var x,b,k=t.utils.renderWatch(y,m);function w(m){return k.reset(),k.models(r),m.each(function(m){s=d3.select(this);var y=t.utils.availableWidth(o,s,i),w=t.utils.availableHeight(a,s,i);t.utils.initSVG(s),e=r.xScale(),n=r.yScale(),x=x||e,b=b||n;var M=s.selectAll("g.nv-wrap.nv-line").data([m]).enter().append("g").attr("class","nvd3 nv-wrap nv-line").attr("transform","translate("+i.left+","+i.top+")"),A=M.append("defs"),C=M.append("g"),S=C.append("g").attr("class","nv-groups"),L=C.append("g").attr("class","nv-scatterWrap");r.width(y).height(w);L.call(r);A.append("clipPath").attr("id","nv-edge-clip-"+r.id()).append("rect").attr("width",y).attr("height",w>0?w:0),C.attr("clip-path",p?"url(#nv-edge-clip-"+r.id()+")":""),L.attr("clip-path",p?"url(#nv-edge-clip-"+r.id()+")":"");var F=S.selectAll(".nv-group").data(function(t){return t},function(t){return t.key});F.exit().remove();var E=F.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||l}).style("fill-opacity",1e-6);E.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}),E.watchTransition(k,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var W=F.selectAll("path.nv-area").data(function(t){return h(t)?[t]:[]}),O=W.enter().append("path").attr("class","nv-area").attr("d",function(e){return d3.area().curve(v).defined(f).x(function(e,n){return t.utils.NaNtoZero(x(c(e,n)))}).y0(function(e,n){return t.utils.NaNtoZero(b(d(e,n)))}).y1(function(t,e){return b(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[e.values])});F.exit().selectAll("path.nv-area").remove(),O.watchTransition(k,"line: areaPaths").attr("d",function(r){return d3.area().curve(v).defined(f).x(function(n,r){return t.utils.NaNtoZero(e(c(n,r)))}).y0(function(e,r){return t.utils.NaNtoZero(n(d(e,r)))}).y1(function(t,e){return n(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[r.values])}),O.merge(W),E.selectAll("path.nv-line").data(function(t){return[t.values]}).enter().append("path").attr("class","nv-line").attr("d",d3.line().curve(g).defined(f).x(function(e,n){return t.utils.NaNtoZero(x(c(e,n)))}).y(function(e,n){return t.utils.NaNtoZero(b(d(e,n)))})).watchTransition(k,"line: linePaths").attr("d",d3.line().curve(g).defined(f).x(function(n,r){return t.utils.NaNtoZero(e(c(n,r)))}).y(function(e,r){return t.utils.NaNtoZero(n(d(e,r)))})),x=e.copy(),b=n.copy()}),k.renderEnd("line immediate"),w}return w.dispatch=y,w.scatter=r,r.dispatch.on("elementClick",function(){y.apply("elementClick",this,arguments)}),r.dispatch.on("elementMouseover",function(){y.apply("elementMouseover",this,arguments)}),r.dispatch.on("elementMouseout",function(){y.apply("elementMouseout",this,arguments)}),w.options=t.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},defined:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return v},set:function(t){v=t}},clipEdge:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return m},set:function(t){m=t,k.reset(m),r.duration(m)}},isArea:{get:function(){return h},set:function(t){h="function"==typeof t?t:function(){return t}}},x:{get:function(){return c},set:function(t){c=t,r.x(t)}},y:{get:function(){return d},set:function(t){d=t,r.y(t)}},color:{get:function(){return u},set:function(e){u=t.utils.getColor(e),r.color(u)}}}),t.utils.inheritOptions(w,r),t.utils.initOptions(w),w},t.models.lineChart=function(){"use strict";var e,n,r=t.models.line(),i=t.models.axis(d3.axisBottom(d3.scaleLinear()),"top"),o=t.models.axis(d3.axisLeft(d3.scaleLinear()),"right"),a=t.models.legend(),s=t.interactiveGuideline(),l=t.models.tooltip(),u=t.models.focus(t.models.line()),c={top:30,right:20,bottom:50,left:60},d=null,f=t.utils.defaultColor(),h=null,p=null,v=!0,g="top",m=!0,y=!0,x=!1,b=!1,k=!1,w=t.utils.state(),M=null,A=null,C=d3.dispatch("stateChange","changeState","renderEnd"),S=250;d3.transition().duration(S).ease(d3.easeLinear);i.tickPadding(7),r.clipEdge(!0).duration(0),l.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)});var L=t.utils.renderWatch(C,S),F=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},E=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function W(l){return L.reset(),L.models(r),m&&L.models(i),y&&L.models(o),l.each(function(l){var A=d3.select(this);t.utils.initSVG(A);var L,O=t.utils.availableWidth(h,A,c),N=t.utils.availableHeight(p,A,c)-(k?u.height():0);if(W.update=function(){if(0===S)A.call(W);else A.transition().duration(S).call(W)},W.container=this,w.setter(E(l),W.update).getter(F(l)).update(),w.disabled=l.map(function(t){return!!t.disabled}),!M)for(L in M={},w)w[L]instanceof Array?M[L]=w[L].slice(0):M[L]=w[L];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return t.utils.noData(W,A),W;A.selectAll(".nv-noData").remove(),u.dispatch.on("brush",function(t){Z(t)}),e=r.xScale(),n=r.yScale();var D=A.selectAll("g.nv-wrap.nv-lineChart").data([l]),T=D.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),_=T.select("g"),P=T.append("g").attr("class","nv-legendWrap"),I=T.append("g").attr("class","nv-focus"),B=I.append("g").attr("class","nv-background").append("rect"),V=I.append("g").attr("class","nv-x nv-axis"),z=I.append("g").attr("class","nv-y nv-axis"),j=I.append("g").attr("class","nv-linesWrap"),G=I.append("g").attr("class","nv-interactive"),H=T.append("g").attr("class","nv-focusWrap");v?(a.width(O),P.datum(l).call(a),"bottom"===g?(c.bottom=i.height()+a.height(),N=t.utils.availableHeight(p,A,c),P.attr("transform","translate(0,"+(N+i.height())+")")):"top"===g&&(d||a.height()===c.top||(c.top=a.height(),N=t.utils.availableHeight(p,A,c)-(k?u.height():0)),D.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")"))):P.selectAll("*").remove(),D.attr("transform","translate("+c.left+","+c.top+")"),x&&z.attr("transform","translate("+O+",0)"),b&&(s.width(O).height(N).margin({left:c.left,top:c.top}).svgContainer(A).xScale(e),G.call(s)),B.attr("width",O).attr("height",N),r.width(O).height(N).color(l.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!l[e].disabled}));var Y=j.datum(l.filter(function(t){return!t.disabled}));function R(){m&&_.select(".nv-focus .nv-x.nv-axis").transition().duration(S).call(i)}function X(){y&&_.select(".nv-focus .nv-y.nv-axis").transition().duration(S).call(o)}if(m&&(i.scale(e)._ticks(t.utils.calcTicksX(O/100,l)),i.tickSizeInner(-N)),y&&(o.scale(n)._ticks(t.utils.calcTicksY(N/36,l)),o.tickSizeInner(-O)),V.attr("transform","translate(0,"+N+")"),k){u.width(O);H.style("display",k?"initial":"none").attr("transform","translate(0,"+(N+c.bottom+u.margin().top)+")").call(u);var q=null===u.brush.extent()?u.xDomain():u.brush.extent();null!==q&&Z(q)}else{console.log("in !focusEnable");Y.transition().call(r);R(),X()}function Z(t){_.select(".nv-focus .nv-linesWrap").datum(l.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,n){return r.x()(e,n)>=t[0]&&r.x()(e,n)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(S).call(r);R(),X()}a.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];C.call("stateChange",this,w),W.update()}),s.dispatch.on("elementMousemove",function(n){r.clearHighlights();var i,a,c,d=[];if(l.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(o,s){var l=null!==u.brush.extent()?null===u.brush.extent()?u.xScale().domain():u.brush.extent():e.domain(),h=o.values.filter(function(t,e){return l[0]<=l[1]?r.x()(t,e)>=l[0]&&r.x()(t,e)<=l[1]:r.x()(t,e)>=l[1]&&r.x()(t,e)<=l[0]});if(h.length>0){var p=h[a=t.interactiveBisect(h,n.pointXValue,r.x())],v=W.y()(p,a);if(null!==v&&r.highlightPoint(s,o.values.indexOf(p),!0),void 0===p)return;void 0===i&&(i=p),void 0===c&&(c=W.xScale()(W.x()(p,a))),d.push({key:o.key,value:v,color:f(o,o.seriesIndex),data:p})}}),d.length>2){var h=W.yScale().invert(n.mouseY),p=.03*Math.abs(W.yScale().domain()[0]-W.yScale().domain()[1]),v=t.nearestValueIndex(d.map(function(t){return t.value}),h,p);null!==v&&(d[v].highlight=!0)}void 0!==a&&(s.tooltip.valueFormatter(s.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":o.tickFormat()(t)}).data({value:W.x()(i,a),index:a,series:d})(),s.renderGuideLine(c))}),s.dispatch.on("elementClick",function(e){var n,i=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(r){var o=t.interactiveBisect(r.values,e.pointXValue,W.x()),a=r.values[o];if(void 0!==a){void 0===n&&(n=W.xScale()(W.x()(a,o)));var s=W.yScale()(W.y()(a,o));i.push({point:a,pointIndex:o,pos:[n,s],seriesIndex:r.seriesIndex,series:r})}}),r.dispatch.call("elementClick",this,i)}),s.dispatch.on("elementMouseout",function(t){r.clearHighlights()}),C.on("changeState",function(t){void 0!==t.disabled&&l.length===t.disabled.length&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),W.update()})}),L.renderEnd("lineChart immediate"),W}return r.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||l.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),W.dispatch=C,W.lines=r,W.legend=a,W.focus=u,W.xAxis=i,W.x2Axis=u.xAxis,W.yAxis=o,W.y2Axis=u.yAxis,W.interactiveLayer=s,W.tooltip=l,W.state=w,W.dispatch=C,W.options=t.utils.optionsFunc.bind(W),W._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return A},set:function(t){A=t}},focusEnable:{get:function(){return k},set:function(t){k=t}},focusHeight:{get:function(){return u.height()},set:function(t){u.height(t)}},focusShowAxisX:{get:function(){return u.showXAxis()},set:function(t){u.showXAxis(t)}},focusShowAxisY:{get:function(){return u.showYAxis()},set:function(t){u.showYAxis(t)}},brushExtent:{get:function(){return u.brushExtent()},set:function(t){u.brushExtent(t)}},focusMargin:{get:function(){return u.margin},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),u.margin.right=void 0!==t.right?t.right:u.margin.right,u.margin.bottom=void 0!==t.bottom?t.bottom:u.margin.bottom,u.margin.left=void 0!==t.left?t.left:u.margin.left}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return S},set:function(t){S=t,L.reset(S),d3.transition().duration(S).ease(d3.easeLinear),r.duration(S),u.duration(S),i.duration(S),o.duration(S)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e),a.color(f),r.color(f),u.color(f)}},interpolate:{get:function(){return r.interpolate()},set:function(t){r.interpolate(t),u.interpolate(t)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t),u.xTickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),u.yTickFormat(t)}},x:{get:function(){return r.x()},set:function(t){r.x(t),u.x(t)}},y:{get:function(){return r.y()},set:function(t){r.y(t),u.y(t)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t}},useInteractiveGuideline:{get:function(){return b},set:function(t){(b=t)&&(r.interactive(!1),r.useVoronoi(!1))}}}),t.utils.inheritOptions(W,r),t.utils.initOptions(W),W},t.models.lineWithFocusChart=function(){return t.models.lineChart().margin({bottom:30}).focusEnable(!0)},t.models.linePlusBarChart=function(){"use strict";var e,n,r,i,o,a,s,l=t.models.line(),u=t.models.line(),c=t.models.historicalBar(),d=t.models.historicalBar(),f=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),h=t.models.axis(d3.axisTop(d3.scaleLinear()),"top"),p=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),v=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),g=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),m=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),y=t.models.legend(),x=d3.brush(),b=t.models.tooltip(),k={top:30,right:30,bottom:30,left:60},w=null,M={top:0,right:30,bottom:20,left:60},A=null,C=null,S=function(t){return t.x},L=function(t){return t.y},F=t.utils.defaultColor(),E=!0,W=!0,O=!1,N=!0,D=50,T=null,_=null,P=d3.dispatch("brush","stateChange","changeState"),I=0,B=d3.transition().duration(I).ease(d3.easeLinear),V=t.utils.state(),z=null,j=" (left axis)",G=" (right axis)",H=!1;l.clipEdge(!0),u.interactive(!1),u.pointActive(function(t){return!1}),f.tickPadding(5),h.tickPadding(5),b.headerEnabled(!0).headerFormatter(function(t,e){return f.tickFormat()(t,e)});var Y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},R=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},X=function(t){return t.every(function(t){return t.disabled})};function q(b){return b.each(function(b){var _=d3.select(this);t.utils.initSVG(_);var I,Z=t.utils.availableWidth(A,_,k),K=t.utils.availableHeight(C,_,k)-(W?D:0),Q=D-M.top-M.bottom;if(q.update=function(){_.transition(B).call(q)},q.container=this,V.setter(R(b),q.update).getter(Y(b)).update(),V.disabled=b.map(function(t){return!!t.disabled}),!z)for(I in z={},V)V[I]instanceof Array?z[I]=V[I].slice(0):z[I]=V[I];if(!(b&&b.length&&b.filter(function(t){return t.values.length}).length))return t.utils.noData(q,_),q;_.selectAll(".nv-noData").remove();var U=b.filter(function(t){return!t.disabled&&t.bar}),J=b.filter(function(t){return!t.bar});n=U.length&&!H?c.xScale():l.xScale(),r=h.scale(),i=H?l.yScale():c.yScale(),o=H?c.yScale():l.yScale(),a=H?u.yScale():d.yScale(),s=H?d.yScale():u.yScale();var $=b.filter(function(t){return!t.disabled&&(H?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:L(t,e)}})}),tt=b.filter(function(t){return!t.disabled&&(H?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:L(t,e)}})});n.range([0,Z]),r.domain(d3.extent(d3.merge($.concat(tt)),function(t){return t.x})).range([0,Z]);var et=_.selectAll("g.nv-wrap.nv-linePlusBar").data([b]),nt=et.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),rt=et.select("g");nt.append("g").attr("class","nv-legendWrap");var it=nt.append("g").attr("class","nv-focus");it.append("g").attr("class","nv-x nv-axis"),it.append("g").attr("class","nv-y1 nv-axis"),it.append("g").attr("class","nv-y2 nv-axis"),it.append("g").attr("class","nv-barsWrap"),it.append("g").attr("class","nv-linesWrap");var ot=nt.append("g").attr("class","nv-context");if(ot.append("g").attr("class","nv-x nv-axis"),ot.append("g").attr("class","nv-y1 nv-axis"),ot.append("g").attr("class","nv-y2 nv-axis"),ot.append("g").attr("class","nv-barsWrap"),ot.append("g").attr("class","nv-linesWrap"),ot.append("g").attr("class","nv-brushBackground"),ot.append("g").attr("class","nv-x nv-brush"),E){var at=y.align()?Z/2:Z,st=y.align()?at:0;y.width(at),rt.select(".nv-legendWrap").datum(b.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=H?t.originalKey+(t.bar?G:j):t.originalKey+(t.bar?j:G),t})).call(y),w||y.height()===k.top||(k.top=y.height(),K=t.utils.availableHeight(C,_,k)-D),rt.select(".nv-legendWrap").attr("transform","translate("+st+","+-k.top+")")}else rt.select(".nv-legendWrap").selectAll("*").remove();et.attr("transform","translate("+k.left+","+k.top+")"),rt.select(".nv-context").style("display",W?"initial":"none"),d.width(Z).height(Q).color(b.map(function(t,e){return t.color||F(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),u.width(Z).height(Q).color(b.map(function(t,e){return t.color||F(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var lt=rt.select(".nv-context .nv-barsWrap").datum(U.length?U:[{values:[]}]),ut=rt.select(".nv-context .nv-linesWrap").datum(X(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}));rt.select(".nv-context").attr("transform","translate(0,"+(K+k.bottom+M.top)+")"),lt.transition().call(d),ut.transition().call(u),N&&(h._ticks(t.utils.calcTicksX(Z/100,b)),h.tickSizeInner(-Q),rt.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),rt.select(".nv-context .nv-x.nv-axis").transition().call(h)),O&&(g.scale(a)._ticks(Q/36),g.tickSizeInner(-Z),m.scale(s)._ticks(Q/36),m.tickSizeInner(U.length?0:-Z),rt.select(".nv-context .nv-y3.nv-axis").style("opacity",U.length?1:0).attr("transform","translate(0,"+r.range()[0]+")"),rt.select(".nv-context .nv-y2.nv-axis").style("opacity",J.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),rt.select(".nv-context .nv-y1.nv-axis").transition().call(g),rt.select(".nv-context .nv-y2.nv-axis").transition().call(m)),x.on("brush",ht),T&&x.extent(T);var ct=rt.select(".nv-brushBackground").selectAll("g").data([T||x.extent()]),dt=ct.enter().append("g");dt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Q),dt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Q);var ft=rt.select(".nv-x.nv-brush").call(x);function ht(){T=null==d3.event||null===d3.event.selection?null:x.extent(),e=null==d3.event||null===d3.event.selection?r.domain():x.extent(),P.call("brush",this,{extent:e,brush:x}),null!=d3.event&&null!==d3.event.selection&&x.extent(T),ct.data([null==d3.event||null===d3.event.selection?r.domain():T]).each(function(t,e){var n=r(t[0])-r.range()[0],i=r.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",i<0?0:i)}),c.width(Z).height(K).color(b.map(function(t,e){return t.color||F(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),l.width(Z).height(K).color(b.map(function(t,e){return t.color||F(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var a=rt.select(".nv-focus .nv-barsWrap").datum(U.length?U.map(function(t,n){return{key:t.key,values:t.values.filter(function(t,n){return c.x()(t,n)>=e[0]&&c.x()(t,n)<=e[1]})}}):[{values:[]}]),s=rt.select(".nv-focus .nv-linesWrap").datum(X(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}).map(function(t,n){return{area:t.area,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,key:t.key,values:t.values.filter(function(t,n){return l.x()(t,n)>=e[0]&&l.x()(t,n)<=e[1]})}}));n=U.length&&!H?c.xScale():l.xScale(),f.scale(n)._ticks(t.utils.calcTicksX(Z/100,b)),f.tickSizeInner(-K),f.domain([Math.ceil(e[0]),Math.floor(e[1])]),rt.select(".nv-x.nv-axis").transition(B).call(f),a.transition(B).call(c),s.transition(B).call(l),rt.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),p.scale(i)._ticks(t.utils.calcTicksY(K/36,b)),p.tickSizeInner(-Z),v.scale(o)._ticks(t.utils.calcTicksY(K/36,b)),H?v.tickSizeInner(J.length?0:-Z,0):v.tickSizeInner(U.length?0:-Z);var u=U.length?1:0,d=J.length&&!X(J)?1:0,h=H?d:u,g=H?u:d;rt.select(".nv-focus .nv-y1.nv-axis").style("opacity",h),rt.select(".nv-focus .nv-y2.nv-axis").style("opacity",g).attr("transform","translate("+n.range()[1]+",0)"),rt.select(".nv-focus .nv-y1.nv-axis").transition(B).call(p),rt.select(".nv-focus .nv-y2.nv-axis").transition(B).call(v)}ft.selectAll("rect").attr("height",Q),ft.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=Q/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),y.dispatch.on("stateChange",function(t){for(var e in t)V[e]=t[e];P.call("stateChange",this,V),q.update()}),P.on("changeState",function(t){void 0!==t.disabled&&(b.forEach(function(e,n){e.disabled=t.disabled[n]}),V.disabled=t.disabled),q.update()}),ht()}),q}return l.dispatch.on("elementMouseover.tooltip",function(t){b.duration(100).valueFormatter(function(t,e){return(H?{main:p,focus:g}:{main:v,focus:m}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),c.dispatch.on("elementMouseover.tooltip",function(t){t.value=q.x()(t.data),t.series={value:q.y()(t.data),color:t.color},b.duration(0).valueFormatter(function(t,e){return(H?{main:v,focus:m}:{main:p,focus:g}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(t){b()}),q.dispatch=P,q.legend=y,q.lines=l,q.lines2=u,q.bars=c,q.bars2=d,q.xAxis=f,q.x2Axis=h,q.y1Axis=p,q.y2Axis=v,q.y3Axis=g,q.y4Axis=m,q.tooltip=b,q.options=t.utils.optionsFunc.bind(q),q._options=Object.create({},{width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return C},set:function(t){C=t}},showLegend:{get:function(){return E},set:function(t){E=t}},brushExtent:{get:function(){return T},set:function(t){T=t}},noData:{get:function(){return _},set:function(t){_=t}},focusEnable:{get:function(){return W},set:function(t){W=t}},focusHeight:{get:function(){return D},set:function(t){D=t}},focusShowAxisX:{get:function(){return N},set:function(t){N=t}},focusShowAxisY:{get:function(){return O},set:function(t){O=t}},legendLeftAxisHint:{get:function(){return j},set:function(t){j=t}},legendRightAxisHint:{get:function(){return G},set:function(t){G=t}},margin:{get:function(){return k},set:function(t){void 0!==t.top&&(k.top=t.top,w=t.top),k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},focusMargin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},duration:{get:function(){return I},set:function(t){I=t}},color:{get:function(){return F},set:function(e){F=t.utils.getColor(e),y.color(F)}},x:{get:function(){return S},set:function(t){S=t,l.x(t),u.x(t),c.x(t),d.x(t)}},y:{get:function(){return L},set:function(t){L=t,l.y(t),u.y(t),c.y(t),d.y(t)}},switchYAxisOrder:{get:function(){return H},set:function(t){if(H!==t){var e=p;p=v,v=e;var n=g;g=m,m=n}H=t}}}),t.utils.inheritOptions(q,l),t.utils.initOptions(q),q},t.models.multiBar=function(){"use strict";var e,n,r,i,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=d3.scaleBand(),f=d3.scaleLinear(),h=Math.floor(1e4*Math.random()),p=null,v=function(t){return t.x},g=function(t){return t.y},m=[0],y=!0,x=!1,b="zero",k=t.utils.defaultColor(),w=!1,M=null,A=500,C=.1,S=.75,L=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=t.utils.renderWatch(L,A),E=0;function W(O){return F.reset(),O.each(function(W){var O=u-l.left-l.right,N=c-l.top-l.bottom;p=d3.select(this),t.utils.initSVG(p);var D=0;if(w&&W.length&&(w=[{values:W[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),x){var T=d3.stack().offset(b).values(function(t){return t.values}).y(g)(!W.length&&w?w:W);T.forEach(function(t,e){t.nonStackable?(W[e].nonStackableSeries=D++,T[e]=W[e]):e>0&&T[e-1].nonStackable&&T[e].values.map(function(t,n){t.y0-=T[e-1].values[n].y,t.y1=t.y0+t.y})}),W=T}W.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),x&&W.length>0&&W[0].values.map(function(t,e){var n=0,r=0;W.map(function(t,i){if(!W[i].nonStackable){var o=t.values[e];o.size=Math.abs(o.y),o.y<0?(o.y1=r,r-=o.size):(o.y1=o.size+n,n+=o.size)}})});var _=n&&r?[]:W.map(function(t,e){return t.values.map(function(t,n){return{x:v(t,n),y:g(t,n),y0:t.y0,y1:t.y1,idx:e}})});d.domain(n||d3.merge(_).map(function(t){return t.x})).range(i||[0,O],C),f.domain(r||d3.extent(d3.merge(_).map(function(t){var e=t.y;return x&&!W[t.idx].nonStackable&&(e=t.y>0?t.y1:t.y1+t.y),e}).concat(m))).range(o||[N,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1])),a=a||d,s=s||f;var P=p.selectAll("g.nv-wrap.nv-multibar").data([W]),I=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),B=I.append("defs"),V=I.append("g"),z=(P.select("g"),V.append("g").attr("class","nv-groups"));P.attr("transform","translate("+l.left+","+l.top+")"),B.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect"),P.select("#nv-edge-clip-"+h+" rect").attr("width",O).attr("height",N),V.attr("clip-path",y?"url(#nv-edge-clip-"+h+")":"");var j=z.selectAll(".nv-group").data(function(t){return t},function(t,e){return e});j.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var G=F.transition(j.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,A)).attr("y",function(t,e,n){var r=s(0)||0;return x&&W[t.series]&&!W[t.series].nonStackable&&(r=s(t.y0)),r}).attr("height",0).remove();G.delay&&G.delay(function(t,e){return e*(A/(E+1))-e}),j.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),j.style("stroke-opacity",1).style("fill-opacity",S);var H=j.selectAll("rect.nv-bar").data(function(t){return w&&!W.length?w.values:t.values});H.exit().remove();H.enter().append("rect").attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return x&&!W[n].nonStackable?0:n*d.bandwidth()/W.length}).attr("y",function(t,e,n){return s(x&&!W[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return d.bandwidth()/(x&&!W[n].nonStackable?1:W.length)}).attr("transform",function(t,e){return"translate("+d(v(t,e))+",0)"});H.style("fill",function(t,e,n){return k(t,n,e)}).style("stroke",function(t,e,n){return k(t,n,e)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),L.call("elementMouseover",this,{data:t,index:e,series:W[n],color:d3.select(this).style("fill")})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),L.call("elementMouseout",this,{data:t,index:e,series:W[n],color:d3.select(this).style("fill")})}).on("mousemove",function(t,e,n){L.call("elementMousemove",this,{data:t,index:e,series:W[n],color:d3.select(this).style("fill")})}).on("click",function(t,e,n){L.call("elementClick",this,{data:t,index:e,series:W[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e,n){L.call("elementDblClick",this,{data:t,index:e,series:W[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),H.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+d(v(t,e))+",0)"}),M&&(e||(e=W.map(function(){return!0})),H.style("fill",function(t,n,r){return d3.rgb(M(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}).style("stroke",function(t,n,r){return d3.rgb(M(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}));var Y=H.watchTransition(F,"multibar",Math.min(250,A)).delay(function(t,e){return e*A/W[0].values.length});x?Y.attr("y",function(t,e,n){return W[n].nonStackable?g(t,e)<0?f(0):f(0)-f(g(t,e))<-1?f(0)-1:f(g(t,e))||0:f(t.y1)}).attr("height",function(t,e,n){return W[n].nonStackable?Math.max(Math.abs(f(g(t,e))-f(0)),0)||0:Math.max(Math.abs(f(t.y+t.y0)-f(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return W[n].nonStackable&&(r=t.series*d.bandwidth()/W.length,W.length!==D&&(r=W[n].nonStackableSeries*d.bandwidth()/(2*D))),r}).attr("width",function(t,e,n){if(W[n].nonStackable){var r=d.bandwidth()/D;return W.length!==D&&(r=d.bandwidth()/(2*D)),r}return d.bandwidth()}):Y.attr("x",function(t,e){return t.series*d.bandwidth()/W.length}).attr("width",d.bandwidth()/W.length).attr("y",function(t,e){return g(t,e)<0?f(0):f(0)-f(g(t,e))<1?f(0)-1:f(g(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(f(g(t,e))-f(0)),1)||0}),a=d.copy(),s=f.copy(),W[0]&&W[0].values&&(E=W[0].values.length)}),F.renderEnd("multibar immediate"),W}return W.dispatch=L,W.options=t.utils.optionsFunc.bind(W),W._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return v},set:function(t){v=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return m},set:function(t){m=t}},stacked:{get:function(){return x},set:function(t){x=t}},stackOffset:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},disabled:{get:function(){return e},set:function(t){e=t}},id:{get:function(){return h},set:function(t){h=t}},hideable:{get:function(){return w},set:function(t){w=t}},groupSpacing:{get:function(){return C},set:function(t){C=t}},fillOpacity:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return A},set:function(t){A=t,F.reset(A)}},color:{get:function(){return k},set:function(e){k=t.utils.getColor(e)}},barColor:{get:function(){return M},set:function(e){M=e?t.utils.getColor(e):null}}}),t.utils.initOptions(W),W},t.models.multiBarChart=function(){"use strict";var e,n,r=t.models.multiBar(),i=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),o=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),a=t.interactiveGuideline(),s=t.models.legend(),l=t.models.legend(),u=t.models.tooltip(),c={top:30,right:20,bottom:50,left:60},d=null,f=null,h=null,p=t.utils.defaultColor(),v=!0,g={},m=!0,y=null,x=!0,b=!0,k=!1,w=!0,M=!1,A=!1,C=0,S=t.utils.state(),L=null,F=null,E=d3.dispatch("stateChange","changeState","renderEnd"),W=function(){return v?180:0},O=250,N=d3.transition().duration(O).ease(d3.easeLinear),D=!1;S.stacked=!1,r.stacked(!1),i.tickPadding(7),i.showMaxMin(!1).tickFormat(function(t){return t}),o.tickFormat(d3.format(",.1f")),u.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),l.updateState(!1);var T=t.utils.renderWatch(E),_=!1,P=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:_}}},I=function(t){return function(e){void 0!==e.stacked&&(_=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function B(F){return T.reset(),T.models(r),x&&T.models(i),b&&T.models(o),F.each(function(F){var T=d3.select(this);t.utils.initSVG(T);var V,z=t.utils.availableWidth(f,T,c),j=t.utils.availableHeight(h,T,c);if(B.update=function(){0===O?T.call(B):T.transition(N).call(B)},B.container=this,S.setter(I(F),B.update).getter(P(F)).update(),S.disabled=F.map(function(t){return!!t.disabled}),!L)for(V in L={},S)S[V]instanceof Array?L[V]=S[V].slice(0):L[V]=S[V];if(!(F&&F.length&&F.filter(function(t){return t.values.length}).length))return t.utils.noData(B,T),B;T.selectAll(".nv-noData").remove(),e=r.xScale(),n=r.yScale();var G=T.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([F]),H=G.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),Y=G.select("g"),R=H.append("g").attr("class","nv-x nv-axis"),X=H.append("g").attr("class","nv-y nv-axis"),q=H.append("g").attr("class","nv-barsWrap"),Z=H.append("g").attr("class","nv-legendWrap"),K=H.append("g").attr("class","nv-controlsWrap"),Q=H.append("g").attr("class","nv-interactive");if(m?"bottom"===y?(s.width(z-c.right),Z.datum(F).call(s),c.bottom=i.height()+s.height(),j=t.utils.availableHeight(h,T,c),Z.attr("transform","translate(0,"+(j+i.height())+")")):(s.width(z-W()),Z.datum(F).call(s),d||s.height()===c.top||(c.top=s.height(),j=t.utils.availableHeight(h,T,c)),Z.attr("transform","translate("+W()+","+-c.top+")")):Z.selectAll("*").remove(),v){var U=[{key:g.grouped||"Grouped",disabled:r.stacked()},{key:g.stacked||"Stacked",disabled:!r.stacked()}];l.width(W()).color(["#444","#444","#444"]),K.datum(U).attr("transform","translate(0,"+-c.top+")").call(l)}else K.selectAll("*").remove();if(G.attr("transform","translate("+c.left+","+c.top+")"),k&&X.attr("transform","translate("+z+",0)"),r.disabled(F.map(function(t){return t.disabled})).width(z).height(j).color(F.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!F[e].disabled})),q.datum(F.filter(function(t){return!t.disabled})).call(r),x){i.scale(e)._ticks(t.utils.calcTicksX(z/100,F)),i.tickSizeInner(-j),R.attr("transform","translate(0,"+n.range()[0]+")"),R.call(i);var J=Y.select(".nv-x.nv-axis > g").selectAll("g");if(J.selectAll("line, text").style("opacity",1),M){var $=function(t,e){return"translate("+t+","+e+")"};J.selectAll("text").attr("transform",function(t,e,n){return $(0,n%2==0?5:17)});var tt=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;Y.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return $(0,0===e||tt%2!=0?17:5)})}A&&Y.selectAll(".tick text").call(t.utils.wrapTicks,B.xAxis.bandwidth()),w&&J.filter(function(t,e){return e%Math.ceil(F[0].values.length/(z/100))!=0}).selectAll("text, line").style("opacity",0),C&&J.selectAll(".tick text").attr("transform","rotate("+C+" 0,0)").style("text-anchor",C>0?"start":"end"),R.selectAll("g.nv-axisMaxMin text").style("opacity",1)}b&&(o.scale(n)._ticks(t.utils.calcTicksY(j/36,F)),o.tickSizeInner(-z),X.call(o)),D&&(a.width(z).height(j).margin({left:c.left,top:c.top}).svgContainer(T).xScale(e),Q.call(a)),s.dispatch.on("stateChange",function(t){for(var e in t)S[e]=t[e];E.call("stateChange",this,S),B.update()}),l.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(U=U.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case g.grouped:r.stacked(!1);break;case"Stacked":case g.stacked:r.stacked(!0)}S.stacked=r.stacked(),E.call("stateChange",this,S),B.update()}}),E.on("changeState",function(t){void 0!==t.disabled&&(F.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),void 0!==t.stacked&&(r.stacked(t.stacked),S.stacked=t.stacked,_=t.stacked),B.update()}),D?(a.dispatch.on("elementMousemove",function(t){if(null!=t.pointXValue){var n,r,i,o,s=[];F.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,l){r=e.domain().indexOf(t.pointXValue);var u=a.values[r];void 0!==u&&(o=u.x,void 0===n&&(n=u),void 0===i&&(i=t.mouseX),s.push({key:a.key,value:B.y()(u,r),color:p(a,a.seriesIndex),data:a.values[r]}))}),a.tooltip.data({value:o,index:r,series:s})(),a.renderGuideLine(i)}}),a.dispatch.on("elementMouseout",function(t){a.tooltip.hidden(!0)})):(r.dispatch.on("elementMouseover.tooltip",function(t){t.value=B.x()(t.data),t.series={key:t.data.key,value:B.y()(t.data),color:t.color},u.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){u()}))}),T.renderEnd("multibarchart immediate"),B}return B.dispatch=E,B.multibar=r,B.legend=s,B.controls=l,B.xAxis=i,B.yAxis=o,B.state=S,B.tooltip=u,B.interactiveLayer=a,B.options=t.utils.optionsFunc.bind(B),B._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showControls:{get:function(){return v},set:function(t){v=t}},controlLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return L},set:function(t){L=t}},noData:{get:function(){return F},set:function(t){F=t}},reduceXTicks:{get:function(){return w},set:function(t){w=t}},rotateLabels:{get:function(){return C},set:function(t){C=t}},staggerLabels:{get:function(){return M},set:function(t){M=t}},wrapLabels:{get:function(){return A},set:function(t){A=!!t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return O},set:function(t){O=t,r.duration(O),i.duration(O),o.duration(O),T.reset(O)}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e),s.color(p)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t}},useInteractiveGuideline:{get:function(){return D},set:function(t){D=t}},barColor:{get:function(){return r.barColor},set:function(t){r.barColor(t),s.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),t.utils.inheritOptions(B,r),t.utils.initOptions(B),B},t.models.multiBarHorizontal=function(){"use strict";var e,n,r,i,o,a,s,l={top:0,right:0,bottom:0,left:0},u=960,c=500,d=Math.floor(1e4*Math.random()),f=null,h=d3.scaleBand(),p=d3.scaleLinear(),v=function(t){return t.x},g=function(t){return t.y},m=function(t){return t.yErr},y=[0],x=t.utils.defaultColor(),b=null,k=!1,w=!1,M=!1,A=60,C=.1,S=.75,L=d3.format(",.2f"),F=250,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),W=t.utils.renderWatch(E,F);function O(d){return W.reset(),d.each(function(d){var F=u-l.left-l.right,O=c-l.top-l.bottom;f=d3.select(this),t.utils.initSVG(f),k&&(d=d3.stack().offset(d3.stackOffsetNone).value(function(t){return t.values})(d)),d.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),k&&d[0].values.map(function(t,e){var n=0,r=0;d.map(function(t){var i=t.values[e];i.size=Math.abs(i.y),i.y<0?(i.y1=r-i.size,r-=i.size):(i.y1=n,n+=i.size)})});var N=n&&r?[]:d.map(function(t){return t.values.map(function(t,e){return{x:v(t,e),y:g(t,e),y0:t.y0,y1:t.y1}})});h.domain(n||d3.merge(N).map(function(t){return t.x})).range(i||[0,O],C),p.domain(r||d3.extent(d3.merge(N).map(function(t){return k?t.y>0?t.y1+t.y:t.y1:t.y}).concat(y))),w&&!k?p.range(o||[p.domain()[0]<0?A:0,F-(p.domain()[1]>0?A:0)]):p.range(o||[0,F]),a=a||h,s=s||d3.scaleLinear().domain(p.domain()).range([p(0),p(0)]);var D=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([d]),T=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),_=(T.append("defs"),T.append("g"));D.select("g");_.append("g").attr("class","nv-groups"),D.attr("transform","translate("+l.left+","+l.top+")");var P=D.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});P.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),P.exit().watchTransition(W,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),P.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),P.watchTransition(W,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",S);var I=P.selectAll("g.nv-bar").data(function(t){return t.values});I.exit().remove();var B=I.enter().append("g").attr("transform",function(t,e,n){return"translate("+s(k?t.y0:0)+","+(k?0:n*h.bandwidth()/d.length+h(v(t,e)))+")"});B.append("rect").attr("width",0).attr("height",h.bandwidth()/(k?1:d.length)),I.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),E.call("elementMouseover",this,{data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),E.call("elementMouseout",this,{data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){E.call("elementMouseout",this,{data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){E.call("elementMousemove",this,{data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){E.call("elementClick",this,{data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){E.call("elementDblClick",this,{data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),m(d[0],0)&&(B.append("polyline"),I.select("polyline").attr("fill","none").attr("points",function(t,e){var n=m(t,e),r=.8*h.bandwidth()/(2*(k?1:d.length));return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map(function(n){return p(n+(g(t,e)<0?0:g(t,e)))-p(0)}))[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){return"translate(0, "+h.bandwidth()/(2*(k?1:d.length))+")"})),B.append("text"),w&&!k?(I.select("text").attr("text-anchor",function(t,e){return g(t,e)<0?"end":"start"}).attr("y",h.bandwidth()/(2*d.length)).attr("dy",".32em").text(function(t,e){var n=L(g(t,e)),r=m(t,e);return void 0===r?n:r.length?n+"+"+L(Math.abs(r[1]))+"-"+L(Math.abs(r[0])):n+""+L(Math.abs(r))}),I.watchTransition(W,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return g(t,e)<0?-4:p(g(t,e))-p(0)+4})):I.selectAll("text").text(""),M&&!k?(B.append("text").classed("nv-bar-label",!0),I.select("text.nv-bar-label").attr("text-anchor",function(t,e){return g(t,e)<0?"start":"end"}).attr("y",h.bandwidth()/(2*d.length)).attr("dy",".32em").text(function(t,e){return v(t,e)}),I.watchTransition(W,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return g(t,e)<0?p(0)-p(g(t,e))+4:-4})):I.selectAll("text.nv-bar-label").text(""),I.attr("class",function(t,e){return g(t,e)<0?"nv-bar negative":"nv-bar positive"}),b&&(e||(e=d.map(function(){return!0})),I.style("fill",function(t,n,r){return d3.rgb(b(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}).style("stroke",function(t,n,r){return d3.rgb(b(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()})),k?I.watchTransition(W,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+p(t.y1)+","+h(v(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(g(t,e)+t.y0)-p(t.y0))||0}).attr("height",h.bandwidth()):I.watchTransition(W,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+(g(t,e)<0?p(g(t,e)):p(0))+","+(t.series*h.bandwidth()/d.length+h(v(t,e)))+")"}).select("rect").attr("height",h.bandwidth()/d.length).attr("width",function(t,e){return Math.max(Math.abs(p(g(t,e))-p(0)),1)||0}),a=h.copy(),s=p.copy()}),W.renderEnd("multibarHorizontal immediate"),O}return O.dispatch=E,O.options=t.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return v},set:function(t){v=t}},y:{get:function(){return g},set:function(t){g=t}},yErr:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return k},set:function(t){k=t}},showValues:{get:function(){return w},set:function(t){w=t}},disabled:{get:function(){return e},set:function(t){e=t}},id:{get:function(){return d},set:function(t){d=t}},valueFormat:{get:function(){return L},set:function(t){L=t}},valuePadding:{get:function(){return A},set:function(t){A=t}},groupSpacing:{get:function(){return C},set:function(t){C=t}},fillOpacity:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return F},set:function(t){F=t,W.reset(F)}},color:{get:function(){return x},set:function(e){x=t.utils.getColor(e)}},barColor:{get:function(){return b},set:function(e){b=e?t.utils.getColor(e):null}}}),t.utils.initOptions(O),O},t.models.multiBarHorizontalChart=function(){"use strict";var e,n,r=t.models.multiBarHorizontal(),i=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),o=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),a=t.models.legend().height(30),s=t.models.legend().height(30),l=t.models.tooltip(),u={top:30,right:20,bottom:50,left:60},c=null,d=null,f=null,h=t.utils.defaultColor(),p=!0,v="top",g={},m=!0,y="top",x=!0,b=!0,k=!1,w=t.utils.state(),M=null,A=null,C=d3.dispatch("stateChange","changeState","renderEnd"),S=function(){return p?180:0},L=250;w.stacked=!1,r.stacked(k),i.tickPadding(5),i.showMaxMin(!1).tickFormat(function(t){return t}),o.tickFormat(d3.format(",.1f")),l.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.updateState(!1);var F=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:k}}},E=function(t){return function(e){void 0!==e.stacked&&(k=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},W=t.utils.renderWatch(C,L);function O(l){return W.reset(),W.models(r),x&&W.models(i),b&&W.models(o),l.each(function(l){var A=d3.select(this);t.utils.initSVG(A);var W,N=t.utils.availableWidth(d,A,u),D=t.utils.availableHeight(f,A,u);if(O.update=function(){A.transition().duration(L).call(O)},O.container=this,k=r.stacked(),w.setter(E(l),O.update).getter(F(l)).update(),w.disabled=l.map(function(t){return!!t.disabled}),!M)for(W in M={},w)w[W]instanceof Array?M[W]=w[W].slice(0):M[W]=w[W];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return t.utils.noData(O,A),O;A.selectAll(".nv-noData").remove(),e=r.xScale(),n=r.yScale().clamp(!0);var T=A.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([l]),_=T.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),P=T.select("g");if(_.append("g").attr("class","nv-x nv-axis"),_.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),_.append("g").attr("class","nv-barsWrap"),_.append("g").attr("class","nv-legendWrap"),_.append("g").attr("class","nv-controlsWrap"),m?(a.width(N-S()),P.select(".nv-legendWrap").datum(l).call(a),"bottom"===y?(u.bottom=i.height()+a.height(),D=t.utils.availableHeight(f,A,u),P.select(".nv-legendWrap").attr("transform","translate("+S()+","+(D+i.height())+")")):"top"===y&&(c||a.height()===u.top||(u.top=a.height(),D=t.utils.availableHeight(f,A,u)),P.select(".nv-legendWrap").attr("transform","translate("+S()+","+-u.top+")"))):P.select(".nv-legendWrap").selectAll("*").remove(),p){var I=[{key:g.grouped||"Grouped",disabled:r.stacked()},{key:g.stacked||"Stacked",disabled:!r.stacked()}];s.width(S()).color(["#444","#444","#444"]),"bottom"===v?(u.bottom=i.height()+a.height(),D=t.utils.availableHeight(f,A,u),P.select(".nv-controlsWrap").datum(I).attr("transform","translate(0,"+(D+i.height())+")").call(s)):"top"===v&&P.select(".nv-controlsWrap").datum(I).attr("transform","translate(0,"+-u.top+")").call(s)}else P.select(".nv-controlsWrap").selectAll("*").remove();(T.attr("transform","translate("+u.left+","+u.top+")"),r.disabled(l.map(function(t){return t.disabled})).width(N).height(D).color(l.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!l[e].disabled})),P.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(r),x)&&(i.scale(e)._ticks(t.utils.calcTicksY(D/24,l)),i.tickSizeInner(-N),P.select(".nv-x.nv-axis").call(i),P.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));b&&(o.scale(n)._ticks(t.utils.calcTicksX(N/100,l)),o.tickSizeInner(-D),P.select(".nv-y.nv-axis").attr("transform","translate(0,"+D+")"),P.select(".nv-y.nv-axis").call(o)),P.select(".nv-zeroLine line").attr("x1",n(0)).attr("x2",n(0)).attr("y1",0).attr("y2",-D),a.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];C.stateChange(w),O.update()}),s.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(I=I.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case g.grouped:r.stacked(!1);break;case"Stacked":case g.stacked:r.stacked(!0)}w.stacked=r.stacked(),C.stateChange(w),k=r.stacked(),O.update()}}),C.on("changeState",function(t){void 0!==t.disabled&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),void 0!==t.stacked&&(r.stacked(t.stacked),w.stacked=t.stacked,k=t.stacked),O.update()})}),W.renderEnd("multibar horizontal chart immediate"),O}return r.dispatch.on("elementMouseover.tooltip",function(t){t.value=O.x()(t.data),t.series={key:t.data.key,value:O.y()(t.data),color:t.color},l.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){l()}),O.dispatch=C,O.multibar=r,O.legend=a,O.controls=s,O.xAxis=i,O.yAxis=o,O.state=w,O.tooltip=l,O.options=t.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},controlsPosition:{get:function(){return v},set:function(t){v=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return u},set:function(t){void 0!==t.top&&(u.top=t.top,c=t.top),u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return L},set:function(t){L=t,W.reset(L),r.duration(L),i.duration(L),o.duration(L)}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),a.color(h)}},barColor:{get:function(){return r.barColor},set:function(t){r.barColor(t),a.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),t.utils.inheritOptions(O,r),t.utils.initOptions(O),O},t.models.multiChart=function(){"use strict";var e,n,r={top:30,right:20,bottom:50,left:60},i=null,o=t.utils.defaultColor(),a=null,s=null,l=!0,u=null,c=function(t){return t.x},d=function(t){return t.y},f=d3.curveLinear,h=!0,p=t.interactiveGuideline(),v=!1,g=" (right axis)",m=250,y=d3.scaleLinear(),x=d3.scaleLinear(),b=d3.scaleLinear(),k=t.models.line().yScale(x).duration(m),w=t.models.line().yScale(b).duration(m),M=t.models.scatter().yScale(x).duration(m),A=t.models.scatter().yScale(b).duration(m),C=t.models.multiBar().stacked(!1).yScale(x).duration(m),S=t.models.multiBar().stacked(!1).yScale(b).duration(m),L=t.models.stackedArea().yScale(x).duration(m),F=t.models.stackedArea().yScale(b).duration(m),E=d3.axisBottom(y).tickPadding(5),W=d3.axisLeft(x),O=d3.axisRight(b),N=t.models.legend().height(30),D=t.models.tooltip(),T=d3.dispatch(),_=[k,w,M,A,C,S,L,F];function P(u){return u.each(function(u){var f=d3.select(this);t.utils.initSVG(f),P.update=function(){f.call(P)},P.container=this;var h=t.utils.availableWidth(a,f,r),m=t.utils.availableHeight(s,f,r),T=u.filter(function(t){return"line"==t.type&&1==t.yAxis}),I=u.filter(function(t){return"line"==t.type&&2==t.yAxis}),B=u.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),V=u.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),z=u.filter(function(t){return"bar"==t.type&&1==t.yAxis}),j=u.filter(function(t){return"bar"==t.type&&2==t.yAxis}),G=u.filter(function(t){return"area"==t.type&&1==t.yAxis}),H=u.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return t.utils.noData(P,f),P;f.selectAll(".nv-noData").remove();var Y=u.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})}),R=u.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:d(t)}})});y.domain(d3.extent(d3.merge(Y.concat(R)),function(t){return t.x})).range([0,h]);var X=f.selectAll("g.wrap.multiChart").data([u]),q=X.enter().append("g").attr("class","wrap nvd3 multiChart").append("g"),Z=q.append("g").attr("class","nv-x nv-axis"),K=q.append("g").attr("class","nv-y1 nv-axis"),Q=q.append("g").attr("class","nv-y2 nv-axis"),U=q.append("g").attr("class","stack1Wrap"),J=q.append("g").attr("class","stack2Wrap"),$=q.append("g").attr("class","bars1Wrap"),tt=q.append("g").attr("class","bars2Wrap"),et=q.append("g").attr("class","scatters1Wrap"),nt=q.append("g").attr("class","scatters2Wrap"),rt=q.append("g").attr("class","lines1Wrap"),it=q.append("g").attr("class","lines2Wrap"),ot=q.append("g").attr("class","legendWrap"),at=q.append("g").attr("class","nv-interactive"),st=X.select("g"),lt=u.map(function(t,e){return u[e].color||o(t,e)});if(l){var ut=N.align()?h/2:h,ct=N.align()?ut:0;N.width(ut),N.color(lt),ot.datum(u.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":g),t})).call(N),i||N.height()===r.top||(r.top=N.height(),m=t.utils.availableHeight(s,f,r)),ot.attr("transform","translate("+ct+","+-r.top+")")}else ot.selectAll("*").remove();k.width(h).height(m).color(lt.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"line"==u[e].type})),w.width(h).height(m).color(lt.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"line"==u[e].type})),M.width(h).height(m).color(lt.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"scatter"==u[e].type})),A.width(h).height(m).color(lt.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"scatter"==u[e].type})),C.width(h).height(m).color(lt.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"bar"==u[e].type})),S.width(h).height(m).color(lt.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"bar"==u[e].type})),L.width(h).height(m).color(lt.filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"area"==u[e].type})),F.width(h).height(m).color(lt.filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"area"==u[e].type})),st.attr("transform","translate("+r.left+","+r.top+")");rt.datum(T.filter(function(t){return!t.disabled})),et.datum(B.filter(function(t){return!t.disabled})),$.datum(z.filter(function(t){return!t.disabled})),U.datum(G.filter(function(t){return!t.disabled})),it.datum(I.filter(function(t){return!t.disabled})),nt.datum(V.filter(function(t){return!t.disabled})),tt.datum(j.filter(function(t){return!t.disabled})),J.datum(H.filter(function(t){return!t.disabled}));var dt=[];C.stacked()&&z.length&&((dt=z.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length>0&&(dt=dt.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})})));z.length&&dt.push({x:0,y:0});var ft=[];S.stacked()&&j.length&&((ft=j.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length>0&&(ft=ft.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})})));function ht(t){return d3.transpose(t).map(function(t){return t.map(function(t){return t.y})}).map(function(t){return d3.sum(t)})}if(j.length&&ft.push({x:0,y:0}),x.domain(e||d3.extent(d3.merge(Y).concat(dt),function(t){return t.y})).range([0,m]),b.domain(n||d3.extent(d3.merge(R).concat(ft),function(t){return t.y})).range([0,m]),k.yDomain(x.domain()),M.yDomain(x.domain()),C.stacked()){var pt=x.domain([0,d3.max(ht(Y))]).range([0,m]);C.yDomain(pt.domain())}else C.yDomain(x.domain());if(L.yDomain(x.domain()),w.yDomain(b.domain()),A.yDomain(b.domain()),S.stacked()){var vt=b.domain([0,d3.max(ht(R))]).range([0,m]);S.yDomain(vt.domain())}else S.yDomain(b.domain());function gt(t){var e=2===t.series.yAxis?O:W;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},D.duration(0).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function mt(t){var e=2===t.series.yAxis?O:W;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},D.duration(100).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function yt(t){var e=2===t.series.yAxis?O:W;t.point.x=L.x()(t.point),t.point.y=L.y()(t.point),D.duration(0).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function xt(t){var e=2===t.series.yAxis?O:W;t.value=C.x()(t.data),t.series={value:C.y()(t.data),color:t.color,key:t.data.key},D.duration(0).headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function bt(){for(var t=0,e=_.length;t<e;t++){var n=_[t];try{n.clearHighlights()}catch(t){}}}F.yDomain(b.domain()),G.length&&U.transition().call(L),H.length&&J.transition().call(F),z.length&&$.transition().call(C),j.length&&tt.transition().call(S),T.length&&rt.transition().call(k),I.length&&it.transition().call(w),B.length&&et.transition().call(M),V.length&&nt.transition().call(A),E._ticks(t.utils.calcTicksX(h/100,u)),E.tickSizeInner(-m),Z.attr("transform","translate(0,"+m+")"),Z.transition().call(E),W._ticks(t.utils.calcTicksY(m/36,u)),W.tickSizeInner(-h),K.transition().call(W),O._ticks(t.utils.calcTicksY(m/36,u)),O.tickSizeInner(-h),Q.transition().call(O),K.classed("nv-disabled",!Y.length).attr("transform","translate("+y.range()[0]+",0)"),Q.classed("nv-disabled",!R.length).attr("transform","translate("+y.range()[1]+",0)"),N.dispatch.on("stateChange",function(t){P.update()}),v&&(p.width(h).height(m).margin({left:r.left,top:r.top}).svgContainer(f).xScale(y),at.call(p)),v?(p.dispatch.on("elementMousemove",function(e){bt();var n,r,i,a=[];u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){var u=y.domain(),c=s.values.filter(function(t,e){return P.x()(t,e)>=u[0]&&P.x()(t,e)<=u[1]}),d=c[r=t.interactiveBisect(c,e.pointXValue,P.x())],f=P.y()(d,r);null===f||isNaN(f)||s.noHighlightSeries||function(t,e,n,r){var i={line:{yAxis1:{chart:k,data:T},yAxis2:{chart:w,data:I}},scatter:{yAxis1:{chart:M,data:B},yAxis2:{chart:A,data:V}},bar:{yAxis1:{chart:C,data:z},yAxis2:{chart:S,data:j}},area:{yAxis1:{chart:L,data:G},yAxis2:{chart:F,data:H}}},o=i[t.type]["yAxis"+t.yAxis].chart,a=i[t.type]["yAxis"+t.yAxis].data.reduce(function(e,n,r){return n.key===t.key?r:e},0);try{o.highlightPoint(a,e,n,r)}catch(t){}}(s,r,!0),void 0!==d&&(void 0===n&&(n=d),void 0===i&&(i=y(P.x()(d,r))),a.push({key:s.key,value:f,color:o(s,s.seriesIndex),data:d,yAxis:2==s.yAxis?O:W}))});p.tooltip.headerFormatter(function(t,e){return E.tickFormat()(t,e)}).valueFormatter(p.tooltip.valueFormatter()||function(t,e){var n=a[e].yAxis;return null==t?"N/A":n.tickFormat()(t)}).data({value:P.x()(n,r),index:r,series:a})(),p.renderGuideLine(i)}),p.dispatch.on("elementMouseout",function(t){bt()})):(k.dispatch.on("elementMouseover.tooltip",gt),w.dispatch.on("elementMouseover.tooltip",gt),k.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),w.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",mt),A.dispatch.on("elementMouseover.tooltip",mt),M.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),A.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),L.dispatch.on("elementMouseover.tooltip",yt),F.dispatch.on("elementMouseover.tooltip",yt),L.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),F.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),C.dispatch.on("elementMouseover.tooltip",xt),S.dispatch.on("elementMouseover.tooltip",xt),C.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),S.dispatch.on("elementMouseout.tooltip",function(t){D.hidden(!0)}),C.dispatch.on("elementMousemove.tooltip",function(t){D()}),S.dispatch.on("elementMousemove.tooltip",function(t){D()}))}),P}return P.dispatch=T,P.legend=N,P.lines1=k,P.lines2=w,P.scatters1=M,P.scatters2=A,P.bars1=C,P.bars2=S,P.stack1=L,P.stack2=F,P.xAxis=E,P.yAxis1=W,P.yAxis2=O,P.tooltip=D,P.interactiveLayer=p,P.options=t.utils.optionsFunc.bind(P),P._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},xScale:{get:function(){return y},set:function(t){y=t,E.scale(y)}},yDomain1:{get:function(){return e},set:function(t){e=t}},yDomain2:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return u},set:function(t){u=t}},interpolate:{get:function(){return f},set:function(t){f=t}},legendRightAxisHint:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return r},set:function(t){void 0!==t.top&&(r.top=t.top,i=t.top),r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return o},set:function(e){o=t.utils.getColor(e)}},x:{get:function(){return c},set:function(t){c=t,k.x(t),w.x(t),M.x(t),A.x(t),C.x(t),S.x(t),L.x(t),F.x(t)}},y:{get:function(){return d},set:function(t){d=t,k.y(t),w.y(t),M.y(t),A.y(t),L.y(t),F.y(t),C.y(t),S.y(t)}},useVoronoi:{get:function(){return h},set:function(t){h=t,k.useVoronoi(t),w.useVoronoi(t),L.useVoronoi(t),F.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return v},set:function(t){(v=t)&&(k.interactive(!1),k.useVoronoi(!1),w.interactive(!1),w.useVoronoi(!1),L.interactive(!1),L.useVoronoi(!1),F.interactive(!1),F.useVoronoi(!1),M.interactive(!1),A.interactive(!1))}},duration:{get:function(){return m},set:function(t){m=t,[k,w,L,F,M,A,E,W,O].forEach(function(t){})}}}),t.utils.initOptions(P),P},t.models.ohlcBar=function(){"use strict";var e,n,r,i,o={top:0,right:0,bottom:0,left:0},a=null,s=null,l=Math.floor(1e4*Math.random()),u=null,c=d3.scaleLinear(),d=d3.scaleLinear(),f=function(t){return t.x},h=function(t){return t.y},p=function(t){return t.open},v=function(t){return t.close},g=function(t){return t.high},m=function(t){return t.low},y=[],x=[],b=!1,k=!0,w=t.utils.defaultColor(),M=!1,A=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function C(M){return M.each(function(M){u=d3.select(this);var C=t.utils.availableWidth(a,u,o),S=t.utils.availableHeight(s,u,o);t.utils.initSVG(u);var L=C/M[0].values.length*.9;c.domain(e||d3.extent(M[0].values.map(f).concat(y))),b?c.range(r||[.5*C/M[0].values.length,C*(M[0].values.length-.5)/M[0].values.length]):c.range(r||[5+L/2,C-L/2-5]),d.domain(n||[d3.min(M[0].values.map(m).concat(x)),d3.max(M[0].values.map(g).concat(x))]).range(i||[S,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1]));var F=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([M[0].values]),E=F.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),W=E.append("defs"),O=E.append("g"),N=F.select("g");O.append("g").attr("class","nv-ticks"),F.attr("transform","translate("+o.left+","+o.top+")"),u.on("click",function(t,e){A.call("chartClick",this,{data:t,index:e,pos:d3.event,id:l})}),W.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),F.select("#nv-chart-clip-path-"+l+" rect").attr("width",C).attr("height",S),N.attr("clip-path",k?"url(#nv-chart-clip-path-"+l+")":"");var D=F.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});D.exit().remove(),D.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>v(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(d(p(t,e))-d(g(t,e)))+"l"+-L/2+",0l"+L/2+",0l0,"+(d(m(t,e))-d(p(t,e)))+"l0,"+(d(v(t,e))-d(m(t,e)))+"l"+L/2+",0l"+-L/2+",0z"}).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+d(g(t,e))+")"}).attr("fill",function(t,e){return w[0]}).attr("stroke",function(t,e){return w[0]}).attr("x",0).attr("y",function(t,e){return d(Math.max(0,h(t,e)))}).attr("height",function(t,e){return Math.abs(d(h(t,e))-d(0))}),D.attr("class",function(t,e,n){return(p(t,e)>v(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(D).attr("transform",function(t,e){return"translate("+c(f(t,e))+","+d(g(t,e))+")"}).attr("d",function(t,e){var n=C/M[0].values.length*.9;return"m0,0l0,"+(d(p(t,e))-d(g(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(d(m(t,e))-d(p(t,e)))+"l0,"+(d(v(t,e))-d(m(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),C}return C.highlightPoint=function(t,e){C.clearHighlights(),u.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},C.clearHighlights=function(){u.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},C.dispatch=A,C.options=t.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return i},set:function(t){i=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return f},set:function(t){f=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return v()},set:function(t){v=t}},high:{get:function(){return g},set:function(t){g=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=null!=t.top?t.top:o.top,o.right=null!=t.right?t.right:o.right,o.bottom=null!=t.bottom?t.bottom:o.bottom,o.left=null!=t.left?t.left:o.left}},color:{get:function(){return w},set:function(e){w=t.utils.getColor(e)}}}),t.utils.initOptions(C),C},t.models.parallelCoordinates=function(){"use strict";var e,n,r,i={top:30,right:0,bottom:10,left:0},o=null,a=null,s=null,l=null,u=d3.scalePoint(),c={},d="undefined values",f=[],h=[],p=[],v=!0,g=t.utils.defaultColor(),m=[],y=[],x=[],b=[],k=1,w=d3.line(),M=d3.axisLeft(d3.scaleLinear()),A=d3.dispatch("start","brush","end","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),C=t.utils.renderWatch(A);function S(k){return C.reset(),k.each(function(k){var C=d3.select(this);if(s=t.utils.availableWidth(o,C,i),l=t.utils.availableHeight(a,C,i),t.utils.initSVG(C),void 0===k[0].values){var S=[];k.forEach(function(t){var e={};Object.keys(t).forEach(function(n){"name"!==n&&(e[n]=t[n])}),S.push({key:t.name,values:e})}),k=S}var L=k.map(function(t){return t.values});0===y.length&&(y=k),p=f.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),h=f.filter(function(t){return!t.disabled}),u.range([0,s],1).domain(h.map(function(t){return t.key}));var F={},E=!1,W=[];p.forEach(function(t){var e=d3.extent(L,function(e){return+e[t]}),n=e[0],r=e[1],i=!1;(isNaN(n)||isNaN(r))&&(i=!0,n=0,r=0),n===r&&(n-=1,r+=1);var o=m.filter(function(e){return e.dimension==t});0!==o.length&&(i?(n=c[t].domain()[0],r=c[t].domain()[1]):!o[0].hasOnlyNaN&&v?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,F[t]=c[t].domain()[1],E=!0)),c[t]=d3.scaleLinear().domain([n,r]).range([.9*(l-12),0]),b=[],c[t].brush=d3.brush().on("start",R).on("brush",X).on("end",q)});var O=C.selectAll("g.nv-wrap.nv-parallelCoordinates").data([k]),N=O.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),D=O.select("g");N.append("g").attr("class","nv-parallelCoordinates background"),N.append("g").attr("class","nv-parallelCoordinates foreground"),N.append("g").attr("class","nv-parallelCoordinates missingValuesline"),O.attr("transform","translate("+i.left+","+i.top+")"),w.curve(d3.curveCardinal);var T,_,P=d3.drag().on("start",function(t){x[t.key]=this.parentNode.__origin__=u(t.key),n.attr("visibility","hidden")}).on("drag",function(t){x[t.key]=Math.min(s,Math.max(0,this.parentNode.__origin__+=d3.event.x)),e.attr("d",H),h.sort(function(t,e){return K(t.key)-K(e.key)}),h.forEach(function(t,e){return t.currentPosition=e}),u.domain(h.map(function(t){return t.key})),r.attr("transform",function(t){return"translate("+K(t.key)+")"})}).on("end",function(t,r){delete this.parentNode.__origin__,delete x[t.key],d3.select(this.parentNode).attr("transform","translate("+u(t.key)+")"),e.attr("d",H),n.attr("d",H).attr("visibility",null),A.call("dimensionsOrder",this,h)}),I=u.range()[1]-u.range()[0];if(I=isNaN(I)?u.range()[0]:I,!isNaN(I)){var B=[0+I/2,l-12,s-I/2,l-12];(T=O.select(".missingValuesline").selectAll("line").data([B])).enter().append("line"),T.exit().remove(),T.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(_=O.select(".missingValuesline").selectAll("text").data([d])).append("text").data([d]),_.enter().append("text"),_.exit().remove(),_.attr("y",l).attr("x",s-92-I/2).text(function(t){return t})}(n=O.select(".background").selectAll("path").data(k)).enter().append("path"),n.exit().remove(),n.attr("d",H),(e=O.select(".foreground").selectAll("path").data(k)).enter().append("path"),e.exit().remove(),e.attr("d",H).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||g(t,e)}),e.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),A.call("elementMouseover",this,{label:t.name,color:t.color||g(t,e),values:t.values,dimensions:h})}),e.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),A.call("elementMouseout",this,{label:t.name,index:e})}),e.on("mousemove",function(t,e){A.call("elementMousemove",this)}),e.on("click",function(t){A.call("elementClick",this,{id:t.id})});var V=(r=D.selectAll(".dimension").data(h)).enter().append("g").attr("class","nv-parallelCoordinates dimension");r.attr("transform",function(t){return"translate("+u(t.key)+",0)"}),V.append("g").attr("class","nv-axis"),V.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){A.call("elementMouseover",this,{label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){A.call("elementMouseout",this,{label:t.tooltip})}).on("mousemove",function(t,e){A.call("elementMousemove",this)}).call(P),V.append("g").attr("class","nv-brushBackground"),r.exit().remove(),r.select(".nv-label").text(function(t){return t.key}),Y(v);var z=p.filter(function(t){return!(null===d3.event||null===d3.event.selection)}),j=z.map(function(t){return c[t].brush.extent()}),G=y.slice(0);function H(t){return w(h.map(function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||E){var n=c[e.key].domain(),r=c[e.key].range(),i=n[0]-(n[1]-n[0])/9;if(b.indexOf(e.key)<0){var o=d3.scaleLinear().domain([i,n[1]]).range([l-12,r[1]]);c[e.key].brush.extent([[o.range()[0],0],[o.range()[1],1]]),b.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[u(e.key),c[e.key](i)]}return void 0!==T&&(b.length>0||E?(T.style("display","inline"),_.style("display","inline")):(T.style("display","none"),_.style("display","none"))),[u(e.key),c[e.key](t.values[e.key])]}))}function Y(t){m.forEach(function(e){var n=c[e.dimension].brush.extent();e.hasOnlyNaN&&(e.extent[1]=(c[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(F[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&c[e.dimension].brush.extent(e.extent)}),r.select(".nv-brushBackground").each(function(t){d3.select(this).call(c[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),Z()}function R(){!1===v&&(v=!0,Y(!0))}function X(){z=p.filter(function(t){return!(null===d3.event.selection)}),j=z.map(function(t){return c[t].brush.extent()}),m=[],z.forEach(function(t,e){m[e]={dimension:t,extent:j[e],hasNaN:!1,hasOnlyNaN:!1}}),y=[],e.style("display",function(t){var e=z.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||j[n][0]!=c[e].brush.extent()[1][0])||j[n][0]<=t.values[e]&&t.values[e]<=j[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),Z(),A.call("brush",this,{filters:m,active:y})}function q(){var t=z.length>0;m.forEach(function(t){t.extent[0]===c[t.dimension].brush.extent()[1]&&b.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<c[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),A.call("end",y,t)}function Z(){r.select(".nv-axis").each(function(t,e){var n=m.filter(function(e){return e.dimension==t.key});W[t.key]=c[t.key].domain(),0!=n.length&&v&&(W[t.key]=[],n[0].extent[1]>c[t.key].domain()[0]&&(W[t.key]=[n[0].extent[1]]),n[0].extent[0]>=c[t.key].domain()[0]&&W[t.key].push(n[0].extent[0])),d3.select(this).call(M.scale(c[t.key]).tickFormat(t.format).tickValues(W[t.key]))})}function K(t){var e=x[t];return null==e?u(t):e}y=[],e.style("display",function(t){var e=z.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||j[n][0]!=c[e].brush.extent()[1][0])||j[n][0]<=t.values[e]&&t.values[e]<=j[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),(m.length>0||!t.utils.arrayEquals(y,G))&&A.call("activeChanged",this,y)}),S}return S.dispatch=A,S.options=t.utils.optionsFunc.bind(S),S._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},dimensionData:{get:function(){return f},set:function(t){f=t}},displayBrush:{get:function(){return v},set:function(t){v=t}},filters:{get:function(){return m},set:function(t){m=t}},active:{get:function(){return y},set:function(t){y=t}},lineTension:{get:function(){return k},set:function(t){k=t}},undefinedValuesLabel:{get:function(){return d},set:function(t){d=t}},dimensions:{get:function(){return f.map(function(t){return t.key})},set:function(e){t.deprecated("dimensions","use dimensionData instead"),0===f.length?e.forEach(function(t){f.push({key:t})}):e.forEach(function(t,e){f[e].key=t})}},dimensionNames:{get:function(){return f.map(function(t){return t.key})},set:function(e){t.deprecated("dimensionNames","use dimensionData instead"),p=[],0===f.length?e.forEach(function(t){f.push({key:t})}):e.forEach(function(t,e){f[e].key=t})}},dimensionFormats:{get:function(){return f.map(function(t){return t.format})},set:function(e){t.deprecated("dimensionFormats","use dimensionData instead"),0===f.length?e.forEach(function(t){f.push({format:t})}):e.forEach(function(t,e){f[e].format=t})}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return g},set:function(e){g=t.utils.getColor(e)}}}),t.utils.initOptions(S),S},t.models.parallelCoordinatesChart=function(){"use strict";var e=t.models.parallelCoordinates(),n=t.models.legend(),r=t.models.tooltip(),i=(t.models.tooltip(),{top:0,right:0,bottom:0,left:0}),o=null,a=null,s=null,l=!0,u=t.utils.defaultColor(),c=t.utils.state(),d=[],f=!0,h=null,p=null,v="undefined",g=d3.dispatch("dimensionsOrder","end","stateChange","changeState","renderEnd"),m=t.utils.renderWatch(g),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},x=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function b(r){return m.reset(),m.models(e),r.each(function(r){var u=d3.select(this);t.utils.initSVG(u);var p,v=this,m=t.utils.availableWidth(a,u,i),k=t.utils.availableHeight(s,u,i);if(b.update=function(){u.call(b)},b.container=this,c.setter(x(d),b.update).getter(y(d)).update(),c.disabled=d.map(function(t){return!!t.disabled}),(d=d.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!h)for(p in h={},c)c[p]instanceof Array?h[p]=c[p].slice(0):h[p]=c[p];if(!r||!r.length)return t.utils.noData(b,u),b;u.selectAll(".nv-noData").remove();var w=u.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([r]),M=w.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),A=w.select("g");M.append("g").attr("class","nv-parallelCoordinatesWrap"),M.append("g").attr("class","nv-legendWrap"),A.select("rect").attr("width",m).attr("height",k>0?k:0),l?(n.width(m).color(function(t){return"rgb(188,190,192)"}),A.select(".nv-legendWrap").datum(d.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(n),o||n.height()===i.top||(i.top=n.height(),k=t.utils.availableHeight(s,u,i)),w.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-i.top+")")):A.select(".nv-legendWrap").selectAll("*").remove(),w.attr("transform","translate("+i.left+","+i.top+")"),e.width(m).height(k).dimensionData(d).displayBrush(f),A.select(".nv-parallelCoordinatesWrap ").datum(r).transition().call(e),e.dispatch.on("end",function(t,e){e?(f=!0,g.call("end",this,t)):f=!1}),n.dispatch.on("stateChange",function(t){for(var e in t)c[e]=t[e];g.call("stateChange",v,c),b.update()}),e.dispatch.on("dimensionsOrder",function(t){d.sort(function(t,e){return t.currentPosition-e.currentPosition});var e=!1;d.forEach(function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)}),g.call("dimensionsOrder",d,e)}),g.on("changeState",function(t){void 0!==t.disabled&&(d.forEach(function(e,n){e.disabled=t.disabled[n]}),c.disabled=t.disabled),b.update()})}),m.renderEnd("parraleleCoordinateChart immediate"),b}return r.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),e.dispatch.on("elementMouseover.tooltip",function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach(function(n){var r,i=t.dimensions.filter(function(t){return t.key===n})[0];i&&(r=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?v:i.format(t.values[n]),e.series.push({idx:i.currentPosition,key:n,value:r,color:i.color}))}),e.series.sort(function(t,e){return t.idx-e.idx})),r.data(e).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(t){r.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(){r()}),b.dispatch=g,b.parallelCoordinates=e,b.legend=n,b.tooltip=r,b.options=t.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},defaultState:{get:function(){return h},set:function(t){h=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return p},set:function(t){p=t}},nanValue:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return u},set:function(r){u=t.utils.getColor(r),n.color(u),e.color(u)}}}),t.utils.inheritOptions(b,e),t.utils.initOptions(b),b},t.models.pie=function(){"use strict";var e={top:0,right:0,bottom:0,left:0},n=500,r=500,i=function(t){return t.x},o=function(t){return t.y},a=Math.floor(1e4*Math.random()),s=null,l=t.utils.defaultColor(),u=d3.format(",.2f"),c=!0,d=!1,f="key",h=.02,p=!1,v=!1,g=!1,m=!0,y=0,x=!1,b=!1,k=!1,w=!1,M=0,A=.5,C=250,S=d3.transition().duration(C).ease(d3.easeLinear),L=d3.transition().duration(70).ease(d3.easeLinear),F=d3.transition().duration(50).ease(d3.easeLinear),E=[],W=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),O=[],N=[],D=t.utils.renderWatch(W);function T(C){return D.reset(),C.each(function(C){var T=n-e.left-e.right,_=r-e.top-e.bottom,P=Math.min(T,_)/2,I=[],B=[];if(s=d3.select(this),0===E.length)for(var V=P-P/10,z=A*P,j=0;j<C[0].length;j++)I.push(V),B.push(z);else m?(I=E.map(function(t){return(t.outer-t.outer/10)*P}),B=E.map(function(t){return(t.inner-t.inner/10)*P}),A=d3.min(E.map(function(t){return t.inner-t.inner/10}))):(I=E.map(function(t){return t.outer*P}),B=E.map(function(t){return t.inner*P}),A=d3.min(E.map(function(t){return t.inner})));t.utils.initSVG(s);var G=s.selectAll(".nv-wrap.nv-pie").data(C),H=G.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+a).append("g"),Y=(G.select("g"),H.append("g").attr("class","nv-pie")),R=H.append("g").attr("class","nv-pieLabels");G.attr("transform","translate("+e.left+","+e.top+")"),Y.attr("transform","translate("+T/2+","+_/2+")"),R.attr("transform","translate("+T/2+","+_/2+")"),s.on("click",function(t,e){W.call("chartClick",this,{data:t,index:e,pos:d3.event,id:a})}),O=[],N=[];for(j=0;j<C[0].length;j++){var X=d3.arc().outerRadius(I[j]),q=d3.arc().outerRadius(I[j]+5);!1!==b&&(X.startAngle(b),q.startAngle(b)),!1!==w&&(X.endAngle(w),q.endAngle(w)),v&&(X.innerRadius(B[j]),q.innerRadius(B[j])),X.cornerRadius&&M&&(X.cornerRadius(M),q.cornerRadius(M)),O.push(X),N.push(q)}var Z=d3.pie().sort(null).value(function(t){return t.disabled?0:o(t)});Z.padAngle&&k&&Z.padAngle(k),v&&g&&(Y.append("text").attr("class","nv-pie-title"),G.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return g}).style("font-size",Math.min(T,_)*A*2/(g.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+y+")"}));var K=Y.selectAll(".nv-slice").data(Z),Q=R.selectAll(".nv-label").data(Z);K.exit().remove(),Q.exit().remove();var U=K.enter().append("g");U.attr("class","nv-slice"),U.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),m&&d3.select(this).select("path").transition(L).attr("d",N[e]),W.call("elementMouseover",this,{data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),U.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),m&&d3.select(this).select("path").transition(F).attr("d",O[e]),W.call("elementMouseout",this,{data:t.data,index:e})}),U.on("mousemove",function(t,e){W.call("elementMousemove",this,{data:t.data,index:e})}),U.on("click",function(t,e){W.call("elementClick",this,{data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),U.on("dblclick",function(t,e){W.call("elementDblClick",this,{data:t.data,index:e,color:d3.select(this).style("fill")})}),U.attr("fill",function(t,e){return l(t.data,e)}),U.attr("stroke",function(t,e){return l(t.data,e)});U.append("path").each(function(t){this._current=t});if(U.select("path").transition(S).attr("d",function(t,e){return O[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,v||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return O[e](n(t))}}),U.merge(K),c){var J=[];for(j=0;j<C[0].length;j++)J.push(O[j]),d?v&&(J[j]=d3.arc().outerRadius(O[j].outerRadius()),!1!==b&&J[j].startAngle(b),!1!==w&&J[j].endAngle(w)):v||J[j].innerRadius(0);var $=Q.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(x){t.outerRadius=I[e]+10,t.innerRadius=I[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+J[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=P+10,t.innerRadius=P+15,"translate("+J[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")}),tt={},et=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},nt=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};$.watchTransition(D,"pie labels").attr("transform",function(t,e){if(x){t.outerRadius=I[e]+10,t.innerRadius=I[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+J[e].centroid(t)+") rotate("+n+")"}t.outerRadius=P+10,t.innerRadius=P+15;var r=J[e].centroid(t),i=nt(t);if(t.value&&i>=h){var o=et(r);tt[o]&&(r[1]-=14),tt[et(r)]=!0}return"translate("+r+")"}),$.select(".nv-label text").style("text-anchor",function(t,e){return x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=nt(t),r="";if(!t.value||n<h)return"";if("function"==typeof f)r=f(t,e,{key:i(t.data),value:o(t.data),percent:u(n)});else switch(f){case"key":r=i(t.data);break;case"value":r=u(o(t.data));break;case"percent":r=d3.format("%")(n)}return console.log("label: "+r),r}),p&&$.each(function(e,n){if(this.getBBox){var r=this.getBBox(),i=J[n].centroid(e),o={x:i[0]+r.x,y:i[1]+r.y},a={x:o.x+r.width,y:o.y},s={x:o.x,y:o.y+r.height},l={x:o.x+r.width,y:o.y+r.height};e.visible=t.utils.pointIsInArc(o,e,X)&&t.utils.pointIsInArc(a,e,X)&&t.utils.pointIsInArc(s,e,X)&&t.utils.pointIsInArc(l,e,X)}}).style("display",function(t){return t.visible?null:"none"}),$.merge(Q)}}),D.renderEnd("pie immediate"),T}return T.dispatch=W,T.options=t.utils.optionsFunc.bind(T),T._options=Object.create({},{arcsRadius:{get:function(){return E},set:function(t){E=t}},width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return r},set:function(t){r=t}},showLabels:{get:function(){return c},set:function(t){c=t}},title:{get:function(){return g},set:function(t){g=t}},titleOffset:{get:function(){return y},set:function(t){y=t}},labelThreshold:{get:function(){return h},set:function(t){h=t}},hideOverlapLabels:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return u},set:function(t){u=t}},x:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return a},set:function(t){a=t}},endAngle:{get:function(){return w},set:function(t){w=t}},startAngle:{get:function(){return b},set:function(t){b=t}},padAngle:{get:function(){return k},set:function(t){k=t}},cornerRadius:{get:function(){return M},set:function(t){M=t}},donutRatio:{get:function(){return A},set:function(t){A=t}},labelsOutside:{get:function(){return d},set:function(t){d=t}},labelSunbeamLayout:{get:function(){return x},set:function(t){x=t}},donut:{get:function(){return v},set:function(t){v=t}},growOnHover:{get:function(){return m},set:function(t){m=t}},pieLabelsOutside:{get:function(){return d},set:function(e){d=e,t.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return d},set:function(e){d=e,t.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return u},set:function(e){u=e,t.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},duration:{get:function(){return C},set:function(t){C=t,D.reset(C),S=d3.transition().duration(C).ease(d3.easeLinear)}},y:{get:function(){return o},set:function(t){o="function"==typeof t?t:function(){return t}}},color:{get:function(){return l},set:function(e){l=t.utils.getColor(e)}},labelType:{get:function(){return f},set:function(t){f=t||"key"}}}),t.utils.initOptions(T),T},t.models.pieChart=function(){"use strict";var e=t.models.pie(),n=t.models.legend(),r=t.models.tooltip(),i={top:30,right:20,bottom:20,left:20},o=null,a=null,s=null,l=!1,u=!0,c="top",d=t.utils.defaultColor(),f=t.utils.state(),h=null,p=null,v=250,g=d3.dispatch("stateChange","changeState","renderEnd");r.duration(0).headerEnabled(!1).valueFormatter(function(t,n){return e.valueFormat()(t,n)});var m=t.utils.renderWatch(g),y=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},x=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function b(r){return m.reset(),m.models(e),r.each(function(r){var l=d3.select(this);t.utils.initSVG(l);var d,p=t.utils.availableWidth(a,l,i),v=t.utils.availableHeight(s,l,i);if(b.update=function(){l.transition().call(b)},b.container=this,f.setter(x(r),b.update).getter(y(r)).update(),f.disabled=r.map(function(t){return!!t.disabled}),!h)for(d in h={},f)f[d]instanceof Array?h[d]=f[d].slice(0):h[d]=f[d];if(!r||!r.length)return t.utils.noData(b,l),b;l.selectAll(".nv-noData").remove();var m=l.selectAll("g.nv-wrap.nv-pieChart").data([r]),k=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=m.select("g");if(k.append("g").attr("class","nv-pieWrap"),k.append("g").attr("class","nv-legendWrap"),u)if("top"===c)n.width(p).key(e.x()),m.select(".nv-legendWrap").datum(r).call(n),o||n.height()===i.top||(i.top=n.height(),v=t.utils.availableHeight(s,l,i)),m.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")");else if("right"===c){var M=t.models.legend().width();p/2<M&&(M=p/2),n.height(v).key(e.x()),n.width(M),p-=n.width(),m.select(".nv-legendWrap").datum(r).call(n).attr("transform","translate("+p+",0)")}else"bottom"===c&&(n.width(p).key(e.x()),m.select(".nv-legendWrap").datum(r).call(n),i.bottom=n.height(),v=t.utils.availableHeight(s,l,i),m.select(".nv-legendWrap").attr("transform","translate(0,"+v+")"));else w.select(".nv-legendWrap").selectAll("*").remove();m.attr("transform","translate("+i.left+","+i.top+")"),e.width(p).height(v),w.select(".nv-pieWrap").datum([r]).call(e),n.dispatch.on("stateChange",function(t){for(var e in t)f[e]=t[e];g.call("stateChange",this,f),b.update()}),g.on("changeState",function(t){void 0!==t.disabled&&(r.forEach(function(e,n){e.disabled=t.disabled[n]}),f.disabled=t.disabled),b.update()})}),m.renderEnd("pieChart immediate"),b}return e.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:b.x()(t.data),value:b.y()(t.data),color:t.color,percent:t.percent},l||(delete t.percent,delete t.series.percent),r.data(t).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(t){r.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(t){r()}),b.legend=n,b.dispatch=g,b.pie=e,b.tooltip=r,b.options=t.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},noData:{get:function(){return p},set:function(t){p=t}},showTooltipPercent:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return u},set:function(t){u=t}},legendPosition:{get:function(){return c},set:function(t){c=t}},defaultState:{get:function(){return h},set:function(t){h=t}},color:{get:function(){return d},set:function(t){d=t,n.color(d),e.color(d)}},duration:{get:function(){return v},set:function(t){v=t,m.reset(v),e.duration(v)}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),t.utils.inheritOptions(b,e),t.utils.initOptions(b),b},t.models.sankey=function(){"use strict";var e={},n=24,r=8,i=[1,1],o=[],a=[],s=!0,l=function(t){o.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),a.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=o[t.source]),"number"==typeof n&&(n=t.target=o[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)}),o.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,f),d3.sum(t.targetLinks,f))}),function(){var t,e=o,r=0;for(;e.length&&r<o.length;)t=[],e.forEach(function(e){e.x=r,e.dx=n,e.sourceLinks.forEach(function(e){t.indexOf(e.target)<0&&t.push(e.target)})}),e=t,++r;s&&function(t){o.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})}(r);a=(i[0]-n)/(r-1),o.forEach(function(t){t.x*=a});var a}(),function(t){var e=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(o).map(function(t){return t.values});n=d3.min(e,function(t){return(i[1]-(t.length-1)*r)/d3.sum(t,f)}),e.forEach(function(t){t.forEach(function(t,e){t.y=e,t.dy=t.value*n})}),a.forEach(function(t){t.dy=t.value*n}),h(),d();var n;for(var s=1;t>0;--t)u(s*=.99),h(),d(),l(s),h(),d();function l(t){function n(t){return(t.source.y+t.sy+t.dy/2)*t.value}e.forEach(function(e,r){e.forEach(function(e){if(e.targetLinks.length){var r=d3.sum(e.targetLinks,n)/d3.sum(e.targetLinks,f);e.y+=(r-c(e))*t}})})}function u(t){function n(t){return(t.target.y+t.ty+t.dy/2)*t.value}e.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var r=d3.sum(e.sourceLinks,n)/d3.sum(e.sourceLinks,f);e.y+=(r-c(e))*t}})})}function h(){e.forEach(function(t){var e,n,o,a=0,s=t.length;for(t.sort(p),o=0;o<s;++o)e=t[o],(n=a-e.y)>0&&(e.y+=n),a=e.y+e.dy+r;if((n=a-r-i[1])>0)for(a=e.y-=n,o=s-2;o>=0;--o)e=t[o],(n=e.y+e.dy+r-a)>0&&(e.y-=n),a=e.y})}function p(t,e){return t.y-e.y}}(t)},u=function(){var t=.5;function e(e){var n=e.source.x+e.source.dx,r=e.target.x,i=d3.interpolateNumber(n,r),o=i(t),a=i(1-t),s=e.source.y+e.sy+e.dy/2,l=e.target.y+e.ty+e.dy/2;return"M"+n+","+s+"C"+o+","+s+" "+a+","+l+" "+r+","+l}return e.curvature=function(n){return arguments.length?(t=+n,e):t},e},c=function(t){return t.y+t.dy/2};function d(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}o.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),o.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function f(t){return t.value}return e.options=t.utils.optionsFunc.bind(e),e._options=Object.create({},{nodeWidth:{get:function(){return n},set:function(t){n=+t}},nodePadding:{get:function(){return r},set:function(t){r=t}},nodes:{get:function(){return o},set:function(t){o=t}},links:{get:function(){return a},set:function(t){a=t}},size:{get:function(){return i},set:function(t){i=t}},sinksRight:{get:function(){return s},set:function(t){s=t}},layout:{get:function(){l(32)},set:function(t){l(t)}},relayout:{get:function(){d()},set:function(t){}},center:{get:function(){return c()},set:function(t){"function"==typeof t&&(c=t)}},link:{get:function(){return u()},set:function(t){return"function"==typeof t&&(u=t),u()}}}),t.utils.initOptions(e),e},t.models.sankeyChart=function(){"use strict";var e={top:5,right:0,bottom:5,left:0},n=t.models.sankey(),r=600,i=400,o=36,a=40,s="units",l=void 0,u=d3.format(",.0f"),c=function(t){return u(t)+" "+s},d=d3.scaleOrdinal(d3.schemeAccent),f=function(t){return t.source.name+"  "+t.target.name+"\n"+c(t.value)},h=function(t){return t.color=d(t.name.replace(/ .*/,""))},p=function(t){return d3.rgb(t.color).darker(2)},v=function(t){return t.name+"\n"+c(t.value)},g=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};function m(t){return t.each(function(e){var s={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},u=!1,c=!1;if(("object"==typeof e.nodes&&e.nodes.length)>=0&&("object"==typeof e.links&&e.links.length)>=0&&(u=!0),e.nodes&&e.nodes.length>0&&e.links&&e.links.length>0&&(c=!0),!u)return console.error("NVD3 Sankey chart error:","invalid data format for",e),console.info("Valid data format is: ",s,JSON.stringify(s)),g(t,"Error loading chart, data is invalid"),!1;if(!c)return g(t,"No data available"),!1;var d=t.append("svg").attr("width",r).attr("height",i).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");n.nodeWidth(o).nodePadding(a).size([r,i]);var m=n.link();n.nodes(e.nodes).links(e.links).layout(32).center(l);var y=d.append("g").selectAll(".link").data(e.links).enter().append("path").attr("class","link").attr("d",m).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});y.append("title").text(f);var x=d.append("g").selectAll(".node").data(e.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.drag().subject(function(t){return t}).on("start",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(i-t.dy,d3.event.y)))+")"),n.relayout(),y.attr("d",m)}));x.append("rect").attr("height",function(t){return t.dy}).attr("width",n.nodeWidth()).style("fill",h).style("stroke",p).append("title").text(v),x.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<r/2}).attr("x",6+n.nodeWidth()).attr("text-anchor","start")}),m}return m.options=t.utils.optionsFunc.bind(m),m._options=Object.create({},{units:{get:function(){return s},set:function(t){s=t}},width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},format:{get:function(){return c},set:function(t){c=t}},linkTitle:{get:function(){return f},set:function(t){f=t}},nodeWidth:{get:function(){return o},set:function(t){o=t}},nodePadding:{get:function(){return a},set:function(t){a=t}},center:{get:function(){return l},set:function(t){l=t}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},nodeStyle:{get:function(){return{}},set:function(t){h=void 0!==t.fillColor?t.fillColor:h,p=void 0!==t.strokeColor?t.strokeColor:p,v=void 0!==t.title?t.title:v}}}),t.utils.initOptions(m),m},t.models.scatter=function(){"use strict";var e,n,r,i,o,a,s,l,u={top:0,right:0,bottom:0,left:0},c=null,d=null,f=t.utils.defaultColor(),h=null,p=Math.floor(1e5*Math.random()),v=null,g=d3.scaleLinear(),m=d3.scaleLinear(),y=d3.scaleLinear(),x=function(t){return t.x},b=function(t){return t.y},k=function(t){return t.size||1},w=function(t){return t.shape||"circle"},M=[],A=[],C=[],S=!0,L=function(t){return!t.notActive},F=!1,E=.1,W=!1,O=!0,N=!1,D=function(){return 25},T=null,_=null,P=null,I=null,B=null,V=null,z=!1,j=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),G=!0,H=250,Y=300,R=!1,X=!1,q=t.utils.renderWatch(j,H),Z=[16,256],K={};function Q(t){var e;e=t[0].series+":"+t[1],delete K[e]}function U(t){var e,n,r,i=function(t){var e;return e=t[0].series+":"+t[1],K[e]=K[e]||{}}(t),o=!1;for(e=1;e<arguments.length;e+=2)n=arguments[e],r=arguments[e+1](t[0],t[1]),i[n]===r&&i.hasOwnProperty(n)||(i[n]=r,o=!0);return o}function J(H){return q.reset(),H.each(function(H){v=d3.select(this);var K=t.utils.availableWidth(c,v,u),$=t.utils.availableHeight(d,v,u);t.utils.initSVG(v),H.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var tt="function"==typeof J.yScale().base,et=T&&_&&B?[]:d3.merge(H.map(function(t){return t.values.map(function(t,e){return{x:x(t,e),y:b(t,e),size:k(t,e)}})}));if(g.domain(T||d3.extent(et.map(function(t){return t.x}).concat(M))),F&&H[0]?g.range(P||[(K*E+K)/(2*H[0].values.length),K-K*(1+E)/(2*H[0].values.length)]):g.range(P||[0,K]),tt){var nt=d3.min(et.map(function(t){if(0!==t.y)return t.y}));m.clamp(!0).domain(_||d3.extent(et.map(function(t){return 0!==t.y?t.y:.1*nt}).concat(A))).range(I||[$,0])}else m.domain(_||d3.extent(et.map(function(t){return t.y}).concat(A))).range(I||[$,0]);y.domain(B||d3.extent(et.map(function(t){return t.size}).concat(C))).range(V||Z),z=g.domain()[0]===g.domain()[1]||m.domain()[0]===m.domain()[1],g.domain()[0]===g.domain()[1]&&(g.domain()[0]?g.domain([g.domain()[0]-.01*g.domain()[0],g.domain()[1]+.01*g.domain()[1]]):g.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(g.domain()[0])&&g.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),e=e||g,n=n||m,r=r||y;var rt=g(1)!==e(1)||m(1)!==n(1)||y(1)!==r(1);s=s||d;var it=(a=a||c)!==c||s!==d,ot=(i=i||[])[0]!==g.domain()[0]||i[1]!==g.domain()[1];i=g.domain(),o=o||[],ot=ot||o[0]!==m.domain()[0]||o[1]!==m.domain()[1],o=m.domain();var at=v.selectAll("g.nv-wrap.nv-scatter").data([H]),st=at.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+p).attr("transform","translate("+u.left+","+u.top+")"),lt=st.append("defs"),ut=st.append("g");at.classed("nv-single-point",z);var ct=ut.append("g").attr("class","nv-groups"),dt=ut.append("g").attr("class","nv-point-paths"),ft=st.append("g").attr("class","nv-point-clips");function ht(){if(X=!1,!S)return!1;if(v.selectAll(".nv-point.hover").classed("hover",!1),dt.selectAll("path").remove(),!0===G){var e=d3.merge(H.map(function(e,n){return e.values.map(function(e,r){var i=x(e,r),o=b(e,r);return[t.utils.NaNtoZero(g(i))+1e-4*Math.random(),t.utils.NaNtoZero(m(o))+1e-4*Math.random(),n,r,e]}).filter(function(t,e){return L(t[4],e)})}));if(0==e.length)return!1;e.length<3&&(e.push([g.range()[0]-20,m.range()[0]-20,null,null]),e.push([g.range()[1]+20,m.range()[1]+20,null,null]),e.push([g.range()[0]-20,m.range()[0]+20,null,null]),e.push([g.range()[1]+20,m.range()[1]-20,null,null]));var n=[[-10,-10],[-10,d+10],[c+10,d+10],[c+10,-10]];e=e.sort(function(t,e){return t[0]-e[0]||t[1]-e[1]});for(var r=0;r<e.length-1;)Math.abs(e[r][0]-e[r+1][0])<1e-4&&Math.abs(e[r][1]-e[r+1][1])<1e-4?e.splice(r+1,1):r++;var i=d3.voronoi().extent([n[0],n[2]]).polygons(e).map(function(t,n){return{data:t,series:e[n][2],point:e[n][3]}}),o=dt.selectAll("path").data(i).enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+p+"-"+e+")"});if(N&&o.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),O){ft.selectAll("*").remove();ft.selectAll("clipPath").data(e).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+p+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",D)}var a=function(t,e,n){if(X)return 0;var r=H[e.series];if(void 0!==r){var i=r.values[e.point];i.color=f(r,e.series),i.x=x(i),i.y=b(i);var o=v.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft,l={left:g(x(i,e.point))+o.left+s+u.left+10,top:m(b(i,e.point))+o.top+a+u.top+10};j.call(n,this,{point:i,series:r,pos:l,relativePos:[g(x(i,e.point))+u.left,m(b(i,e.point))+u.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};o.on("click",function(t){a(this,t,"elementClick")}).on("dblclick",function(t){a(this,t,"elementDblClick")}).on("mouseover",function(t){a(this,t,"elementMouseover")}).on("mouseout",function(t,e){a(this,t,"elementMouseout")})}else ct.selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(X||!H[t[0].series])return 0;var n=H[t[0].series],r=n.values[e];j.call("elementClick",this,{point:r,series:n,pos:[g(x(r,e))+u.left,m(b(r,e))+u.top],relativePos:[g(x(r,e))+u.left,m(b(r,e))+u.top],seriesIndex:t[0].series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(X||!H[t[0].series])return 0;var n=H[t[0].series],r=n.values[e];j.call("elementDblClick",this,{point:r,series:n,pos:[g(x(r,e))+u.left,m(b(r,e))+u.top],relativePos:[g(x(r,e))+u.left,m(b(r,e))+u.top],seriesIndex:t[0].series,pointIndex:e})}).on("mouseover",function(t,e){if(X||!H[t[0].series])return 0;var n=H[t[0].series],r=n.values[e];j.call("elementMouseover",this,{point:r,series:n,pos:[g(x(r,e))+u.left,m(b(r,e))+u.top],relativePos:[g(x(r,e))+u.left,m(b(r,e))+u.top],seriesIndex:t[0].series,pointIndex:e,color:f(t[0],e)})}).on("mouseout",function(t,e){if(X||!H[t[0].series])return 0;var n=H[t[0].series],r=n.values[e];j.call("elementMouseout",this,{point:r,series:n,pos:[g(x(r,e))+u.left,m(b(r,e))+u.top],relativePos:[g(x(r,e))+u.left,m(b(r,e))+u.top],seriesIndex:t[0].series,pointIndex:e,color:f(t[0],e)})})}lt.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect").attr("transform","translate( -10, -10)").attr("width",K+20).attr("height",$>0?$+20:0),ut.attr("clip-path",W?"url(#nv-edge-clip-"+p+")":""),X=!0;var pt=ct.selectAll(".nv-group").data(function(t){return t},function(t){return t.key}),vt=pt.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);pt.exit().remove(),vt.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!S).classed("hover",function(t){return t.hover}),vt.watchTransition(q,"scatter: groups").style("fill",function(t,e){return f(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||h||f(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var gt=vt.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return L(t[0],e)})});if(gt.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(r){return"translate("+t.utils.NaNtoZero(e(x(r[0],r[1])))+","+t.utils.NaNtoZero(n(b(r[0],r[1])))+")"}).attr("d",t.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(k(t[0],t[1]))})),gt.exit().each(Q).remove(),pt.exit().selectAll("path.nv-point").watchTransition(q,"scatter exit").attr("transform",function(e){return"translate("+t.utils.NaNtoZero(g(x(e[0],e[1])))+","+t.utils.NaNtoZero(m(b(e[0],e[1])))+")"}).remove(),gt.filter(function(t){return U(t,"x",x,"y",b)||rt||it||ot}).watchTransition(q,"scatter points").attr("transform",function(e){return"translate("+t.utils.NaNtoZero(g(x(e[0],e[1])))+","+t.utils.NaNtoZero(m(b(e[0],e[1])))+")"}),gt.filter(function(t){return U(t,"shape",w,"size",k)||rt||it||ot}).watchTransition(q,"scatter points").attr("d",t.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(k(t[0],t[1]))})),R){var mt=pt.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return L(t[0],e)})});mt.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(r){return"translate("+(t.utils.NaNtoZero(e(x(r[0],r[1])))+Math.sqrt(y(k(r[0],r[1]))/Math.PI)+2)+","+t.utils.NaNtoZero(n(b(r[0],r[1])))+")"}).text(function(t,e){return t[0].label}),mt.exit().remove(),pt.exit().selectAll("path.nv-label").watchTransition(q,"scatter exit").attr("transform",function(e){return"translate("+(t.utils.NaNtoZero(g(x(e[0],e[1])))+Math.sqrt(y(k(e[0],e[1]))/Math.PI)+2)+","+t.utils.NaNtoZero(m(b(e[0],e[1])))+")"}).remove(),mt.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),mt.watchTransition(q,"scatter labels").text(function(t,e){return t[0].label}).attr("transform",function(e){return"translate("+(t.utils.NaNtoZero(g(x(e[0],e[1])))+Math.sqrt(y(k(e[0],e[1]))/Math.PI)+2)+","+t.utils.NaNtoZero(m(b(e[0],e[1])))+")"})}Y?(clearTimeout(l),l=setTimeout(ht,Y)):ht(),e=g.copy(),n=m.copy(),r=y.copy(),a=c,s=d}),q.renderEnd("scatter immediate"),J}return J.dispatch=j,J.options=t.utils.optionsFunc.bind(J),J._calls=new function(){this.clearHighlights=function(){return t.dom.write(function(){v.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(e,n,r){t.dom.write(function(){v.select(".nv-groups").selectAll(".nv-series-"+e).selectAll(".nv-point-"+n).classed("hover",r)})}},j.on("elementMouseover.point",function(t){S&&J._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),j.on("elementMouseout.point",function(t){S&&J._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),J._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},xScale:{get:function(){return g},set:function(t){g=t}},yScale:{get:function(){return m},set:function(t){m=t}},pointScale:{get:function(){return y},set:function(t){y=t}},xDomain:{get:function(){return T},set:function(t){T=t}},yDomain:{get:function(){return _},set:function(t){_=t}},pointDomain:{get:function(){return B},set:function(t){B=t}},xRange:{get:function(){return P},set:function(t){P=t}},yRange:{get:function(){return I},set:function(t){I=t}},pointRange:{get:function(){return V},set:function(t){V=t}},forceX:{get:function(){return M},set:function(t){M=t}},forceY:{get:function(){return A},set:function(t){A=t}},forcePoint:{get:function(){return C},set:function(t){C=t}},interactive:{get:function(){return S},set:function(t){S=t}},pointActive:{get:function(){return L},set:function(t){L=t}},padDataOuter:{get:function(){return E},set:function(t){E=t}},padData:{get:function(){return F},set:function(t){F=t}},clipEdge:{get:function(){return W},set:function(t){W=t}},clipVoronoi:{get:function(){return O},set:function(t){O=t}},clipRadius:{get:function(){return D},set:function(t){D=t}},showVoronoi:{get:function(){return N},set:function(t){N=t}},id:{get:function(){return p},set:function(t){p=t}},interactiveUpdateDelay:{get:function(){return Y},set:function(t){Y=t}},showLabels:{get:function(){return R},set:function(t){R=t}},pointBorderColor:{get:function(){return h},set:function(t){h=t}},x:{get:function(){return x},set:function(t){x="function"==typeof t?t:function(){return t}}},y:{get:function(){return b},set:function(t){b="function"==typeof t?t:function(){return t}}},pointSize:{get:function(){return k},set:function(t){k="function"==typeof t?t:function(){return t}}},pointShape:{get:function(){return w},set:function(t){w="function"==typeof t?t:function(){return t}}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return H},set:function(t){H=t,q.reset(H)}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e)}},useVoronoi:{get:function(){return G},set:function(t){!1===(G=t)&&(O=!1)}}}),t.utils.initOptions(J),J},t.models.scatterChart=function(){"use strict";var e=t.models.scatter(),n=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),r=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),i=t.models.legend(),o=t.models.distribution(),a=t.models.distribution(),s=t.models.tooltip(),l={top:30,right:20,bottom:50,left:75},u=null,c=null,d=null,f=null,h=t.utils.defaultColor(),p=e.xScale(),v=e.yScale(),g=!1,m=!1,y=!0,x=!0,b=!0,k=!1,w=t.utils.state(),M=null,A=d3.dispatch("stateChange","changeState","renderEnd"),C=null,S=250,L=d3.transition().duration(S).ease(d3.easeLinear),F=!1;e.xScale(p).yScale(v),n.tickPadding(10),r.tickPadding(10),o.axis("x"),a.axis("y"),s.headerFormatter(function(t,e){return n.tickFormat()(t,e)}).valueFormatter(function(t,e){return r.tickFormat()(t,e)});var E=t.utils.renderWatch(A,S),W=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},O=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};function N(C){return E.reset(),E.models(e),x&&E.models(n),b&&E.models(r),g&&E.models(o),m&&E.models(a),C.each(function(C){var D=this;f=d3.select(this),t.utils.initSVG(f);var T,_=t.utils.availableWidth(c,f,l),P=t.utils.availableHeight(d,f,l);if(N.update=function(){0===S?f.call(N):f.transition(L).call(N)},N.container=this,w.setter(O(C),N.update).getter(W(C)).update(),w.disabled=C.map(function(t){return!!t.disabled}),!M)for(T in M={},w)w[T]instanceof Array?M[T]=w[T].slice(0):M[T]=w[T];if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length))return t.utils.noData(N,f),E.renderEnd("scatter immediate"),N;f.selectAll(".nv-noData").remove(),p=e.xScale(),v=e.yScale();var I=f.selectAll("g.nv-wrap.nv-scatterChart").data([C]),B=I.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()).append("g"),V=I.select("g");if(B.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-scatterWrap"),B.append("g").attr("class","nv-regressionLinesWrap"),B.append("g").attr("class","nv-distWrap"),B.append("g").attr("class","nv-legendWrap"),k&&V.select(".nv-y.nv-axis").attr("transform","translate("+_+",0)"),y){var z=_;i.width(z),I.select(".nv-legendWrap").datum(C).call(i),u||i.height()===l.top||(l.top=i.height(),P=t.utils.availableHeight(d,f,l)),I.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")}else V.select(".nv-legendWrap").selectAll("*").remove();I.attr("transform","translate("+l.left+","+l.top+")"),e.width(_).height(P).color(C.map(function(t,e){return t.color=t.color||h(t,e),t.color}).filter(function(t,e){return!C[e].disabled})).showLabels(F),I.select(".nv-scatterWrap").datum(C.filter(function(t){return!t.disabled})).call(e),I.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+e.id()+")");var j=I.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});j.enter().append("g").attr("class","nv-regLines");var G=j.selectAll(".nv-regLine").data(function(t){return[t]});G.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),G.filter(function(t){return t.intercept&&t.slope}).watchTransition(E,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(t,e){return v(p.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return v(p.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return h(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),x&&(n.scale(p)._ticks(t.utils.calcTicksX(_/100,C)),n.tickSizeInner(-P),V.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")").call(n)),b&&(r.scale(v)._ticks(t.utils.calcTicksY(P/36,C)),r.tickSizeInner(-_),V.select(".nv-y.nv-axis").call(r)),o.getData(e.x()).scale(p).width(_).color(C.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!C[e].disabled})),B.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),V.select(".nv-distributionX").attr("transform","translate(0,"+v.range()[0]+")").datum(C.filter(function(t){return!t.disabled})).call(o).style("opacity",function(){return g?"1":"1e-6"}).watchTransition(E,"scatterPlusLineChart").style("opacity",function(){return g?"1":"1e-6"}),a.getData(e.y()).scale(v).width(P).color(C.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!C[e].disabled})),B.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),V.select(".nv-distributionY").attr("transform","translate("+(k?_:-a.size())+",0)").datum(C.filter(function(t){return!t.disabled})).call(a).style("opacity",function(){return m?"1":"1e-6"}).watchTransition(E,"scatterPlusLineChart").style("opacity",function(){return m?"1":"1e-6"}),i.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];A.call("stateChange",D,w),N.update()}),A.on("changeState",function(t){void 0!==t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),N.update()}),e.dispatch.on("elementMouseout.tooltip",function(t){s.hidden(!0),f.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),f.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",a.size())}),e.dispatch.on("elementMouseover.tooltip",function(t){f.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-P),f.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+o.size()),s.data(t).hidden(!1)}),p.copy(),v.copy()}),E.renderEnd("scatter with line immediate"),N}return N.dispatch=A,N.scatter=e,N.legend=i,N.xAxis=n,N.yAxis=r,N.distX=o,N.distY=a,N.tooltip=s,N.options=t.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},container:{get:function(){return f},set:function(t){f=t}},showDistX:{get:function(){return g},set:function(t){g=t}},showDistY:{get:function(){return m},set:function(t){m=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return C},set:function(t){C=t}},duration:{get:function(){return S},set:function(t){S=t,L=d3.transition().duration(S).ease(d3.easeLinear)}},showLabels:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,u=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t}},color:{get:function(){return h},set:function(e){h=t.utils.getColor(e),i.color(h),o.color(h),a.color(h)}}}),t.utils.inheritOptions(N,e),t.utils.initOptions(N),N},t.models.sparkline=function(){"use strict";var e,n,r,i,o={top:2,right:0,bottom:2,left:0},a=400,s=32,l=null,u=!0,c=d3.scaleLinear(),d=d3.scaleLinear(),f=function(t){return t.x},h=function(t){return t.y},p=t.utils.getColor(["#000"]),v=!0,g=!0,m=d3.dispatch("renderEnd"),y=t.utils.renderWatch(m);function x(u){return y.reset(),u.each(function(u){var m=a-o.left-o.right,y=s-o.top-o.bottom;l=d3.select(this),t.utils.initSVG(l),c.domain(e||d3.extent(u,f)).range(r||[0,m]),d.domain(n||d3.extent(u,h)).range(i||[y,0]);var x=l.selectAll("g.nv-wrap.nv-sparkline").data([u]),b=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");b.append("g"),x.select("g");b.attr("transform","translate("+o.left+","+o.top+")");var k=b.selectAll("path").data(function(t){return[t]});k.exit().remove();var w=k.enter().append("path");w.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.line().x(function(t,e){return c(f(t,e))}).y(function(t,e){return d(h(t,e))})),w.merge(k);var M=b.selectAll("circle.nv-point").data(function(t){var e=t.map(function(t,e){return h(t,e)});function n(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var r=n(e.lastIndexOf(d.domain()[1])),i=n(e.indexOf(d.domain()[0])),o=n(e.length-1);return[v?i:null,v?r:null,g?o:null].filter(function(t){return null!=t})});M.exit().remove();var A=M.enter().append("circle");A.attr("cx",function(t,e){return c(f(t,t.pointIndex))}).attr("cy",function(t,e){return d(h(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return f(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":h(t,t.pointIndex)==d.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"}),A.merge(M)}),y.renderEnd("sparkline immediate"),x}return x.options=t.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return i},set:function(t){i=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return d},set:function(t){d=t}},animate:{get:function(){return u},set:function(t){u=t}},showMinMaxPoints:{get:function(){return v},set:function(t){v=t}},showCurrentPoint:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return f},set:function(t){f="function"==typeof t?t:function(){return t}}},y:{get:function(){return h},set:function(t){h="function"==typeof t?t:function(){return t}}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return p},set:function(e){p=t.utils.getColor(e)}}}),x.dispatch=m,t.utils.initOptions(x),x},t.models.sparklinePlus=function(){"use strict";var e,n,r=t.models.sparkline(),i={top:15,right:100,bottom:10,left:50},o=null,a=null,s=[],l=!1,u=d3.format(",r"),c=d3.format(",.2f"),d=!0,f=!0,h=!1,p=null,v=d3.dispatch("renderEnd"),g=(d3.transition().duration(250).ease(d3.easeLinear),t.utils.renderWatch(v));function m(p){return g.reset(),g.models(r),p.each(function(p){var v=d3.select(this);t.utils.initSVG(v);var g=t.utils.availableWidth(o,v,i),y=t.utils.availableHeight(a,v,i);if(m.update=function(){v.call(m)},m.container=this,!p||!p.length)return t.utils.noData(m,v),m;v.selectAll(".nv-noData").remove();var x=r.y()(p[p.length-1],p.length-1);e=r.xScale(),n=r.yScale();var b=v.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),w=k.append("g"),M=(b.select("g"),w.append("g").attr("class","nv-sparklineWrap")),A=w.append("g").attr("class","nv-valueWrap"),C=w.append("g").attr("class","nv-hoverArea");if(k.attr("transform","translate("+i.left+","+i.top+")"),k.merge(b),r.width(g).height(y),M.call(r).merge(M),d){var S=A.selectAll(".nv-currentValue").data([x]),L=S.enter().append("text").attr("class","nv-currentValue").attr("dx",h?-8:8).attr("dy",".9em").style("text-anchor",h?"end":"start");L.attr("x",g+(h?i.right:0)).attr("y",f?function(t){return n(t)}:0).style("fill",r.color()(p[p.length-1],p.length-1)).text(c(x)),L.merge(S)}var F=C.append("rect").on("mousemove",function(){if(l)return;var t=d3.mouse(this)[0]-i.left;s=[function(t,e){for(var n=Math.abs(r.x()(t[0],0)-e),i=0,o=0;o<t.length;o++)Math.abs(r.x()(t[o],o)-e)<n&&(n=Math.abs(r.x()(t[o],o)-e),i=o);return i}(p,Math.round(e.invert(t)))],E()}).on("click",function(){l=!l}).on("mouseout",function(){s=[],E()});function E(){if(!l){var t=C.selectAll(".nv-hoverValue").data(s);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();var n=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.attr("transform",function(t){return"translate("+e(r.x()(p[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",s.length?1:0).style("fill-opacity",s.length?1:0),s.length?(n.append("line").attr("x1",0).attr("y1",-i.top).attr("x2",0).attr("y2",y),n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-i.top).attr("text-anchor","end").attr("dy",".9em"),C.select(".nv-hoverValue .nv-xValue").text(u(r.x()(p[s[0]],s[0]))),n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-i.top).attr("text-anchor","start").attr("dy",".9em"),C.select(".nv-hoverValue .nv-yValue").text(c(r.y()(p[s[0]],s[0])))):t.merge(t)}}F.attr("transform",function(t){return"translate("+-i.left+","+-i.top+")"}).attr("width",g+i.left+i.right).attr("height",y+i.top),F.merge(C)}),g.renderEnd("sparklinePlus immediate"),m}return m.dispatch=v,m.sparkline=r,m.options=t.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},xTickFormat:{get:function(){return u},set:function(t){u=t}},yTickFormat:{get:function(){return c},set:function(t){c=t}},showLastValue:{get:function(){return d},set:function(t){d=t}},alignValue:{get:function(){return f},set:function(t){f=t}},rightAlignValue:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),t.utils.inheritOptions(m,r),t.utils.initOptions(m),m},t.models.stackedArea=function(){"use strict";var e,n,r={top:0,right:0,bottom:0,left:0},i=960,o=500,a=t.utils.defaultColor(),s=Math.floor(1e5*Math.random()),l=null,u=function(t){return t.x},c=function(t){return t.y},d=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},f="stack",h=d3.stackOffsetNone,p=d3.stackOrderNone,v=d3.curveLinear,g=!1,m=t.models.scatter(),y=250,x=function(t,e,n){t.display={y:n,y0:e}},b=function(t){return n(t.display.y+t.display.y0)},k=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");m.pointSize(2.2).pointDomain([2.2,2.2]);var w=t.utils.renderWatch(k,y);function M(f){return w.reset(),w.models(m),f.each(function(f){var y=i-r.left-r.right,x=o-r.top-r.bottom;l=d3.select(this),t.utils.initSVG(l),e=m.xScale(),n=m.yScale();var A=f;f.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var C=f.filter(function(t){return!t.disabled});f=d3.stack().order(p).offset(h).value(function(t){return t.values})(C);var S=l.selectAll("g.nv-wrap.nv-stackedarea").data([f]),L=S.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),F=L.append("defs"),E=L.append("g"),W=S.select("g"),O=E.append("g").attr("class","nv-areaWrap"),N=E.append("g").attr("class","nv-scatterWrap");L.attr("transform","translate("+r.left+","+r.top+")"),0==m.forceY().length&&m.forceY().push(0),m.width(y).height(x).x(u).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(f.map(function(t,e){return t.color=t.color||a(t,t.seriesIndex),t.color})),N.datum(f).call(m),F.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),L.select("#nv-edge-clip-"+s+" rect").attr("width",y).attr("height",x).merge(S),W.attr("clip-path",g?"url(#nv-edge-clip-"+s+")":"");var D=d3.area().defined(d).x(function(t,n){return e(u(t,n))}).y0(function(t){return n(t.display.y0)}).y1(b).curve(v),T=d3.area().defined(d).x(function(t,n){return e(u(t,n))}).y0(function(t){return n(t.display.y0)}).y1(function(t){return n(t.display.y0)}),_=O.selectAll("path.nv-area").data(function(t){return t});_.exit().remove();var P=_.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return T(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),k.call("areaMouseover",this,{point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),k.call("areaMouseout",this,{point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),k.call("areaClick",this,{point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})});P.style("fill",function(t,e){return t.color||a(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||a(t,t.seriesIndex)}),P.watchTransition(w,"stackedArea path").attr("d",function(t,e){return D(t.values,e)}),P.merge(_),m.dispatch.on("elementMouseover.area",function(t){W.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){W.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),M.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,a=[];for(n=0;n<o;++n){for(e=0,r=0;e<A.length;e++)r+=c(A[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}}),w.renderEnd("stackedArea immediate"),M}return M.dispatch=k,M.scatter=m,m.dispatch.on("elementClick",function(){k.apply("elementClick",this,arguments)}),m.dispatch.on("elementMouseover",function(){k.apply("elementMouseover",this,arguments)}),m.dispatch.on("elementMouseout",function(){k.apply("elementMouseout",this,arguments)}),M.interpolate=function(t){return arguments.length?(v=t,M):v},M.duration=function(t){return arguments.length?(y=t,w.reset(y),m.duration(y),M):y},M.dispatch=k,M.scatter=m,M.options=t.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return o},set:function(t){o=t}},defined:{get:function(){return d},set:function(t){d=t}},clipEdge:{get:function(){return g},set:function(t){g=t}},offset:{get:function(){return h},set:function(t){h=t}},order:{get:function(){return p},set:function(t){p=t}},interpolate:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return u},set:function(t){u="function"==typeof t?t:function(){return t}}},y:{get:function(){return c},set:function(t){c="function"==typeof t?t:function(){return t}}},areaY1:{get:function(){return b},set:function(t){b="function"==typeof t?t:function(){return t}}},transformData:{get:function(){return x},set:function(t){x="function"==typeof t?t:function(){return t}}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return a},set:function(e){a=t.utils.getColor(e)}},style:{get:function(){return f},set:function(t){switch(f=t){case"stack":M.offset("zero"),M.order("default");break;case"stream":M.offset("wiggle"),M.order("inside-out");break;case"stream_center":M.offset("silhouette"),M.order("inside-out");break;case"expand":M.offset("expand"),M.order("default");break;case"stack_percent":M.offset(M.d3_stackedOffset_stackPercent),M.order("default")}}},duration:{get:function(){return y},set:function(t){y=t,w.reset(y),m.duration(y)}}}),t.utils.inheritOptions(M,m),t.utils.initOptions(M),M},t.models.stackedAreaChart=function(){"use strict";var e,n,r=t.models.stackedArea(),i=t.models.axis(d3.axisBottom(d3.scaleLinear()),"bottom"),o=t.models.axis(d3.axisLeft(d3.scaleLinear()),"left"),a=t.models.legend(),s=t.models.legend(),l=t.interactiveGuideline(),u=t.models.tooltip(),c=t.models.focus(t.models.stackedArea()),d={top:10,right:25,bottom:50,left:60},f=null,h=null,p=null,v=t.utils.defaultColor(),g=!0,m=!0,y="top",x=!0,b=!0,k=!1,w=!1,M=!1,A=!0,C="TOTAL",S=t.utils.state(),L=null,F=null,E=d3.dispatch("stateChange","changeState","renderEnd"),W=250,O=["Stacked","Stream","Expanded"],N={},D=250,T=d3.transition().duration(D).ease(d3.easeLinear);S.style=r.style(),i.tickPadding(7),u.headerFormatter(function(t,e){return i.tickFormat()(t,e)}).valueFormatter(function(t,e){return o.tickFormat()(t,e)}),l.tooltip.headerFormatter(function(t,e){return i.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)});var _=null,P=null;s.updateState(!1);var I=t.utils.renderWatch(E),B=(r.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:r.style()}}}),V=function(t){return function(e){void 0!==e.style&&e.style,void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},z=d3.format("%");function j(u){return I.reset(),I.models(r),x&&I.models(i),b&&I.models(o),u.each(function(u){var F=d3.select(this),D=this;t.utils.initSVG(F);var I,G=t.utils.availableWidth(h,F,d),H=t.utils.availableHeight(p,F,d)-(w?c.height():0);if(j.update=function(){F.transition(T).call(j)},j.container=this,S.setter(V(u),j.update).getter(B(u)).update(),S.disabled=u.map(function(t){return!!t.disabled}),!L)for(I in L={},S)S[I]instanceof Array?L[I]=S[I].slice(0):L[I]=S[I];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return t.utils.noData(j,F),j;F.selectAll(".nv-noData").remove(),e=r.xScale(),n=r.yScale();var Y=F.selectAll("g.nv-wrap.nv-stackedAreaChart").data([u]),R=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),X=Y.select("g");R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap");var q=R.append("g").attr("class","nv-focus");q.append("g").attr("class","nv-background").append("rect"),q.append("g").attr("class","nv-x nv-axis"),q.append("g").attr("class","nv-y nv-axis"),q.append("g").attr("class","nv-stackedWrap"),q.append("g").attr("class","nv-interactive");R.append("g").attr("class","nv-focusWrap");if(m){var Z=g&&"top"===y?G-W:G;if(a.width(Z),X.select(".nv-legendWrap").datum(u).call(a),"bottom"===y){var K=i.height();d.bottom=Math.max(a.height()+K,d.bottom);var Q=(H=t.utils.availableHeight(p,F,d)-(w?c.height():0))+K;X.select(".nv-legendWrap").attr("transform","translate(0,"+Q+")")}else"top"===y&&(f||d.top==a.height()||(d.top=a.height(),H=t.utils.availableHeight(p,F,d)-(w?c.height():0)),X.select(".nv-legendWrap").attr("transform","translate("+(G-Z)+","+-d.top+")"))}else X.select(".nv-legendWrap").selectAll("*").remove();if(g){var U=[{key:N.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=r.style(),style:"stack"},{key:N.stream||"Stream",metaKey:"Stream",disabled:"stream"!=r.style(),style:"stream"},{key:N.stream_center||"Stream Center",metaKey:"Stream_Center",disabled:"stream_center"!=r.style(),style:"stream_center"},{key:N.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=r.style(),style:"expand"},{key:N.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=r.style(),style:"stack_percent"}];W=O.length/3*260,U=U.filter(function(t){return-1!==O.indexOf(t.metaKey)}),s.width(W).color(["#444","#444","#444"]),X.select(".nv-controlsWrap").datum(U).call(s);var J=Math.max(s.height(),m&&"top"===y?a.height():0);d.top!=J&&(d.top=J,H=t.utils.availableHeight(p,F,d)-(w?c.height():0)),X.select(".nv-controlsWrap").attr("transform","translate(0,"+-d.top+")")}else X.select(".nv-controlsWrap").selectAll("*").remove();Y.attr("transform","translate("+d.left+","+d.top+")"),k&&X.select(".nv-y.nv-axis").attr("transform","translate("+G+",0)"),M&&(l.width(G).height(H).margin({left:d.left,top:d.top}).svgContainer(F).xScale(e),Y.select(".nv-interactive").call(l)),X.select(".nv-focus .nv-background rect").attr("width",G).attr("height",H),r.width(G).height(H).color(u.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!u[e].disabled}));var $,tt=X.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}));(x&&(i.scale(e)._ticks(t.utils.calcTicksX(G/100,u)),i.tickSizeInner(-H)),b)&&($="wiggle"===r.offset()?0:t.utils.calcTicksY(H/36,u),o.scale(n)._ticks($),o.tickSizeInner(-G));function et(){x&&X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+H+")").transition(T).call(i)}function nt(){if(b){if("expand"===r.style()||"stack_percent"===r.style()){var t=o.tickFormat();_&&t===z||(_=t),o.tickFormat(z)}else _&&(o.tickFormat(_),_=null);X.select(".nv-focus .nv-y.nv-axis").transition().call(o)}}if(w){c.width(G),X.select(".nv-focusWrap").attr("transform","translate(0,"+(H+d.bottom+c.margin().top)+")").datum(u.filter(function(t){return!t.disabled})).call(c);var rt=null==d3.event||null===d3.event.selection?c.xDomain():c.brush.extent();null!==rt&&it(rt)}else tt.call(r),et(),nt();function it(t){X.select(".nv-focus .nv-stackedWrap").datum(u.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,n){return r.x()(e,n)>=t[0]&&r.x()(e,n)<=t[1]}),disableTooltip:e.disableTooltip}})).transition(T).call(r),et(),nt()}r.dispatch.on("areaClick.toggle",function(t){1===u.filter(function(t){return!t.disabled}).length?u.forEach(function(t){t.disabled=!1}):u.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),S.disabled=u.map(function(t){return!!t.disabled}),E.call("stateChange",D,S),j.update()}),a.dispatch.on("stateChange",function(t){for(var e in t)S[e]=t[e];E.call("stateChange",D,S),j.update()}),s.dispatch.on("legendClick",function(t,e){t.disabled&&(U=U.map(function(t){return t.disabled=!0,t}),t.disabled=!1,r.style(t.style),S.style=r.style(),E.call("stateChange",D,S),j.update())}),l.dispatch.on("elementMousemove",function(e){r.clearHighlights();var n,i,o,a=[],s=0,c=!0,d=!1;if(u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(l,f){i=t.interactiveBisect(l.values,e.pointXValue,j.x());var h=l.values[i],p=j.y()(h,i);if(null!=p&&p>0&&(r.highlightPoint(f,i,!0),d=!0),f!==u.length-1||d||r.highlightPoint(f,i,!0),void 0!==h){void 0===n&&(n=h),void 0===o&&(o=j.xScale()(j.x()(h,i)));var g="expand"==r.style()?h.display.y:j.y()(h,i);a.push({key:l.key,value:g,color:v(l,l.seriesIndex),point:h}),A&&"expand"!=r.style()&&null!=g&&(s+=g,c=!1)}}),a.reverse(),a.length>2){var f=j.yScale().invert(e.mouseY),h=null;a.forEach(function(t,e){f=Math.abs(f);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);f>=n&&f<=r+n&&(h=e)}),null!=h&&(a[h].highlight=!0)}A&&"expand"!=r.style()&&a.length>=2&&!c&&a.push({key:C,value:s,total:!0});var p=j.x()(n,i),g=l.tooltip.valueFormatter();"expand"===r.style()||"stack_percent"===r.style()?(P||(P=g),g=d3.format(".1%")):P&&(g=P,P=null),l.tooltip.valueFormatter(g).data({value:p,series:a})(),l.renderGuideLine(o)}),l.dispatch.on("elementMouseout",function(t){r.clearHighlights()}),c.dispatch.on("onBrush",function(t){it(t)}),E.on("changeState",function(t){void 0!==t.disabled&&u.length===t.disabled.length&&(u.forEach(function(e,n){e.disabled=t.disabled[n]}),S.disabled=t.disabled),void 0!==t.style&&(r.style(t.style),t.style),j.update()})}),I.renderEnd("stacked Area chart immediate"),j}return r.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=r.x()(t.point),t.point.y=r.y()(t.point),u.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),j.dispatch=E,j.stacked=r,j.legend=a,j.controls=s,j.xAxis=i,j.x2Axis=c.xAxis,j.yAxis=o,j.y2Axis=c.yAxis,j.interactiveLayer=l,j.tooltip=u,j.focus=c,j.dispatch=E,j.options=t.utils.optionsFunc.bind(j),j._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return L},set:function(t){L=t}},noData:{get:function(){return F},set:function(t){F=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return N},set:function(t){N=t}},controlOptions:{get:function(){return O},set:function(t){O=t}},showTotalInTooltip:{get:function(){return A},set:function(t){A=t}},totalLabel:{get:function(){return C},set:function(t){C=t}},focusEnable:{get:function(){return w},set:function(t){w=t}},focusHeight:{get:function(){return c.height()},set:function(t){c.height(t)}},brushExtent:{get:function(){return c.brushExtent()},set:function(t){c.brushExtent(t)}},margin:{get:function(){return d},set:function(t){void 0!==t.top&&(d.top=t.top,f=t.top),d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},focusMargin:{get:function(){return c.margin},set:function(t){c.margin.top=void 0!==t.top?t.top:c.margin.top,c.margin.right=void 0!==t.right?t.right:c.margin.right,c.margin.bottom=void 0!==t.bottom?t.bottom:c.margin.bottom,c.margin.left=void 0!==t.left?t.left:c.margin.left}},duration:{get:function(){return D},set:function(t){D=t,I.reset(D),T=d3.transition().duration(D).ease(d3.easeLinear),r.duration(D),i.duration(D),o.duration(D)}},color:{get:function(){return v},set:function(e){v=t.utils.getColor(e),a.color(v),r.color(v),c.color(v)}},x:{get:function(){return r.x()},set:function(t){r.x(t),c.x(t)}},y:{get:function(){return r.y()},set:function(t){r.y(t),c.y(t)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t}},useInteractiveGuideline:{get:function(){return M},set:function(t){M=!!t,j.interactive(!t),j.useVoronoi(!t),r.scatter.interactive(!t)}}}),t.utils.inheritOptions(j,r),t.utils.initOptions(j),j},t.models.stackedAreaWithFocusChart=function(){return t.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},t.models.sunburst=function(){"use strict";var e,n,r,i,o={top:0,right:0,bottom:0,left:0},a=600,s=600,l="count",u={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},c=Math.floor(1e4*Math.random()),d=null,f=t.utils.defaultColor(),h=!1,p=function(t){return"count"===l?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},v=.02,g=function(t,e){return t.name>e.name},m=function(t,e){return void 0!==t.parent?t.name+"-"+t.parent.name+"-"+e:t.name},y=!0,x=500,b=d3.transition().duration(x).ease(d3.easeLinear),k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),w=d3.scaleLinear().range([0,2*Math.PI]),M=d3.scaleSqrt(),A=d3.partition(),C={},S=d3.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,w(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,w(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,M(t.y))}).outerRadius(function(t){return Math.max(0,M(t.y+t.dy))});function L(t){return F(t)>90?180:0}function F(t){return(Math.max(0,Math.min(2*Math.PI,w(t.x)))+Math.max(0,Math.min(2*Math.PI,w(t.x+t.dx))))/2*(180/Math.PI)-90}function E(t){var e=Math.max(0,Math.min(2*Math.PI,w(t.x)));return Math.max(0,Math.min(2*Math.PI,w(t.x+t.dx)))-e>v}function W(t,n){var r=d3.interpolate(w.domain(),[e.x,e.x+e.dx]),o=d3.interpolate(M.domain(),[e.y,1]),a=d3.interpolate(M.range(),[e.y?20:0,i]);return 0===n?function(){return S(t)}:function(e){return w.domain(r(e)),M.domain(o(e)).range(a(e)),S(t)}}function O(t){var e=d3.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var r=e(n);return t.x0=r.x,t.dx0=r.dx,t.y0=r.y,t.dy0=r.dy,S(r)}}function N(t){t.forEach(function(t){var e=m(t),n=C[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),function(t){var e=m(t);C[e]||(C[e]={});var n=C[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)})}function D(t){var n=d.selectAll("text"),r=d.selectAll("path");n.transition().attr("opacity",0),e=t,r.transition(b).attrTween("d",W).each("end",function(e){e.x>=t.x&&e.x<t.x+t.dx&&(e.depth>=t.depth&&d3.select(this.parentNode).select("text").transition(b).text(function(t){return p(t)}).attr("opacity",function(t){return E(t)?1:0}).attr("transform",function(){var n=this.getBBox().width;if(0===e.depth)return"translate("+n/2*-1+",0)";if(e.depth===t.depth)return"translate("+(M(e.y)+5)+",0)";var r=F(e),i=L(e);return 0===i?"rotate("+r+")translate("+(M(e.y)+5)+",0)":"rotate("+r+")translate("+(M(e.y)+n+5)+",0)rotate("+i+")"}))})}var T=t.utils.renderWatch(k);function _(e){return T.reset(),e.each(function(e){d=d3.select(this),n=t.utils.availableWidth(a,d,o),r=t.utils.availableHeight(s,d,o),i=Math.min(n,r)/2,M.range([0,i]);var v=d.select("g.nvd3.nv-wrap.nv-sunburst");v[0][0]?v.attr("transform","translate("+(n/2+o.left+o.right)+","+(r/2+o.top+o.bottom)+")"):v=d.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+c).attr("transform","translate("+(n/2+o.left+o.right)+","+(r/2+o.top+o.bottom)+")"),d.on("click",function(t,e){k.call("chartClick",this,{data:t,index:e,pos:d3.event,id:c})}),A.value(u[l]||u.count);var g=A.nodes(e[0]).reverse();N(g);var x=v.selectAll(".arc-container").data(g,m);x.enter().append("g").attr("class","arc-container").append("path").attr("d",S).style("fill",function(t){return t.color?t.color:f(y?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",function(t,e){D(t),k.call("elementClick",this,{data:t,index:e})}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("opacity",.8),k.call("elementMouseover",this,{data:t,color:d3.select(this).style("fill"),percent:function(t){var e=Math.max(0,Math.min(2*Math.PI,w(t.x)));return(Math.max(0,Math.min(2*Math.PI,w(t.x+t.dx)))-e)/(2*Math.PI)}(t)})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),k.call("elementMouseout",this,{data:t})}).on("mousemove",function(t,e){k.call("elementMousemove",this,{data:t})}),x.each(function(t){d3.select(this).select("path").transition(b).attrTween("d",O)}),h&&(x.selectAll("text").remove(),x.append("text").text(function(t){return p(t)}).transition(b).attr("opacity",function(t){return E(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=F(t),r=L(t);return 0===r?"rotate("+n+")translate("+(M(t.y)+5)+",0)":"rotate("+n+")translate("+(M(t.y)+e+5)+",0)rotate("+r+")"})),D(g[g.length-1]),x.exit().transition(b).attr("opacity",0).each("end",function(t){var e=m(t);C[e]=void 0}).remove()}),T.renderEnd("sunburst immediate"),_}return _.dispatch=k,_.options=t.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return s},set:function(t){s=t}},mode:{get:function(){return l},set:function(t){l=t}},id:{get:function(){return c},set:function(t){c=t}},duration:{get:function(){return x},set:function(t){x=t,b=d3.transition().duration(x).ease(d3.easeLinear)}},groupColorByParent:{get:function(){return y},set:function(t){y=!!t}},showLabels:{get:function(){return h},set:function(t){h=!!t}},labelFormat:{get:function(){return p},set:function(t){p=t}},labelThreshold:{get:function(){return v},set:function(t){v=t}},sort:{get:function(){return g},set:function(t){g=t}},key:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=null!=t.top?t.top:o.top,o.right=null!=t.right?t.right:o.right,o.bottom=null!=t.bottom?t.bottom:o.bottom,o.left=null!=t.left?t.left:o.left}},color:{get:function(){return f},set:function(e){f=t.utils.getColor(e)}}}),t.utils.initOptions(_),_},t.models.sunburstChart=function(){"use strict";var e=t.models.sunburst(),n=t.models.tooltip(),r={top:30,right:20,bottom:20,left:20},i=null,o=null,a=t.utils.defaultColor(),s=!1,l=(Math.round(1e5*Math.random()),null),u=null,c=250,d=d3.transition().duration(c).ease(d3.easeLinear),f=d3.dispatch("stateChange","changeState","renderEnd"),h=t.utils.renderWatch(f);function p(n){return h.reset(),h.models(e),n.each(function(n){var a=d3.select(this);t.utils.initSVG(a);var s=t.utils.availableWidth(i,a,r),l=t.utils.availableHeight(o,a,r);if(p.update=function(){0===c?a.call(p):a.transition(d).call(p)},p.container=a,!n||!n.length)return t.utils.noData(p,a),p;a.selectAll(".nv-noData").remove(),e.width(s).height(l).margin(r),a.call(e)}),h.renderEnd("sunburstChart immediate"),p}return n.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),e.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},s||(delete t.percent,delete t.series.percent),n.data(t).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(t){n()}),p.dispatch=f,p.sunburst=e,p.tooltip=n,p.options=t.utils.optionsFunc.bind(p),p._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return l},set:function(t){l=t}},showTooltipPercent:{get:function(){return s},set:function(t){s=t}},color:{get:function(){return a},set:function(t){a=t,e.color(a)}},duration:{get:function(){return c},set:function(t){c=t,h.reset(c),d=d3.transition().duration(c).ease(d3.easeLinear),e.duration(c)}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left,e.margin(r)}}}),t.utils.inheritOptions(p,e),t.utils.initOptions(p),p},t.version="1.8.6-dev"}();
//# sourceMappingURL=nv.d3.min.js.map